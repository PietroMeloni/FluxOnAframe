{"version":3,"sources":["../topBarAPI.js"],"names":["allowDrop","ev","preventDefault","drag","console","log","target","dataTransfer","setData","parseInt","htmlFor","match","drop","position","pickPointOnGroundPlane","x","y","canvas","AFRAME","scenes","camera","newEntity","document","createElement","object3D","set","z","inSceneEntity","addToScene","itemList","getData","getAttribute","addEventListener","flushToDOM","updateEntireLateralBar","openNav","emptyDropdownList","myNode","getElementById","firstChild","removeChild","onRadioButtonClick","radioValue","radioID","onTopBarSearchChange","search","searchPolyModels","value"],"mappings":";;AAAA,SAASA,SAAT,CAAmBC,EAAnB,EAAuB;AACnBA,OAAGC,cAAH;AACH;;AAED,SAASC,IAAT,CAAcF,EAAd,EAAkB;AACd;AACA;AACAG,YAAQC,GAAR,CAAYJ,GAAGK,MAAf;AACAL,OAAGM,YAAH,CAAgBC,OAAhB,CAAwB,WAAxB,EAAqCC,SAASR,GAAGK,MAAH,CAAUI,OAAV,CAAkBC,KAAlB,CAAwB,KAAxB,EAA+B,CAA/B,CAAT,CAArC;AAGH;;AAED,SAASC,IAAT,CAAcX,EAAd,EAAkB;;AAEd;AACAA,OAAGC,cAAH;AACA,QAAIW,WAAWC,uBAAuB;AAClCC,WAAGd,GAAGc,CAD4B;AAElCC,WAAGf,GAAGe,CAF4B;AAGlCC,gBAAQC,OAAOC,MAAP,CAAc,CAAd,EAAiBF,MAHS;AAIlCG,gBAAQF,OAAOC,MAAP,CAAc,CAAd,EAAiBC;;AAJS,KAAvB,CAAf;;AASA,QAAIC,YAAYC,SAASC,aAAT,CAAuB,UAAvB,CAAhB;;AAGAF,cAAUG,QAAV,CAAmBX,QAAnB,CAA4BY,GAA5B,CAAgCZ,SAASE,CAAzC,EAA4CF,SAASG,CAArD,EAAwDH,SAASa,CAAT,GAAa,CAArE;;AAEA,QAAIC,gBAAgBC,WAAWC,SAAS5B,GAAGM,YAAH,CAAgBuB,OAAhB,CAAwB,WAAxB,CAAT,CAAX,EAA0DT,UAAUU,YAAV,CAAuB,UAAvB,CAA1D,CAApB;;AAEAJ,kBAAcK,gBAAd,CAA+B,cAA/B,EAA+C,YAAU;AACrDL,sBAAcM,UAAd,CAAyB,IAAzB;AACA;AACA;AACAC,+BAAuBP,aAAvB;AACA;AACAQ;AAIH,KAVD;AAWA;AACA;AACA;AACH;;AAED,SAASC,iBAAT,GACA;AACI,QAAIC,SAASf,SAASgB,cAAT,CAAwB,gBAAxB,CAAb;AACA,WAAOD,OAAOE,UAAd,EAA0B;AACtBF,eAAOG,WAAP,CAAmBH,OAAOE,UAA1B;AACH;AACJ;;AAED,SAASE,kBAAT,CAA4BC,UAA5B,EAAwCC,OAAxC,EACA;AACI;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAIH;;AAED,SAASC,oBAAT,GACA;AACI,QAAIC,SAASvB,SAASgB,cAAT,CAAwB,eAAxB,CAAb;AACAQ,qBAAiBD,OAAOE,KAAxB;AACH","file":"topBarAPI.js","sourcesContent":["function allowDrop(ev) {\r\n    ev.preventDefault();\r\n}\r\n\r\nfunction drag(ev) {\r\n    //number from string thenum = \"foo3bar5\".match(/\\d+/)[0] // \"3\"\r\n    //UserAction.modelDragStart(ev.target);\r\n    console.log(ev.target);\r\n    ev.dataTransfer.setData(\"itemIndex\", parseInt(ev.target.htmlFor.match(/\\d+/)[0]));\r\n\r\n\r\n}\r\n\r\nfunction drop(ev) {\r\n\r\n    //console.log(scena.camera)\r\n    ev.preventDefault();\r\n    var position = pickPointOnGroundPlane({\r\n        x: ev.x,\r\n        y: ev.y,\r\n        canvas: AFRAME.scenes[0].canvas,\r\n        camera: AFRAME.scenes[0].camera,\r\n\r\n    })\r\n\r\n\r\n    var newEntity = document.createElement('a-entity')\r\n\r\n\r\n    newEntity.object3D.position.set(position.x, position.y, position.z - 3);\r\n\r\n    var inSceneEntity = addToScene(itemList[ev.dataTransfer.getData(\"itemIndex\")],newEntity.getAttribute(\"position\"));\r\n\r\n    inSceneEntity.addEventListener('model-loaded', function(){\r\n        inSceneEntity.flushToDOM(true);\r\n        // console.log(\"inSceneEntity.getAttribute(\\\"position\\\").x\",inSceneEntity.getAttribute(\"position\").x);\r\n        // console.log(\"inSceneEntity.getAttribute(\\\"position\\\")\",inSceneEntity.getAttribute(\"position\"));\r\n        updateEntireLateralBar(inSceneEntity);\r\n        //inSceneEntity.setAttribute(\"autoscale\", \"\");\r\n        openNav();\r\n\r\n\r\n\r\n    });\r\n    //console.log(ev.clientX, ev.clientY)\r\n    //var data = ev.dataTransfer.getData(\"text\");\r\n    //ev.target.appendChild(document.getElementById(data));\r\n}\r\n\r\nfunction emptyDropdownList()\r\n{\r\n    var myNode = document.getElementById(\"image-dropdown\");\r\n    while (myNode.firstChild) {\r\n        myNode.removeChild(myNode.firstChild);\r\n    }\r\n}\r\n\r\nfunction onRadioButtonClick(radioValue, radioID)\r\n{\r\n    // var name = \"line-style\";\r\n    // var newEntity;\r\n    // var inSceneEntity;\r\n    // //console.log(\"itemList is: \",itemList);\r\n    //\r\n    // if($(\"#\"+radioID).attr('previousValue') == 'true')\r\n    // {\r\n    //     $(\"#\"+radioID).prop('checked', false)\r\n    //     document.getElementById(\"radioLabel\"+radioValue).style.opacity = \"0.5\";\r\n    //     newEntity = document.createElement('a-entity')\r\n    //\r\n    //\r\n    //     newEntity.object3D.position.set(1,-2, -2);\r\n    //\r\n    //     inSceneEntity = addToScene(itemList[radioValue],newEntity.getAttribute(\"position\"));\r\n    //\r\n    //     inSceneEntity.addEventListener('model-loaded', function(){\r\n    //         inSceneEntity.flushToDOM(true);\r\n    //         // console.log(\"inSceneEntity.getAttribute(\\\"position\\\").x\",inSceneEntity.getAttribute(\"position\").x);\r\n    //         // console.log(\"inSceneEntity.getAttribute(\\\"position\\\")\",inSceneEntity.getAttribute(\"position\"));\r\n    //         updateEntireLateralBar(inSceneEntity);\r\n    //         updatePositionsSpinnersPositionOnly(inSceneEntity.getAttribute(\"position\"))\r\n    //         openNav();\r\n    //\r\n    //\r\n    //\r\n    //     });\r\n    //\r\n    // }\r\n    // else\r\n    // {\r\n    //     $('input[name=' + name + ']').attr('previousValue', false);\r\n    //     document.getElementById(\"radioLabel\"+radioValue).style.opacity = \"1\";\r\n    //     //console.log(\"itemList is: \",itemList);\r\n    // }\r\n    //\r\n    // $(\"#\"+radioID).attr('previousValue', $(\"#\"+radioID).prop('checked'));\r\n\r\n\r\n\r\n}\r\n\r\nfunction onTopBarSearchChange()\r\n{\r\n    var search = document.getElementById(\"topbar-search\");\r\n    searchPolyModels(search.value);\r\n}\r\n\r\n\r\n\r\n"]}