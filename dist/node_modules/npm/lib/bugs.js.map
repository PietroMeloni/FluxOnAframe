{"version":3,"sources":["../../../../node_modules/npm/lib/bugs.js"],"names":["module","exports","bugs","log","require","openUrl","fetchPackageMetadata","usage","completion","opts","cb","args","n","length","fullMetadata","er","d","url","name","silly"],"mappings":";;AAAAA,OAAOC,OAAP,GAAiBC,IAAjB;;AAEA,IAAIC,MAAMC,QAAQ,QAAR,CAAV;AACA,IAAIC,UAAUD,QAAQ,kBAAR,CAAd;AACA,IAAIE,uBAAuBF,QAAQ,6BAAR,CAA3B;AACA,IAAIG,QAAQH,QAAQ,eAAR,CAAZ;;AAEAF,KAAKK,KAAL,GAAaA,MACX,MADW,EAEX,sBAFW,CAAb;;AAKAL,KAAKM,UAAL,GAAkB,UAAUC,IAAV,EAAgBC,EAAhB,EAAoB;AACpC;AACA;AACAA;AACD,CAJD;;AAMA,SAASR,IAAT,CAAeS,IAAf,EAAqBD,EAArB,EAAyB;AACvB,MAAIE,IAAID,KAAKE,MAAL,GAAcF,KAAK,CAAL,CAAd,GAAwB,GAAhC;AACAL,uBAAqBM,CAArB,EAAwB,GAAxB,EAA6B,EAACE,cAAc,IAAf,EAA7B,EAAmD,UAAUC,EAAV,EAAcC,CAAd,EAAiB;AAClE,QAAID,EAAJ,EAAQ,OAAOL,GAAGK,EAAH,CAAP;;AAER,QAAIE,MAAMD,EAAEd,IAAF,KAAY,OAAOc,EAAEd,IAAT,KAAkB,QAAnB,GAA+Bc,EAAEd,IAAjC,GAAwCc,EAAEd,IAAF,CAAOe,GAA1D,CAAV;AACA,QAAI,CAACA,GAAL,EAAU;AACRA,YAAM,mCAAmCD,EAAEE,IAA3C;AACD;AACDf,QAAIgB,KAAJ,CAAU,MAAV,EAAkB,KAAlB,EAAyBF,GAAzB;AACAZ,YAAQY,GAAR,EAAa,yCAAb,EAAwDP,EAAxD;AACD,GATD;AAUD","file":"bugs.js","sourcesContent":["module.exports = bugs\n\nvar log = require('npmlog')\nvar openUrl = require('./utils/open-url')\nvar fetchPackageMetadata = require('./fetch-package-metadata.js')\nvar usage = require('./utils/usage')\n\nbugs.usage = usage(\n  'bugs',\n  'npm bugs [<pkgname>]'\n)\n\nbugs.completion = function (opts, cb) {\n  // FIXME: there used to be registry completion here, but it stopped making\n  // sense somewhere around 50,000 packages on the registry\n  cb()\n}\n\nfunction bugs (args, cb) {\n  var n = args.length ? args[0] : '.'\n  fetchPackageMetadata(n, '.', {fullMetadata: true}, function (er, d) {\n    if (er) return cb(er)\n\n    var url = d.bugs && ((typeof d.bugs === 'string') ? d.bugs : d.bugs.url)\n    if (!url) {\n      url = 'https://www.npmjs.org/package/' + d.name\n    }\n    log.silly('bugs', 'url', url)\n    openUrl(url, 'bug list available at the following URL', cb)\n  })\n}\n"]}