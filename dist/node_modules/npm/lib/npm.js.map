{"version":3,"sources":["../../../../node_modules/npm/lib/npm.js"],"names":["WScript","echo","quit","unsupported","require","checkForBrokenNode","gfs","fs","gracefulify","EventEmitter","npm","module","exports","npmconf","log","inspect","process","on","level","apply","slice","call","arguments","ex","verbose","message","path","abbrev","which","glob","rimraf","lazyProperty","parseJSON","clientConfig","aliases","cmdList","plumbing","output","startMetrics","start","perf","emit","name","finished","timing","config","loaded","get","Error","set","commands","limit","fetch","action","lockfileVersion","rollbacks","j","readFileSync","join","__dirname","version","info","er","commandCache","aliasNames","Object","keys","littleGuys","fullList","concat","filter","c","indexOf","abbrevs","registryRefer","registryLoaded","forEach","addCommand","defineProperty","a","deref","command","cmd","args","Array","prototype","length","push","defaultCb","unshift","arg","test","error","map","match","registry","refer","k","enumerable","configurable","replace","b","toUpperCase","data","disableProgress","console","stack","m","toLowerCase","loading","loadErr","loadListeners","loadCb","cb","nextTick","bind","load","cli","cb_","onload","warn","err","pause","argv","node","execPath","installPrefix","resolve","builtin","sources","project","type","localPrefix","ua","platform","arch","color","heading","stream","stdout","isTTY","env","enableColor","disableColor","enableUnicode","disableUnicode","stderr","enableProgress","cache","files","sync","splice","resume","umask","modes","exec","parseInt","file","gp","getOwnPropertyDescriptor","lp","scopeifyScope","projectScope","getProjectScope","prefix","RegClient","globalPrefix","r","globalBin","root","globalDir","dir","tmpFolder","rand","randomBytes","toString","pid","getOwnPropertyNames","n","hasOwnProperty","isArray","pop","main","scope","pkg","JSON","parse","sep"],"mappings":"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","file":"npm.js","sourcesContent":[";(function () {\n  // windows: running 'npm blah' in this folder will invoke WSH, not node.\n  /* globals WScript */\n  if (typeof WScript !== 'undefined') {\n    WScript.echo(\n      'npm does not work when run\\n' +\n      'with the Windows Scripting Host\\n\\n' +\n      '\"cd\" to a different directory,\\n' +\n      'or type \"npm.cmd <args>\",\\n' +\n      'or type \"node npm <args>\".'\n    )\n    WScript.quit(1)\n    return\n  }\n\n  var unsupported = require('../lib/utils/unsupported.js')\n  unsupported.checkForBrokenNode()\n\n  var gfs = require('graceful-fs')\n  // Patch the global fs module here at the app level\n  var fs = gfs.gracefulify(require('fs'))\n\n  var EventEmitter = require('events').EventEmitter\n  var npm = module.exports = new EventEmitter()\n  var npmconf = require('./config/core.js')\n  var log = require('npmlog')\n  var inspect = require('util').inspect\n\n  // capture global logging\n  process.on('log', function (level) {\n    try {\n      return log[level].apply(log, [].slice.call(arguments, 1))\n    } catch (ex) {\n      log.verbose('attempt to log ' + inspect(arguments) + ' crashed: ' + ex.message)\n    }\n  })\n\n  var path = require('path')\n  var abbrev = require('abbrev')\n  var which = require('which')\n  var glob = require('glob')\n  var rimraf = require('rimraf')\n  var lazyProperty = require('lazy-property')\n  var parseJSON = require('./utils/parse-json.js')\n  var clientConfig = require('./config/reg-client.js')\n  var aliases = require('./config/cmd-list').aliases\n  var cmdList = require('./config/cmd-list').cmdList\n  var plumbing = require('./config/cmd-list').plumbing\n  var output = require('./utils/output.js')\n  var startMetrics = require('./utils/metrics.js').start\n  var perf = require('./utils/perf.js')\n\n  perf.emit('time', 'npm')\n  perf.on('timing', function (name, finished) {\n    log.timing(name, 'Completed in', finished + 'ms')\n  })\n\n  npm.config = {\n    loaded: false,\n    get: function () {\n      throw new Error('npm.load() required')\n    },\n    set: function () {\n      throw new Error('npm.load() required')\n    }\n  }\n\n  npm.commands = {}\n\n  // TUNING\n  npm.limit = {\n    fetch: 10,\n    action: 50\n  }\n  // ***\n\n  npm.lockfileVersion = 1\n\n  npm.rollbacks = []\n\n  try {\n    // startup, ok to do this synchronously\n    var j = parseJSON(fs.readFileSync(\n      path.join(__dirname, '../package.json')) + '')\n    npm.name = j.name\n    npm.version = j.version\n  } catch (ex) {\n    try {\n      log.info('error reading version', ex)\n    } catch (er) {}\n    npm.version = ex\n  }\n\n  var commandCache = {}\n  var aliasNames = Object.keys(aliases)\n\n  var littleGuys = [ 'isntall', 'verison' ]\n  var fullList = cmdList.concat(aliasNames).filter(function (c) {\n    return plumbing.indexOf(c) === -1\n  })\n  var abbrevs = abbrev(fullList)\n\n  // we have our reasons\n  fullList = npm.fullList = fullList.filter(function (c) {\n    return littleGuys.indexOf(c) === -1\n  })\n\n  var registryRefer\n  var registryLoaded\n\n  Object.keys(abbrevs).concat(plumbing).forEach(function addCommand (c) {\n    Object.defineProperty(npm.commands, c, { get: function () {\n      if (!loaded) {\n        throw new Error(\n          'Call npm.load(config, cb) before using this command.\\n' +\n            'See the README.md or bin/npm-cli.js for example usage.'\n        )\n      }\n      var a = npm.deref(c)\n      if (c === 'la' || c === 'll') {\n        npm.config.set('long', true)\n      }\n\n      npm.command = c\n      if (commandCache[a]) return commandCache[a]\n\n      var cmd = require(path.join(__dirname, a + '.js'))\n\n      commandCache[a] = function () {\n        var args = Array.prototype.slice.call(arguments, 0)\n        if (typeof args[args.length - 1] !== 'function') {\n          args.push(defaultCb)\n        }\n        if (args.length === 1) args.unshift([])\n\n        // Options are prefixed by a hyphen-minus (-, \\u2d).\n        // Other dash-type chars look similar but are invalid.\n        Array(args[0]).forEach(function (arg) {\n          if (/^[\\u2010-\\u2015\\u2212\\uFE58\\uFE63\\uFF0D]/.test(arg)) {\n            log.error('arg', 'Argument starts with non-ascii dash, this is probably invalid:', arg)\n          }\n        })\n\n        if (!registryRefer) {\n          registryRefer = [a].concat(args[0]).map(function (arg) {\n            // exclude anything that might be a URL, path, or private module\n            // Those things will always have a slash in them somewhere\n            if (arg && arg.match && arg.match(/\\/|\\\\/)) {\n              return '[REDACTED]'\n            } else {\n              return arg\n            }\n          }).filter(function (arg) {\n            return arg && arg.match\n          }).join(' ')\n          if (registryLoaded) npm.registry.refer = registryRefer\n        }\n\n        cmd.apply(npm, args)\n      }\n\n      Object.keys(cmd).forEach(function (k) {\n        commandCache[a][k] = cmd[k]\n      })\n\n      return commandCache[a]\n    },\n    enumerable: fullList.indexOf(c) !== -1,\n    configurable: true })\n\n    // make css-case commands callable via camelCase as well\n    if (c.match(/-([a-z])/)) {\n      addCommand(c.replace(/-([a-z])/g, function (a, b) {\n        return b.toUpperCase()\n      }))\n    }\n  })\n\n  function defaultCb (er, data) {\n    log.disableProgress()\n    if (er) console.error(er.stack || er.message)\n    else output(data)\n  }\n\n  npm.deref = function (c) {\n    if (!c) return ''\n    if (c.match(/[A-Z]/)) {\n      c = c.replace(/([A-Z])/g, function (m) {\n        return '-' + m.toLowerCase()\n      })\n    }\n    if (plumbing.indexOf(c) !== -1) return c\n    var a = abbrevs[c]\n    while (aliases[a]) {\n      a = aliases[a]\n    }\n    return a\n  }\n\n  var loaded = false\n  var loading = false\n  var loadErr = null\n  var loadListeners = []\n\n  function loadCb (er) {\n    loadListeners.forEach(function (cb) {\n      process.nextTick(cb.bind(npm, er, npm))\n    })\n    loadListeners.length = 0\n  }\n\n  npm.load = function (cli, cb_) {\n    if (!cb_ && typeof cli === 'function') {\n      cb_ = cli\n      cli = {}\n    }\n    if (!cb_) cb_ = function () {}\n    if (!cli) cli = {}\n    loadListeners.push(cb_)\n    if (loaded || loadErr) return cb(loadErr)\n    if (loading) return\n    loading = true\n    var onload = true\n\n    function cb (er) {\n      if (loadErr) return\n      loadErr = er\n      if (er) return cb_(er)\n      if (npm.config.get('force')) {\n        log.warn('using --force', 'I sure hope you know what you are doing.')\n      }\n      npm.config.loaded = true\n      loaded = true\n      loadCb(loadErr = er)\n      onload = onload && npm.config.get('onload-script')\n      if (onload) {\n        try {\n          require(onload)\n        } catch (err) {\n          log.warn('onload-script', 'failed to require onload script', onload)\n          log.warn('onload-script', err)\n        }\n        onload = false\n      }\n    }\n\n    log.pause()\n\n    load(npm, cli, cb)\n  }\n\n  function load (npm, cli, cb) {\n    which(process.argv[0], function (er, node) {\n      if (!er && node.toUpperCase() !== process.execPath.toUpperCase()) {\n        log.verbose('node symlink', node)\n        process.execPath = node\n        process.installPrefix = path.resolve(node, '..', '..')\n      }\n\n      // look up configs\n      var builtin = path.resolve(__dirname, '..', 'npmrc')\n      npmconf.load(cli, builtin, function (er, config) {\n        if (er === config) er = null\n\n        npm.config = config\n        if (er) return cb(er)\n\n        // if the 'project' config is not a filename, and we're\n        // not in global mode, then that means that it collided\n        // with either the default or effective userland config\n        if (!config.get('global') &&\n            config.sources.project &&\n            config.sources.project.type !== 'ini') {\n          log.verbose(\n            'config',\n            'Skipping project config: %s. (matches userconfig)',\n            config.localPrefix + '/.npmrc'\n          )\n        }\n\n        // Include npm-version and node-version in user-agent\n        var ua = config.get('user-agent') || ''\n        ua = ua.replace(/\\{node-version\\}/gi, process.version)\n        ua = ua.replace(/\\{npm-version\\}/gi, npm.version)\n        ua = ua.replace(/\\{platform\\}/gi, process.platform)\n        ua = ua.replace(/\\{arch\\}/gi, process.arch)\n        config.set('user-agent', ua)\n\n        if (config.get('metrics-registry') == null) {\n          config.set('metrics-registry', config.get('registry'))\n        }\n\n        var color = config.get('color')\n\n        if (npm.config.get('timing') && npm.config.get('loglevel') === 'notice') {\n          log.level = 'timing'\n        } else {\n          log.level = config.get('loglevel')\n        }\n        log.heading = config.get('heading') || 'npm'\n        log.stream = config.get('logstream')\n\n        switch (color) {\n          case 'always':\n            npm.color = true\n            break\n          case false:\n            npm.color = false\n            break\n          default:\n            npm.color = process.stdout.isTTY && process.env['TERM'] !== 'dumb'\n            break\n        }\n        if (npm.color) {\n          log.enableColor()\n        } else {\n          log.disableColor()\n        }\n\n        if (config.get('unicode')) {\n          log.enableUnicode()\n        } else {\n          log.disableUnicode()\n        }\n\n        if (config.get('progress') && process.stderr.isTTY && process.env['TERM'] !== 'dumb') {\n          log.enableProgress()\n        } else {\n          log.disableProgress()\n        }\n\n        glob(path.resolve(npm.cache, '_logs', '*-debug.log'), function (er, files) {\n          if (er) return cb(er)\n\n          while (files.length >= npm.config.get('logs-max')) {\n            rimraf.sync(files[0])\n            files.splice(0, 1)\n          }\n        })\n\n        log.resume()\n\n        var umask = npm.config.get('umask')\n        npm.modes = {\n          exec: parseInt('0777', 8) & (~umask),\n          file: parseInt('0666', 8) & (~umask),\n          umask: umask\n        }\n\n        var gp = Object.getOwnPropertyDescriptor(config, 'globalPrefix')\n        Object.defineProperty(npm, 'globalPrefix', gp)\n\n        var lp = Object.getOwnPropertyDescriptor(config, 'localPrefix')\n        Object.defineProperty(npm, 'localPrefix', lp)\n\n        config.set('scope', scopeifyScope(config.get('scope')))\n        npm.projectScope = config.get('scope') ||\n         scopeifyScope(getProjectScope(npm.prefix))\n\n        // at this point the configs are all set.\n        // go ahead and spin up the registry client.\n        lazyProperty(npm, 'registry', function () {\n          registryLoaded = true\n          var RegClient = require('npm-registry-client')\n          var registry = new RegClient(clientConfig(npm, log, npm.config))\n          registry.version = npm.version\n          registry.refer = registryRefer\n          return registry\n        })\n\n        startMetrics()\n\n        return cb(null, npm)\n      })\n    })\n  }\n\n  Object.defineProperty(npm, 'prefix',\n    {\n      get: function () {\n        return npm.config.get('global') ? npm.globalPrefix : npm.localPrefix\n      },\n      set: function (r) {\n        var k = npm.config.get('global') ? 'globalPrefix' : 'localPrefix'\n        npm[k] = r\n        return r\n      },\n      enumerable: true\n    })\n\n  Object.defineProperty(npm, 'bin',\n    {\n      get: function () {\n        if (npm.config.get('global')) return npm.globalBin\n        return path.resolve(npm.root, '.bin')\n      },\n      enumerable: true\n    })\n\n  Object.defineProperty(npm, 'globalBin',\n    {\n      get: function () {\n        var b = npm.globalPrefix\n        if (process.platform !== 'win32') b = path.resolve(b, 'bin')\n        return b\n      }\n    })\n\n  Object.defineProperty(npm, 'dir',\n    {\n      get: function () {\n        if (npm.config.get('global')) return npm.globalDir\n        return path.resolve(npm.prefix, 'node_modules')\n      },\n      enumerable: true\n    })\n\n  Object.defineProperty(npm, 'globalDir',\n    {\n      get: function () {\n        return (process.platform !== 'win32')\n          ? path.resolve(npm.globalPrefix, 'lib', 'node_modules')\n          : path.resolve(npm.globalPrefix, 'node_modules')\n      },\n      enumerable: true\n    })\n\n  Object.defineProperty(npm, 'root',\n    { get: function () { return npm.dir } })\n\n  Object.defineProperty(npm, 'cache',\n    { get: function () { return npm.config.get('cache') },\n      set: function (r) { return npm.config.set('cache', r) },\n      enumerable: true\n    })\n\n  var tmpFolder\n  var rand = require('crypto').randomBytes(4).toString('hex')\n  Object.defineProperty(npm, 'tmp',\n    {\n      get: function () {\n        if (!tmpFolder) tmpFolder = 'npm-' + process.pid + '-' + rand\n        return path.resolve(npm.config.get('tmp'), tmpFolder)\n      },\n      enumerable: true\n    })\n\n  // the better to repl you with\n  Object.getOwnPropertyNames(npm.commands).forEach(function (n) {\n    if (npm.hasOwnProperty(n) || n === 'config') return\n\n    Object.defineProperty(npm, n, { get: function () {\n      return function () {\n        var args = Array.prototype.slice.call(arguments, 0)\n        var cb = defaultCb\n\n        if (args.length === 1 && Array.isArray(args[0])) {\n          args = args[0]\n        }\n\n        if (typeof args[args.length - 1] === 'function') {\n          cb = args.pop()\n        }\n        npm.commands[n](args, cb)\n      }\n    },\n    enumerable: false,\n    configurable: true })\n  })\n\n  if (require.main === module) {\n    require('../bin/npm-cli.js')\n  }\n\n  function scopeifyScope (scope) {\n    return (!scope || scope[0] === '@') ? scope : ('@' + scope)\n  }\n\n  function getProjectScope (prefix) {\n    try {\n      var pkg = JSON.parse(fs.readFileSync(path.join(prefix, 'package.json')))\n      if (typeof pkg.name !== 'string') return ''\n      var sep = pkg.name.indexOf('/')\n      if (sep === -1) return ''\n      return pkg.name.slice(0, sep)\n    } catch (ex) {\n      return ''\n    }\n  }\n})()\n"]}