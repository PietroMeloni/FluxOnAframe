'use strict';

var npm = require('../npm.js');
var output = require('./output.js');
var opener = require('opener');

// attempt to open URL in web-browser, print address otherwise:
module.exports = function open(url, errMsg, cb) {
  var browser = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : npm.config.get('browser');

  opener(url, { command: npm.config.get('browser') }, function (er) {
    if (er && er.code === 'ENOENT') {
      output(errMsg + ':\n\n' + url);
      return cb();
    } else {
      return cb(er);
    }
  });
};
//# sourceMappingURL=open-url.js.map