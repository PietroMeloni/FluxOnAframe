{"version":3,"sources":["../../../../../node_modules/npm/lib/utils/unsupported.js"],"names":["semver","require","supportedNode","ver","min","knownBroken","checkVersion","exports","version","versionNoPrerelease","replace","broken","satisfies","unsupported","map","n","join","checkForBrokenNode","nodejs","process","console","error","forEach","rel","exit","supportedMajors","checkForUnsupportedNode","log","warn"],"mappings":"AAAA;;AACA,IAAIA,SAASC,QAAQ,QAAR,CAAb;AACA,IAAIC,gBAAgB,CAClB,EAACC,KAAK,GAAN,EAAWC,KAAK,OAAhB,EADkB,EAElB,EAACD,KAAK,GAAN,EAAWC,KAAK,OAAhB,EAFkB,EAGlB,EAACD,KAAK,GAAN,EAAWC,KAAK,OAAhB,EAHkB,EAIlB,EAACD,KAAK,IAAN,EAAYC,KAAK,QAAjB,EAJkB,EAKlB,EAACD,KAAK,IAAN,EAAYC,KAAK,QAAjB,EALkB,CAApB;AAOA,IAAIC,cAAc,QAAlB;;AAEA,IAAIC,eAAeC,QAAQD,YAAR,GAAuB,UAAUE,OAAV,EAAmB;AAC3D,MAAIC,sBAAsBD,QAAQE,OAAR,CAAgB,MAAhB,EAAwB,EAAxB,CAA1B;AACA,SAAO;AACLF,aAASC,mBADJ;AAELE,YAAQX,OAAOY,SAAP,CAAiBH,mBAAjB,EAAsCJ,WAAtC,CAFH;AAGLQ,iBAAa,CAACb,OAAOY,SAAP,CAAiBH,mBAAjB,EAAsCP,cAAcY,GAAd,CAAkB,UAAUC,CAAV,EAAa;AAAE,aAAO,MAAMA,EAAEX,GAAf;AAAoB,KAArD,EAAuDY,IAAvD,CAA4D,IAA5D,CAAtC;AAHT,GAAP;AAKD,CAPD;;AASAT,QAAQU,kBAAR,GAA6B,YAAY;AACvC,MAAIC,SAASZ,aAAaa,QAAQX,OAArB,CAAb;AACA,MAAIU,OAAOP,MAAX,EAAmB;AACjBS,YAAQC,KAAR,CAAc,+CAA+CF,QAAQX,OAArE;AACAN,kBAAcoB,OAAd,CAAsB,UAAUC,GAAV,EAAe;AACnC,UAAIvB,OAAOY,SAAP,CAAiBM,OAAOV,OAAxB,EAAiCe,IAAIpB,GAArC,CAAJ,EAA+C;AAC7CiB,gBAAQC,KAAR,CAAc,aAAaE,IAAIpB,GAAjB,GAAuB,2DAArC;AACAiB,gBAAQC,KAAR,CAAc,yDAAyDE,IAAInB,GAA7D,GAAmE,cAAjF;AACAgB,gBAAQC,KAAR,CAAc,mFAAd;AACAF,gBAAQK,IAAR,CAAa,CAAb;AACD;AACF,KAPD;AAQA,QAAIC,kBAAkBvB,cAAcY,GAAd,CAAkB,UAAUC,CAAV,EAAa;AAAE,aAAOA,EAAEZ,GAAT;AAAc,KAA/C,EAAiDa,IAAjD,CAAsD,IAAtD,CAAtB;AACAI,YAAQC,KAAR,CAAc,gEAAd;AACAD,YAAQC,KAAR,CAAc,4CAA4CI,eAA5C,GAA8D,oBAA5E;AACAL,YAAQC,KAAR,CAAc,uCAAd;AACAF,YAAQK,IAAR,CAAa,CAAb;AACD;AACF,CAlBD;;AAoBAjB,QAAQmB,uBAAR,GAAkC,YAAY;AAC5C,MAAIR,SAASZ,aAAaa,QAAQX,OAArB,CAAb;AACA,MAAIU,OAAOL,WAAX,EAAwB;AACtB,QAAIc,MAAM1B,QAAQ,QAAR,CAAV;AACA,QAAIwB,kBAAkBvB,cAAcY,GAAd,CAAkB,UAAUC,CAAV,EAAa;AAAE,aAAOA,EAAEZ,GAAT;AAAc,KAA/C,EAAiDa,IAAjD,CAAsD,IAAtD,CAAtB;AACAW,QAAIC,IAAJ,CAAS,KAAT,EAAgB,kCAAkCT,QAAQX,OAA1D;AACAmB,QAAIC,IAAJ,CAAS,KAAT,EAAgB,8DAAhB;AACAD,QAAIC,IAAJ,CAAS,KAAT,EAAgB,+DAAhB;AACAD,QAAIC,IAAJ,CAAS,KAAT,EAAgB,6DAA6DH,eAA7D,GAA+E,GAA/F;AACAE,QAAIC,IAAJ,CAAS,KAAT,EAAgB,wDAAhB;AACD;AACF,CAXD","file":"unsupported.js","sourcesContent":["'use strict'\nvar semver = require('semver')\nvar supportedNode = [\n  {ver: '6', min: '6.0.0'},\n  {ver: '8', min: '8.0.0'},\n  {ver: '9', min: '9.0.0'},\n  {ver: '10', min: '10.0.0'},\n  {ver: '11', min: '11.0.0'}\n]\nvar knownBroken = '<4.7.0'\n\nvar checkVersion = exports.checkVersion = function (version) {\n  var versionNoPrerelease = version.replace(/-.*$/, '')\n  return {\n    version: versionNoPrerelease,\n    broken: semver.satisfies(versionNoPrerelease, knownBroken),\n    unsupported: !semver.satisfies(versionNoPrerelease, supportedNode.map(function (n) { return '^' + n.min }).join('||'))\n  }\n}\n\nexports.checkForBrokenNode = function () {\n  var nodejs = checkVersion(process.version)\n  if (nodejs.broken) {\n    console.error('ERROR: npm is known not to run on Node.js ' + process.version)\n    supportedNode.forEach(function (rel) {\n      if (semver.satisfies(nodejs.version, rel.ver)) {\n        console.error('Node.js ' + rel.ver + \" is supported but the specific version you're running has\")\n        console.error('a bug known to break npm. Please update to at least ' + rel.min + ' to use this')\n        console.error('version of npm. You can find the latest release of Node.js at https://nodejs.org/')\n        process.exit(1)\n      }\n    })\n    var supportedMajors = supportedNode.map(function (n) { return n.ver }).join(', ')\n    console.error(\"You'll need to upgrade to a newer version in order to use this\")\n    console.error('version of npm. Supported versions are ' + supportedMajors + '. You can find the')\n    console.error('latest version at https://nodejs.org/')\n    process.exit(1)\n  }\n}\n\nexports.checkForUnsupportedNode = function () {\n  var nodejs = checkVersion(process.version)\n  if (nodejs.unsupported) {\n    var log = require('npmlog')\n    var supportedMajors = supportedNode.map(function (n) { return n.ver }).join(', ')\n    log.warn('npm', 'npm does not support Node.js ' + process.version)\n    log.warn('npm', 'You should probably upgrade to a newer version of node as we')\n    log.warn('npm', \"can't make any promises that npm will work with this version.\")\n    log.warn('npm', 'Supported releases of Node.js are the latest release of ' + supportedMajors + '.')\n    log.warn('npm', 'You can find the latest version at https://nodejs.org/')\n  }\n}\n"]}