{"version":3,"sources":["../../../../../node_modules/npm/lib/utils/perf.js"],"names":["log","require","EventEmitter","perf","module","exports","timings","process","on","time","timeEnd","name","Date","now","emit","silly"],"mappings":"AAAA;;AACA,IAAIA,MAAMC,QAAQ,QAAR,CAAV;AACA,IAAIC,eAAeD,QAAQ,QAAR,EAAkBC,YAArC;AACA,IAAIC,OAAO,IAAID,YAAJ,EAAX;AACAE,OAAOC,OAAP,GAAiBF,IAAjB;;AAEA,IAAIG,UAAU,EAAd;;AAEAC,QAAQC,EAAR,CAAW,MAAX,EAAmBC,IAAnB;AACAF,QAAQC,EAAR,CAAW,SAAX,EAAsBE,OAAtB;;AAEAP,KAAKK,EAAL,CAAQ,MAAR,EAAgBC,IAAhB;AACAN,KAAKK,EAAL,CAAQ,SAAR,EAAmBE,OAAnB;;AAEA,SAASD,IAAT,CAAeE,IAAf,EAAqB;AACnBL,UAAQK,IAAR,IAAgBC,KAAKC,GAAL,EAAhB;AACD;;AAED,SAASH,OAAT,CAAkBC,IAAlB,EAAwB;AACtB,MAAIA,QAAQL,OAAZ,EAAqB;AACnBH,SAAKW,IAAL,CAAU,QAAV,EAAoBH,IAApB,EAA0BC,KAAKC,GAAL,KAAaP,QAAQK,IAAR,CAAvC;AACA,WAAOL,QAAQK,IAAR,CAAP;AACD,GAHD,MAGO;AACLX,QAAIe,KAAJ,CAAU,QAAV,EAAoB,wCAApB,EAA8DJ,IAA9D;AACD;AACF","file":"perf.js","sourcesContent":["'use strict'\nvar log = require('npmlog')\nvar EventEmitter = require('events').EventEmitter\nvar perf = new EventEmitter()\nmodule.exports = perf\n\nvar timings = {}\n\nprocess.on('time', time)\nprocess.on('timeEnd', timeEnd)\n\nperf.on('time', time)\nperf.on('timeEnd', timeEnd)\n\nfunction time (name) {\n  timings[name] = Date.now()\n}\n\nfunction timeEnd (name) {\n  if (name in timings) {\n    perf.emit('timing', name, Date.now() - timings[name])\n    delete timings[name]\n  } else {\n    log.silly('timing', \"Tried to end timer that doesn't exist:\", name)\n  }\n}\n"]}