{"version":3,"sources":["../../../../node_modules/npm/lib/docs.js"],"names":["module","exports","docs","openUrl","require","log","fetchPackageMetadata","usage","completion","opts","cb","args","length","pending","silly","forEach","proj","getDoc","err","project","fullMetadata","er","d","url","homepage","name"],"mappings":";;AAAAA,OAAOC,OAAP,GAAiBC,IAAjB;;AAEA,IAAIC,UAAUC,QAAQ,kBAAR,CAAd;AACA,IAAIC,MAAMD,QAAQ,QAAR,CAAV;AACA,IAAIE,uBAAuBF,QAAQ,6BAAR,CAA3B;AACA,IAAIG,QAAQH,QAAQ,eAAR,CAAZ;;AAEAF,KAAKK,KAAL,GAAaA,MACX,MADW,EAEX,uBACA,cAHW,CAAb;AAKAL,KAAKM,UAAL,GAAkB,UAAUC,IAAV,EAAgBC,EAAhB,EAAoB;AACpC;AACA;AACAA;AACD,CAJD;;AAMA,SAASR,IAAT,CAAeS,IAAf,EAAqBD,EAArB,EAAyB;AACvB,MAAI,CAACC,IAAD,IAAS,CAACA,KAAKC,MAAnB,EAA2BD,OAAO,CAAC,GAAD,CAAP;AAC3B,MAAIE,UAAUF,KAAKC,MAAnB;AACAP,MAAIS,KAAJ,CAAU,MAAV,EAAkBH,IAAlB;AACAA,OAAKI,OAAL,CAAa,UAAUC,IAAV,EAAgB;AAC3BC,WAAOD,IAAP,EAAa,UAAUE,GAAV,EAAe;AAC1B,UAAIA,GAAJ,EAAS;AACP,eAAOR,GAAGQ,GAAH,CAAP;AACD;AACD,QAAEL,OAAF,IAAaH,IAAb;AACD,KALD;AAMD,GAPD;AAQD;;AAED,SAASO,MAAT,CAAiBE,OAAjB,EAA0BT,EAA1B,EAA8B;AAC5BL,MAAIS,KAAJ,CAAU,QAAV,EAAoBK,OAApB;AACAb,uBAAqBa,OAArB,EAA8B,GAA9B,EAAmC,EAACC,cAAc,IAAf,EAAnC,EAAyD,UAAUC,EAAV,EAAcC,CAAd,EAAiB;AACxE,QAAID,EAAJ,EAAQ,OAAOX,GAAGW,EAAH,CAAP;AACR,QAAIE,MAAMD,EAAEE,QAAZ;AACA,QAAI,CAACD,GAAL,EAAUA,MAAM,mCAAmCD,EAAEG,IAA3C;AACV,WAAOtB,QAAQoB,GAAR,EAAa,qCAAb,EAAoDb,EAApD,CAAP;AACD,GALD;AAMD","file":"docs.js","sourcesContent":["module.exports = docs\n\nvar openUrl = require('./utils/open-url')\nvar log = require('npmlog')\nvar fetchPackageMetadata = require('./fetch-package-metadata.js')\nvar usage = require('./utils/usage')\n\ndocs.usage = usage(\n  'docs',\n  'npm docs <pkgname>' +\n  '\\nnpm docs .'\n)\ndocs.completion = function (opts, cb) {\n  // FIXME: there used to be registry completion here, but it stopped making\n  // sense somewhere around 50,000 packages on the registry\n  cb()\n}\n\nfunction docs (args, cb) {\n  if (!args || !args.length) args = ['.']\n  var pending = args.length\n  log.silly('docs', args)\n  args.forEach(function (proj) {\n    getDoc(proj, function (err) {\n      if (err) {\n        return cb(err)\n      }\n      --pending || cb()\n    })\n  })\n}\n\nfunction getDoc (project, cb) {\n  log.silly('getDoc', project)\n  fetchPackageMetadata(project, '.', {fullMetadata: true}, function (er, d) {\n    if (er) return cb(er)\n    var url = d.homepage\n    if (!url) url = 'https://www.npmjs.org/package/' + d.name\n    return openUrl(url, 'docs available at the following URL', cb)\n  })\n}\n"]}