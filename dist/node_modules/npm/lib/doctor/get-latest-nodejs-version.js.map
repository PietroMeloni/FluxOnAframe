{"version":3,"sources":["../../../../../node_modules/npm/lib/doctor/get-latest-nodejs-version.js"],"names":["log","require","request","semver","getLatestNodejsVersion","url","cb","tracker","newItem","info","version","e","res","index","finish","statusCode","Error","JSON","parse","forEach","item","lts","gt","module","exports"],"mappings":";;AAAA,IAAIA,MAAMC,QAAQ,QAAR,CAAV;AACA,IAAIC,UAAUD,QAAQ,SAAR,CAAd;AACA,IAAIE,SAASF,QAAQ,QAAR,CAAb;;AAEA,SAASG,sBAAT,CAAiCC,GAAjC,EAAsCC,EAAtC,EAA0C;AACxC,MAAIC,UAAUP,IAAIQ,OAAJ,CAAY,wBAAZ,EAAsC,CAAtC,CAAd;AACAD,UAAQE,IAAR,CAAa,wBAAb,EAAuC,qCAAvC;AACA,MAAIC,UAAU,QAAd;AACAL,QAAMA,OAAO,oCAAb;AACAH,UAAQG,GAAR,EAAa,UAAUM,CAAV,EAAaC,GAAb,EAAkBC,KAAlB,EAAyB;AACpCN,YAAQO,MAAR;AACA,QAAIH,CAAJ,EAAO,OAAOL,GAAGK,CAAH,CAAP;AACP,QAAIC,IAAIG,UAAJ,KAAmB,GAAvB,EAA4B;AAC1B,aAAOT,GAAG,IAAIU,KAAJ,CAAU,qBAAqBJ,IAAIG,UAAnC,CAAH,CAAP;AACD;AACD,QAAI;AACFE,WAAKC,KAAL,CAAWL,KAAX,EAAkBM,OAAlB,CAA0B,UAAUC,IAAV,EAAgB;AACxC,YAAIA,KAAKC,GAAL,IAAYlB,OAAOmB,EAAP,CAAUF,KAAKV,OAAf,EAAwBA,OAAxB,CAAhB,EAAkDA,UAAUU,KAAKV,OAAf;AACnD,OAFD;AAGAJ,SAAG,IAAH,EAASI,OAAT;AACD,KALD,CAKE,OAAOC,CAAP,EAAU;AACVL,SAAGK,CAAH;AACD;AACF,GAdD;AAeD;;AAEDY,OAAOC,OAAP,GAAiBpB,sBAAjB","file":"get-latest-nodejs-version.js","sourcesContent":["var log = require('npmlog')\nvar request = require('request')\nvar semver = require('semver')\n\nfunction getLatestNodejsVersion (url, cb) {\n  var tracker = log.newItem('getLatestNodejsVersion', 1)\n  tracker.info('getLatestNodejsVersion', 'Getting Node.js release information')\n  var version = 'v0.0.0'\n  url = url || 'https://nodejs.org/dist/index.json'\n  request(url, function (e, res, index) {\n    tracker.finish()\n    if (e) return cb(e)\n    if (res.statusCode !== 200) {\n      return cb(new Error('Status not 200, ' + res.statusCode))\n    }\n    try {\n      JSON.parse(index).forEach(function (item) {\n        if (item.lts && semver.gt(item.version, version)) version = item.version\n      })\n      cb(null, version)\n    } catch (e) {\n      cb(e)\n    }\n  })\n}\n\nmodule.exports = getLatestNodejsVersion\n"]}