{"version":3,"sources":["../../../../../node_modules/npm/lib/install/exists.js"],"names":["fs","require","inflight","accessError","isFsAccessAvailable","module","exports","fsAccessImplementation","fsStatImplementation","dir","done","access","F_OK","stat","er"],"mappings":"AAAA;;AACA,IAAIA,KAAKC,QAAQ,IAAR,CAAT;AACA,IAAIC,WAAWD,QAAQ,UAAR,CAAf;AACA,IAAIE,cAAcF,QAAQ,mBAAR,CAAlB;AACA,IAAIG,sBAAsBH,QAAQ,6BAAR,CAA1B;;AAEA,IAAIG,mBAAJ,EAAyB;AACvBC,SAAOC,OAAP,GAAiBC,sBAAjB;AACD,CAFD,MAEO;AACLF,SAAOC,OAAP,GAAiBE,oBAAjB;AACD;;AAED;AACAH,OAAOC,OAAP,CAAeC,sBAAf,GAAwCA,sBAAxC;AACAF,OAAOC,OAAP,CAAeE,oBAAf,GAAsCA,oBAAtC;;AAEA,SAASD,sBAAT,CAAiCE,GAAjC,EAAsCC,IAAtC,EAA4C;AAC1CA,SAAOR,SAAS,YAAYO,GAArB,EAA0BC,IAA1B,CAAP;AACA,MAAI,CAACA,IAAL,EAAW;AACXV,KAAGW,MAAH,CAAUF,GAAV,EAAeT,GAAGY,IAAlB,EAAwBF,IAAxB;AACD;;AAED,SAASF,oBAAT,CAA+BC,GAA/B,EAAoCC,IAApC,EAA0C;AACxCA,SAAOR,SAAS,YAAYO,GAArB,EAA0BC,IAA1B,CAAP;AACA,MAAI,CAACA,IAAL,EAAW;AACXV,KAAGa,IAAH,CAAQJ,GAAR,EAAa,UAAUK,EAAV,EAAc;AAAEJ,SAAKP,YAAYM,GAAZ,EAAiBK,EAAjB,CAAL;AAA4B,GAAzD;AACD","file":"exists.js","sourcesContent":["'use strict'\nvar fs = require('fs')\nvar inflight = require('inflight')\nvar accessError = require('./access-error.js')\nvar isFsAccessAvailable = require('./is-fs-access-available.js')\n\nif (isFsAccessAvailable) {\n  module.exports = fsAccessImplementation\n} else {\n  module.exports = fsStatImplementation\n}\n\n// exposed only for testing purposes\nmodule.exports.fsAccessImplementation = fsAccessImplementation\nmodule.exports.fsStatImplementation = fsStatImplementation\n\nfunction fsAccessImplementation (dir, done) {\n  done = inflight('exists:' + dir, done)\n  if (!done) return\n  fs.access(dir, fs.F_OK, done)\n}\n\nfunction fsStatImplementation (dir, done) {\n  done = inflight('exists:' + dir, done)\n  if (!done) return\n  fs.stat(dir, function (er) { done(accessError(dir, er)) })\n}\n"]}