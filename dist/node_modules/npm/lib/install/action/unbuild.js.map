{"version":3,"sources":["../../../../../../node_modules/npm/lib/install/action/unbuild.js"],"names":["Bluebird","require","lifecycle","promisify","packageId","rmStuff","module","exports","staging","pkg","log","silly","package","path","failOk","then"],"mappings":"AAAA;;AACA,IAAIA,WAAWC,QAAQ,UAAR,CAAf;AACA,IAAIC,YAAYF,SAASG,SAAT,CAAmBF,QAAQ,0BAAR,CAAnB,CAAhB;AACA,IAAIG,YAAYH,QAAQ,2BAAR,CAAhB;AACA,IAAII,UAAUL,SAASG,SAAT,CAAmBF,QAAQ,kBAAR,EAA4BI,OAA/C,CAAd;;AAEAC,OAAOC,OAAP,GAAiB,UAAUC,OAAV,EAAmBC,GAAnB,EAAwBC,GAAxB,EAA6B;AAC5CA,MAAIC,KAAJ,CAAU,SAAV,EAAqBP,UAAUK,GAAV,CAArB;AACA,SAAOP,UAAUO,IAAIG,OAAd,EAAuB,cAAvB,EAAuCH,IAAII,IAA3C,EAAiD,EAAEC,QAAQ,IAAV,EAAjD,EAAmEC,IAAnE,CAAwE,YAAM;AACnF,WAAOb,UAAUO,IAAIG,OAAd,EAAuB,WAAvB,EAAoCH,IAAII,IAAxC,EAA8C,EAAEC,QAAQ,IAAV,EAA9C,CAAP;AACD,GAFM,EAEJC,IAFI,CAEC,YAAM;AACZ,WAAOV,QAAQI,IAAIG,OAAZ,EAAqBH,IAAII,IAAzB,CAAP;AACD,GAJM,EAIJE,IAJI,CAIC,YAAM;AACZ,WAAOb,UAAUO,IAAIG,OAAd,EAAuB,eAAvB,EAAwCH,IAAII,IAA5C,EAAkD,EAAEC,QAAQ,IAAV,EAAlD,CAAP;AACD,GANM,CAAP;AAOD,CATD","file":"unbuild.js","sourcesContent":["'use strict'\nvar Bluebird = require('bluebird')\nvar lifecycle = Bluebird.promisify(require('../../utils/lifecycle.js'))\nvar packageId = require('../../utils/package-id.js')\nvar rmStuff = Bluebird.promisify(require('../../unbuild.js').rmStuff)\n\nmodule.exports = function (staging, pkg, log) {\n  log.silly('unbuild', packageId(pkg))\n  return lifecycle(pkg.package, 'preuninstall', pkg.path, { failOk: true }).then(() => {\n    return lifecycle(pkg.package, 'uninstall', pkg.path, { failOk: true })\n  }).then(() => {\n    return rmStuff(pkg.package, pkg.path)\n  }).then(() => {\n    return lifecycle(pkg.package, 'postuninstall', pkg.path, { failOk: true })\n  })\n}\n"]}