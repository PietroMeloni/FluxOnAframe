{"version":3,"sources":["../../../../../../node_modules/npm/lib/install/action/global-install.js"],"names":["path","require","npm","Installer","packageId","module","exports","staging","pkg","log","next","silly","globalRoot","resolve","globalDir","config","set","install","package","name","_requested","fetchSpec","link","run","apply","arguments"],"mappings":"AAAA;;AACA,IAAIA,OAAOC,QAAQ,MAAR,CAAX;AACA,IAAIC,MAAMD,QAAQ,cAAR,CAAV;AACA,IAAIE,YAAYF,QAAQ,kBAAR,EAA4BE,SAA5C;AACA,IAAIC,YAAYH,QAAQ,2BAAR,CAAhB;;AAEAI,OAAOC,OAAP,GAAiB,UAAUC,OAAV,EAAmBC,GAAnB,EAAwBC,GAAxB,EAA6BC,IAA7B,EAAmC;AAClDD,MAAIE,KAAJ,CAAU,gBAAV,EAA4BP,UAAUI,GAAV,CAA5B;AACA,MAAII,aAAaZ,KAAKa,OAAL,CAAaX,IAAIY,SAAjB,EAA4B,IAA5B,CAAjB;AACAZ,MAAIa,MAAJ,CAAWC,GAAX,CAAe,QAAf,EAAyB,IAAzB;AACA,MAAIC,UAAU,IAAId,SAAJ,CAAcS,UAAd,EAA0B,KAA1B,EAAiC,CAACJ,IAAIU,OAAJ,CAAYC,IAAZ,GAAmB,GAAnB,GAAyBX,IAAIU,OAAJ,CAAYE,UAAZ,CAAuBC,SAAjD,CAAjC,CAAd;AACAJ,UAAQK,IAAR,GAAe,KAAf;AACAL,UAAQM,GAAR,CAAY,YAAY;AACtBrB,QAAIa,MAAJ,CAAWC,GAAX,CAAe,QAAf,EAAyB,KAAzB;AACAN,SAAKc,KAAL,CAAW,IAAX,EAAiBC,SAAjB;AACD,GAHD;AAID,CAVD","file":"global-install.js","sourcesContent":["'use strict'\nvar path = require('path')\nvar npm = require('../../npm.js')\nvar Installer = require('../../install.js').Installer\nvar packageId = require('../../utils/package-id.js')\n\nmodule.exports = function (staging, pkg, log, next) {\n  log.silly('global-install', packageId(pkg))\n  var globalRoot = path.resolve(npm.globalDir, '..')\n  npm.config.set('global', true)\n  var install = new Installer(globalRoot, false, [pkg.package.name + '@' + pkg.package._requested.fetchSpec])\n  install.link = false\n  install.run(function () {\n    npm.config.set('global', false)\n    next.apply(null, arguments)\n  })\n}\n"]}