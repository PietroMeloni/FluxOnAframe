{"version":3,"sources":["../../../../../../node_modules/npm/lib/install/action/extract-worker.js"],"names":["BB","require","extract","npmlog","module","exports","args","cb","parsed","JSON","parse","spec","extractTo","opts","log","level","loglevel","resolve","nodeify"],"mappings":"AAAA;;AAEA,IAAMA,KAAKC,QAAQ,UAAR,CAAX;;AAEA,IAAMC,UAAUD,QAAQ,gBAAR,CAAhB;AACA,IAAME,SAASF,QAAQ,QAAR,CAAf;;AAEAG,OAAOC,OAAP,GAAiB,UAACC,IAAD,EAAOC,EAAP,EAAc;AAC7B,MAAMC,SAAS,OAAOF,IAAP,KAAgB,QAAhB,GAA2BG,KAAKC,KAAL,CAAWJ,IAAX,CAA3B,GAA8CA,IAA7D;AACA,MAAMK,OAAOH,OAAO,CAAP,CAAb;AACA,MAAMI,YAAYJ,OAAO,CAAP,CAAlB;AACA,MAAMK,OAAOL,OAAO,CAAP,CAAb;AACA,MAAI,CAACK,KAAKC,GAAV,EAAe;AACbD,SAAKC,GAAL,GAAWX,MAAX;AACD;AACDU,OAAKC,GAAL,CAASC,KAAT,GAAiBF,KAAKG,QAAL,IAAiBH,KAAKC,GAAL,CAASC,KAA3C;AACAf,KAAGiB,OAAH,CAAWf,QAAQS,IAAR,EAAcC,SAAd,EAAyBC,IAAzB,CAAX,EAA2CK,OAA3C,CAAmDX,EAAnD;AACD,CAVD","file":"extract-worker.js","sourcesContent":["'use strict'\n\nconst BB = require('bluebird')\n\nconst extract = require('pacote/extract')\nconst npmlog = require('npmlog')\n\nmodule.exports = (args, cb) => {\n  const parsed = typeof args === 'string' ? JSON.parse(args) : args\n  const spec = parsed[0]\n  const extractTo = parsed[1]\n  const opts = parsed[2]\n  if (!opts.log) {\n    opts.log = npmlog\n  }\n  opts.log.level = opts.loglevel || opts.log.level\n  BB.resolve(extract(spec, extractTo, opts)).nodeify(cb)\n}\n"]}