{"version":3,"sources":["../../../../../node_modules/npm/lib/install/has-modern-meta.js"],"names":["module","exports","hasModernMeta","npa","require","moduleName","isLink","child","parent","resolved","package","_resolved","resolve","version","isTop","fromBundle","_inBundle","_integrity","_shasum","type"],"mappings":"AAAA;;AACAA,OAAOC,OAAP,GAAiBC,aAAjB;;AAEA,IAAMC,MAAMC,QAAQ,iBAAR,CAAZ;AACA,IAAMC,aAAaD,QAAQ,yBAAR,CAAnB;;AAEA,SAASE,MAAT,CAAiBC,KAAjB,EAAwB;AACtB,SAAOA,MAAMD,MAAN,IAAiBC,MAAMC,MAAN,IAAgBF,OAAOC,MAAMC,MAAb,CAAxC;AACD;;AAED,SAASN,aAAT,CAAwBK,KAAxB,EAA+B;AAC7B,MAAI,CAACA,KAAL,EAAY,OAAO,KAAP;AACZ,MAAME,WAAWF,MAAMG,OAAN,CAAcC,SAAd,IAA2BR,IAAIS,OAAJ,CAAYP,WAAWE,KAAX,CAAZ,EAA+BA,MAAMG,OAAN,CAAcC,SAA7C,CAA5C;AACA,MAAME,UAAUV,IAAIS,OAAJ,CAAYP,WAAWE,KAAX,CAAZ,EAA+BA,MAAMG,OAAN,CAAcG,OAA7C,CAAhB;AACA,SAAON,MAAMO,KAAN,IACLR,OAAOC,KAAP,CADK,IAELA,MAAMQ,UAFD,IAEeR,MAAMG,OAAN,CAAcM,SAF7B,IAGLT,MAAMG,OAAN,CAAcO,UAHT,IAGuBV,MAAMG,OAAN,CAAcQ,OAHrC,IAIJT,YAAYA,SAASU,IAAT,KAAkB,KAJ1B,IAIqCN,WAAWA,QAAQM,IAAR,KAAiB,KAJxE;AAKD","file":"has-modern-meta.js","sourcesContent":["'use strict'\nmodule.exports = hasModernMeta\n\nconst npa = require('npm-package-arg')\nconst moduleName = require('../utils/module-name.js')\n\nfunction isLink (child) {\n  return child.isLink || (child.parent && isLink(child.parent))\n}\n\nfunction hasModernMeta (child) {\n  if (!child) return false\n  const resolved = child.package._resolved && npa.resolve(moduleName(child), child.package._resolved)\n  const version = npa.resolve(moduleName(child), child.package.version)\n  return child.isTop ||\n    isLink(child) ||\n    child.fromBundle || child.package._inBundle ||\n    child.package._integrity || child.package._shasum ||\n    (resolved && resolved.type === 'git') || (version && version.type === 'git')\n}\n"]}