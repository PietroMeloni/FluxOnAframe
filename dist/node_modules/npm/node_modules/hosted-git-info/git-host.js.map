{"version":3,"sources":["../../../../../node_modules/npm/node_modules/hosted-git-info/git-host.js"],"names":["gitHosts","require","GitHost","module","exports","type","user","auth","project","committish","defaultRepresentation","opts","gitHostInfo","Object","keys","forEach","key","default","prototype","hash","_fill","template","vars","assign","path","replace","self","rawAuth","rawComittish","rawFragment","fragment","rawPath","encodeURIComponent","hashformat","noCommittish","comittish","treepath","res","RegExp","noGitPlus","ssh","sshtemplate","sshurl","sshurltemplate","browse","P","F","browsefiletemplate","browsetemplate","docs","docstemplate","bugs","bugstemplate","https","httpstemplate","git","gittemplate","shortcut","shortcuttemplate","pathtemplate","tarball","tarballtemplate","file","filetemplate","getDefaultRepresentation","toString","call"],"mappings":"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","file":"git-host.js","sourcesContent":["'use strict'\nvar gitHosts = require('./git-host-info.js')\n\nvar GitHost = module.exports = function (type, user, auth, project, committish, defaultRepresentation, opts) {\n  var gitHostInfo = this\n  gitHostInfo.type = type\n  Object.keys(gitHosts[type]).forEach(function (key) {\n    gitHostInfo[key] = gitHosts[type][key]\n  })\n  gitHostInfo.user = user\n  gitHostInfo.auth = auth\n  gitHostInfo.project = project\n  gitHostInfo.committish = committish\n  gitHostInfo.default = defaultRepresentation\n  gitHostInfo.opts = opts || {}\n}\nGitHost.prototype = {}\n\nGitHost.prototype.hash = function () {\n  return this.committish ? '#' + this.committish : ''\n}\n\nGitHost.prototype._fill = function (template, opts) {\n  if (!template) return\n  var vars = Object.assign({}, opts)\n  vars.path = vars.path ? vars.path.replace(/^[/]+/g, '') : ''\n  opts = Object.assign({}, this.opts, opts)\n  var self = this\n  Object.keys(this).forEach(function (key) {\n    if (self[key] != null && vars[key] == null) vars[key] = self[key]\n  })\n  var rawAuth = vars.auth\n  var rawComittish = vars.committish\n  var rawFragment = vars.fragment\n  var rawPath = vars.path\n  Object.keys(vars).forEach(function (key) {\n    vars[key] = encodeURIComponent(vars[key])\n  })\n  vars['auth@'] = rawAuth ? rawAuth + '@' : ''\n  vars['#fragment'] = rawFragment ? '#' + this.hashformat(rawFragment) : ''\n  vars.fragment = vars.fragment ? vars.fragment : ''\n  vars['#path'] = rawPath ? '#' + this.hashformat(rawPath) : ''\n  vars['/path'] = vars.path ? '/' + vars.path : ''\n  if (opts.noCommittish) {\n    vars['#committish'] = ''\n    vars['/tree/committish'] = ''\n    vars['/comittish'] = ''\n    vars.comittish = ''\n  } else {\n    vars['#committish'] = rawComittish ? '#' + rawComittish : ''\n    vars['/tree/committish'] = vars.committish\n                            ? '/' + vars.treepath + '/' + vars.committish\n                            : ''\n    vars['/committish'] = vars.committish ? '/' + vars.committish : ''\n    vars.committish = vars.committish || 'master'\n  }\n  var res = template\n  Object.keys(vars).forEach(function (key) {\n    res = res.replace(new RegExp('[{]' + key + '[}]', 'g'), vars[key])\n  })\n  if (opts.noGitPlus) {\n    return res.replace(/^git[+]/, '')\n  } else {\n    return res\n  }\n}\n\nGitHost.prototype.ssh = function (opts) {\n  return this._fill(this.sshtemplate, opts)\n}\n\nGitHost.prototype.sshurl = function (opts) {\n  return this._fill(this.sshurltemplate, opts)\n}\n\nGitHost.prototype.browse = function (P, F, opts) {\n  if (typeof P === 'string') {\n    if (typeof F !== 'string') {\n      opts = F\n      F = null\n    }\n    return this._fill(this.browsefiletemplate, Object.assign({\n      fragment: F,\n      path: P\n    }, opts))\n  } else {\n    return this._fill(this.browsetemplate, P)\n  }\n}\n\nGitHost.prototype.docs = function (opts) {\n  return this._fill(this.docstemplate, opts)\n}\n\nGitHost.prototype.bugs = function (opts) {\n  return this._fill(this.bugstemplate, opts)\n}\n\nGitHost.prototype.https = function (opts) {\n  return this._fill(this.httpstemplate, opts)\n}\n\nGitHost.prototype.git = function (opts) {\n  return this._fill(this.gittemplate, opts)\n}\n\nGitHost.prototype.shortcut = function (opts) {\n  return this._fill(this.shortcuttemplate, opts)\n}\n\nGitHost.prototype.path = function (opts) {\n  return this._fill(this.pathtemplate, opts)\n}\n\nGitHost.prototype.tarball = function (opts) {\n  return this._fill(this.tarballtemplate, opts)\n}\n\nGitHost.prototype.file = function (P, opts) {\n  return this._fill(this.filetemplate, Object.assign({ path: P }, opts))\n}\n\nGitHost.prototype.getDefaultRepresentation = function () {\n  return this.default\n}\n\nGitHost.prototype.toString = function (opts) {\n  return (this[this.default] || this.sshurl).call(this, opts)\n}\n"]}