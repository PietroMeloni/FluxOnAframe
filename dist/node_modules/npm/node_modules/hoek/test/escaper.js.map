{"version":3,"sources":["../../../../../../node_modules/npm/node_modules/hoek/test/escaper.js"],"names":["Code","require","Hoek","Lab","internals","lab","exports","script","describe","experiment","it","test","expect","done","encoded","escapeJavaScript","to","equal","String","fromCharCode","escapeHtml"],"mappings":";;AAAA;;AAEA,IAAIA,OAAOC,QAAQ,MAAR,CAAX;AACA,IAAIC,OAAOD,QAAQ,QAAR,CAAX;AACA,IAAIE,MAAMF,QAAQ,KAAR,CAAV;;AAGA;;AAEA,IAAIG,YAAY,EAAhB;;AAGA;;AAEA,IAAIC,MAAMC,QAAQD,GAAR,GAAcF,IAAII,MAAJ,EAAxB;AACA,IAAIC,WAAWH,IAAII,UAAnB;AACA,IAAIC,KAAKL,IAAIM,IAAb;AACA,IAAIC,SAASZ,KAAKY,MAAlB;;AAGAJ,SAAS,oBAAT,EAA+B,YAAY;;AAEvCE,OAAG,sBAAH,EAA2B,UAAUG,IAAV,EAAgB;;AAEvC,YAAIC,UAAUZ,KAAKa,gBAAL,CAAsB,2BAAtB,CAAd;AACAH,eAAOE,OAAP,EAAgBE,EAAhB,CAAmBC,KAAnB,CAAyB,uDAAzB;AACAJ;AACH,KALD;;AAOAH,OAAG,uBAAH,EAA4B,UAAUG,IAAV,EAAgB;;AAExC,YAAIC,UAAUZ,KAAKa,gBAAL,CAAsB,sBAAtB,CAAd;AACAH,eAAOE,OAAP,EAAgBE,EAAhB,CAAmBC,KAAnB,CAAyB,oCAAzB;AACAJ;AACH,KALD;;AAOAH,OAAG,2DAAH,EAAgE,UAAUG,IAAV,EAAgB;;AAE5E,YAAIC,UAAUZ,KAAKa,gBAAL,CAAsBG,OAAOC,YAAP,CAAoB,GAApB,IAA2BD,OAAOC,YAAP,CAAoB,IAApB,CAAjD,CAAd;AACAP,eAAOE,OAAP,EAAgBE,EAAhB,CAAmBC,KAAnB,CAAyB,gBAAzB;AACAJ;AACH,KALD;;AAOAH,OAAG,8CAAH,EAAmD,UAAUG,IAAV,EAAgB;;AAE/D,YAAIC,UAAUZ,KAAKa,gBAAL,CAAsB,IAAtB,CAAd;AACAH,eAAOE,OAAP,EAAgBE,EAAhB,CAAmBC,KAAnB,CAAyB,EAAzB;AACAJ;AACH,KALD;AAMH,CA7BD;;AA+BAL,SAAS,cAAT,EAAyB,YAAY;;AAEjCE,OAAG,sBAAH,EAA2B,UAAUG,IAAV,EAAgB;;AAEvC,YAAIC,UAAUZ,KAAKkB,UAAL,CAAgB,2BAAhB,CAAd;AACAR,eAAOE,OAAP,EAAgBE,EAAhB,CAAmBC,KAAnB,CAAyB,sDAAzB;AACAJ;AACH,KALD;;AAOAH,OAAG,qCAAH,EAA0C,UAAUG,IAAV,EAAgB;;AAEtD,YAAIC,UAAUZ,KAAKkB,UAAL,CAAgB,YAAhB,CAAd;AACAR,eAAOE,OAAP,EAAgBE,EAAhB,CAAmBC,KAAnB,CAAyB,wBAAzB;AACAJ;AACH,KALD;;AAOAH,OAAG,kCAAH,EAAuC,UAAUG,IAAV,EAAgB;;AAEnD,YAAIC,UAAUZ,KAAKkB,UAAL,CAAgBF,OAAOC,YAAP,CAAoB,GAApB,IAA2BD,OAAOC,YAAP,CAAoB,IAApB,CAA3C,CAAd;AACAP,eAAOE,OAAP,EAAgBE,EAAhB,CAAmBC,KAAnB,CAAyB,eAAzB;AACAJ;AACH,KALD;;AAOAH,OAAG,8CAAH,EAAmD,UAAUG,IAAV,EAAgB;;AAE/D,YAAIC,UAAUZ,KAAKkB,UAAL,CAAgB,IAAhB,CAAd;AACAR,eAAOE,OAAP,EAAgBE,EAAhB,CAAmBC,KAAnB,CAAyB,EAAzB;AACAJ;AACH,KALD;;AAOAH,OAAG,uBAAH,EAA4B,UAAUG,IAAV,EAAgB;;AAExC,YAAIC,UAAUZ,KAAKkB,UAAL,CAAgB,IAAhB,CAAd;AACAR,eAAOE,OAAP,EAAgBE,EAAhB,CAAmBC,KAAnB,CAAyB,cAAzB;AACAJ;AACH,KALD;AAMH,CApCD","file":"escaper.js","sourcesContent":["// Load modules\n\nvar Code = require('code');\nvar Hoek = require('../lib');\nvar Lab = require('lab');\n\n\n// Declare internals\n\nvar internals = {};\n\n\n// Test shortcuts\n\nvar lab = exports.lab = Lab.script();\nvar describe = lab.experiment;\nvar it = lab.test;\nvar expect = Code.expect;\n\n\ndescribe('escapeJavaScript()', function () {\n\n    it('encodes / characters', function (done) {\n\n        var encoded = Hoek.escapeJavaScript('<script>alert(1)</script>');\n        expect(encoded).to.equal('\\\\x3cscript\\\\x3ealert\\\\x281\\\\x29\\\\x3c\\\\x2fscript\\\\x3e');\n        done();\n    });\n\n    it('encodes \\' characters', function (done) {\n\n        var encoded = Hoek.escapeJavaScript('something(\\'param\\')');\n        expect(encoded).to.equal('something\\\\x28\\\\x27param\\\\x27\\\\x29');\n        done();\n    });\n\n    it('encodes large unicode characters with the correct padding', function (done) {\n\n        var encoded = Hoek.escapeJavaScript(String.fromCharCode(500) + String.fromCharCode(1000));\n        expect(encoded).to.equal('\\\\u0500\\\\u1000');\n        done();\n    });\n\n    it('doesn\\'t throw an exception when passed null', function (done) {\n\n        var encoded = Hoek.escapeJavaScript(null);\n        expect(encoded).to.equal('');\n        done();\n    });\n});\n\ndescribe('escapeHtml()', function () {\n\n    it('encodes / characters', function (done) {\n\n        var encoded = Hoek.escapeHtml('<script>alert(1)</script>');\n        expect(encoded).to.equal('&lt;script&gt;alert&#x28;1&#x29;&lt;&#x2f;script&gt;');\n        done();\n    });\n\n    it('encodes < and > as named characters', function (done) {\n\n        var encoded = Hoek.escapeHtml('<script><>');\n        expect(encoded).to.equal('&lt;script&gt;&lt;&gt;');\n        done();\n    });\n\n    it('encodes large unicode characters', function (done) {\n\n        var encoded = Hoek.escapeHtml(String.fromCharCode(500) + String.fromCharCode(1000));\n        expect(encoded).to.equal('&#500;&#1000;');\n        done();\n    });\n\n    it('doesn\\'t throw an exception when passed null', function (done) {\n\n        var encoded = Hoek.escapeHtml(null);\n        expect(encoded).to.equal('');\n        done();\n    });\n\n    it('encodes {} characters', function (done) {\n\n        var encoded = Hoek.escapeHtml('{}');\n        expect(encoded).to.equal('&#x7b;&#x7d;');\n        done();\n    });\n});\n"]}