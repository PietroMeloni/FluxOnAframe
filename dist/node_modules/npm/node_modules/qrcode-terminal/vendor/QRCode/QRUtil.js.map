{"version":3,"sources":["../../../../../../../node_modules/npm/node_modules/qrcode-terminal/vendor/QRCode/QRUtil.js"],"names":["QRMode","require","QRPolynomial","QRMath","QRMaskPattern","QRUtil","PATTERN_POSITION_TABLE","G15","G18","G15_MASK","getBCHTypeInfo","data","d","getBCHDigit","getBCHTypeNumber","digit","getPatternPosition","typeNumber","getMask","maskPattern","i","j","PATTERN000","PATTERN001","PATTERN010","PATTERN011","PATTERN100","Math","floor","PATTERN101","PATTERN110","PATTERN111","Error","getErrorCorrectPolynomial","errorCorrectLength","a","multiply","gexp","getLengthInBits","mode","type","MODE_NUMBER","MODE_ALPHA_NUM","MODE_8BIT_BYTE","MODE_KANJI","getLostPoint","qrCode","moduleCount","getModuleCount","lostPoint","row","col","sameCount","dark","isDark","r","c","count","darkCount","ratio","abs","module","exports"],"mappings":"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","file":"QRUtil.js","sourcesContent":["var QRMode = require('./QRMode');\nvar QRPolynomial = require('./QRPolynomial');\nvar QRMath = require('./QRMath');\nvar QRMaskPattern = require('./QRMaskPattern');\n\nvar QRUtil = {\n\n    PATTERN_POSITION_TABLE : [\n        [],\n        [6, 18],\n        [6, 22],\n        [6, 26],\n        [6, 30],\n        [6, 34],\n        [6, 22, 38],\n        [6, 24, 42],\n        [6, 26, 46],\n        [6, 28, 50],\n        [6, 30, 54],        \n        [6, 32, 58],\n        [6, 34, 62],\n        [6, 26, 46, 66],\n        [6, 26, 48, 70],\n        [6, 26, 50, 74],\n        [6, 30, 54, 78],\n        [6, 30, 56, 82],\n        [6, 30, 58, 86],\n        [6, 34, 62, 90],\n        [6, 28, 50, 72, 94],\n        [6, 26, 50, 74, 98],\n        [6, 30, 54, 78, 102],\n        [6, 28, 54, 80, 106],\n        [6, 32, 58, 84, 110],\n        [6, 30, 58, 86, 114],\n        [6, 34, 62, 90, 118],\n        [6, 26, 50, 74, 98, 122],\n        [6, 30, 54, 78, 102, 126],\n        [6, 26, 52, 78, 104, 130],\n        [6, 30, 56, 82, 108, 134],\n        [6, 34, 60, 86, 112, 138],\n        [6, 30, 58, 86, 114, 142],\n        [6, 34, 62, 90, 118, 146],\n        [6, 30, 54, 78, 102, 126, 150],\n        [6, 24, 50, 76, 102, 128, 154],\n        [6, 28, 54, 80, 106, 132, 158],\n        [6, 32, 58, 84, 110, 136, 162],\n        [6, 26, 54, 82, 110, 138, 166],\n        [6, 30, 58, 86, 114, 142, 170]\n    ],\n\n    G15 : (1 << 10) | (1 << 8) | (1 << 5) | (1 << 4) | (1 << 2) | (1 << 1) | (1 << 0),\n    G18 : (1 << 12) | (1 << 11) | (1 << 10) | (1 << 9) | (1 << 8) | (1 << 5) | (1 << 2) | (1 << 0),\n    G15_MASK : (1 << 14) | (1 << 12) | (1 << 10)    | (1 << 4) | (1 << 1),\n\n    getBCHTypeInfo : function(data) {\n        var d = data << 10;\n        while (QRUtil.getBCHDigit(d) - QRUtil.getBCHDigit(QRUtil.G15) >= 0) {\n            d ^= (QRUtil.G15 << (QRUtil.getBCHDigit(d) - QRUtil.getBCHDigit(QRUtil.G15) ) );    \n        }\n        return ( (data << 10) | d) ^ QRUtil.G15_MASK;\n    },\n\n    getBCHTypeNumber : function(data) {\n        var d = data << 12;\n        while (QRUtil.getBCHDigit(d) - QRUtil.getBCHDigit(QRUtil.G18) >= 0) {\n            d ^= (QRUtil.G18 << (QRUtil.getBCHDigit(d) - QRUtil.getBCHDigit(QRUtil.G18) ) );    \n        }\n        return (data << 12) | d;\n    },\n\n    getBCHDigit : function(data) {\n\n        var digit = 0;\n\n        while (data !== 0) {\n            digit++;\n            data >>>= 1;\n        }\n\n        return digit;\n    },\n\n    getPatternPosition : function(typeNumber) {\n        return QRUtil.PATTERN_POSITION_TABLE[typeNumber - 1];\n    },\n\n    getMask : function(maskPattern, i, j) {\n        \n        switch (maskPattern) {\n            \n        case QRMaskPattern.PATTERN000 : return (i + j) % 2 === 0;\n        case QRMaskPattern.PATTERN001 : return i % 2 === 0;\n        case QRMaskPattern.PATTERN010 : return j % 3 === 0;\n        case QRMaskPattern.PATTERN011 : return (i + j) % 3 === 0;\n        case QRMaskPattern.PATTERN100 : return (Math.floor(i / 2) + Math.floor(j / 3) ) % 2 === 0;\n        case QRMaskPattern.PATTERN101 : return (i * j) % 2 + (i * j) % 3 === 0;\n        case QRMaskPattern.PATTERN110 : return ( (i * j) % 2 + (i * j) % 3) % 2 === 0;\n        case QRMaskPattern.PATTERN111 : return ( (i * j) % 3 + (i + j) % 2) % 2 === 0;\n\n        default :\n            throw new Error(\"bad maskPattern:\" + maskPattern);\n        }\n    },\n\n    getErrorCorrectPolynomial : function(errorCorrectLength) {\n\n        var a = new QRPolynomial([1], 0);\n\n        for (var i = 0; i < errorCorrectLength; i++) {\n            a = a.multiply(new QRPolynomial([1, QRMath.gexp(i)], 0) );\n        }\n\n        return a;\n    },\n\n    getLengthInBits : function(mode, type) {\n\n        if (1 <= type && type < 10) {\n\n            // 1 - 9\n\n            switch(mode) {\n            case QRMode.MODE_NUMBER     : return 10;\n            case QRMode.MODE_ALPHA_NUM  : return 9;\n            case QRMode.MODE_8BIT_BYTE  : return 8;\n            case QRMode.MODE_KANJI      : return 8;\n            default :\n                throw new Error(\"mode:\" + mode);\n            }\n\n        } else if (type < 27) {\n\n            // 10 - 26\n\n            switch(mode) {\n            case QRMode.MODE_NUMBER     : return 12;\n            case QRMode.MODE_ALPHA_NUM  : return 11;\n            case QRMode.MODE_8BIT_BYTE  : return 16;\n            case QRMode.MODE_KANJI      : return 10;\n            default :\n                throw new Error(\"mode:\" + mode);\n            }\n\n        } else if (type < 41) {\n\n            // 27 - 40\n\n            switch(mode) {\n            case QRMode.MODE_NUMBER     : return 14;\n            case QRMode.MODE_ALPHA_NUM  : return 13;\n            case QRMode.MODE_8BIT_BYTE  : return 16;\n            case QRMode.MODE_KANJI      : return 12;\n            default :\n                throw new Error(\"mode:\" + mode);\n            }\n\n        } else {\n            throw new Error(\"type:\" + type);\n        }\n    },\n\n    getLostPoint : function(qrCode) {\n        \n        var moduleCount = qrCode.getModuleCount();\n        var lostPoint = 0;\n        var row = 0; \n        var col = 0;\n\n        \n        // LEVEL1\n        \n        for (row = 0; row < moduleCount; row++) {\n\n            for (col = 0; col < moduleCount; col++) {\n\n                var sameCount = 0;\n                var dark = qrCode.isDark(row, col);\n\n                for (var r = -1; r <= 1; r++) {\n\n                    if (row + r < 0 || moduleCount <= row + r) {\n                        continue;\n                    }\n\n                    for (var c = -1; c <= 1; c++) {\n\n                        if (col + c < 0 || moduleCount <= col + c) {\n                            continue;\n                        }\n\n                        if (r === 0 && c === 0) {\n                            continue;\n                        }\n\n                        if (dark === qrCode.isDark(row + r, col + c) ) {\n                            sameCount++;\n                        }\n                    }\n                }\n\n                if (sameCount > 5) {\n                    lostPoint += (3 + sameCount - 5);\n                }\n            }\n        }\n\n        // LEVEL2\n\n        for (row = 0; row < moduleCount - 1; row++) {\n            for (col = 0; col < moduleCount - 1; col++) {\n                var count = 0;\n                if (qrCode.isDark(row,     col    ) ) count++;\n                if (qrCode.isDark(row + 1, col    ) ) count++;\n                if (qrCode.isDark(row,     col + 1) ) count++;\n                if (qrCode.isDark(row + 1, col + 1) ) count++;\n                if (count === 0 || count === 4) {\n                    lostPoint += 3;\n                }\n            }\n        }\n\n        // LEVEL3\n\n        for (row = 0; row < moduleCount; row++) {\n            for (col = 0; col < moduleCount - 6; col++) {\n                if (qrCode.isDark(row, col) && \n                        !qrCode.isDark(row, col + 1) && \n                         qrCode.isDark(row, col + 2) && \n                         qrCode.isDark(row, col + 3) && \n                         qrCode.isDark(row, col + 4) && \n                        !qrCode.isDark(row, col + 5) && \n                         qrCode.isDark(row, col + 6) ) {\n                    lostPoint += 40;\n                }\n            }\n        }\n\n        for (col = 0; col < moduleCount; col++) {\n            for (row = 0; row < moduleCount - 6; row++) {\n                if (qrCode.isDark(row, col) &&\n                        !qrCode.isDark(row + 1, col) &&\n                         qrCode.isDark(row + 2, col) &&\n                         qrCode.isDark(row + 3, col) &&\n                         qrCode.isDark(row + 4, col) &&\n                        !qrCode.isDark(row + 5, col) &&\n                         qrCode.isDark(row + 6, col) ) {\n                    lostPoint += 40;\n                }\n            }\n        }\n\n        // LEVEL4\n        \n        var darkCount = 0;\n\n        for (col = 0; col < moduleCount; col++) {\n            for (row = 0; row < moduleCount; row++) {\n                if (qrCode.isDark(row, col) ) {\n                    darkCount++;\n                }\n            }\n        }\n        \n        var ratio = Math.abs(100 * darkCount / moduleCount / moduleCount - 50) / 5;\n        lostPoint += ratio * 10;\n\n        return lostPoint;       \n    }\n\n};\n\nmodule.exports = QRUtil;\n"]}