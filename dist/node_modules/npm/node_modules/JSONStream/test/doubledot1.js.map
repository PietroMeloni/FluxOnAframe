{"version":3,"sources":["../../../../../../node_modules/npm/node_modules/JSONStream/test/doubledot1.js"],"names":["fs","require","join","file","__dirname","JSONStream","it","expected","JSON","parse","readFileSync","parser","called","ended","parsed","createReadStream","pipe","on","data","push","process","equal","rows","length","i","deepEqual","value","rev","console","error"],"mappings":";;AAAA,IAAIA,KAAKC,QAAS,IAAT,CAAT;AAAA,IACIC,OAAOD,QAAQ,MAAR,EAAgBC,IAD3B;AAAA,IAEIC,OAAOD,KAAKE,SAAL,EAAgB,UAAhB,EAA2B,cAA3B,CAFX;AAAA,IAGIC,aAAaJ,QAAQ,KAAR,CAHjB;AAAA,IAIIK,KAAKL,QAAQ,OAAR,CAJT;;AAMA,IAAIM,WAAWC,KAAKC,KAAL,CAAWT,GAAGU,YAAH,CAAgBP,IAAhB,CAAX,CAAf;AAAA,IACIQ,SAASN,WAAWI,KAAX,CAAiB,WAAjB,CADb;AAAA,IAEIG,SAAS,CAFb;AAAA,IAGIC,QAAQ,KAHZ;AAAA,IAIIC,SAAS,EAJb;;AAMAd,GAAGe,gBAAH,CAAoBZ,IAApB,EAA0Ba,IAA1B,CAA+BL,MAA/B;;AAEAA,OAAOM,EAAP,CAAU,MAAV,EAAkB,UAAUC,IAAV,EAAgB;AAChCN;AACAE,SAAOK,IAAP,CAAYD,IAAZ;AACD,CAHD;;AAKAP,OAAOM,EAAP,CAAU,KAAV,EAAiB,YAAY;AAC3BJ,UAAQ,IAAR;AACD,CAFD;;AAIAO,QAAQH,EAAR,CAAW,MAAX,EAAmB,YAAY;AAC7BX,KAAGM,MAAH,EAAWS,KAAX,CAAiBd,SAASe,IAAT,CAAcC,MAA/B;AACA,OAAK,IAAIC,IAAI,CAAb,EAAiBA,IAAIjB,SAASe,IAAT,CAAcC,MAAnC,EAA4CC,GAA5C;AACElB,OAAGQ,OAAOU,CAAP,CAAH,EAAcC,SAAd,CAAwBlB,SAASe,IAAT,CAAcE,CAAd,EAAiBE,KAAjB,CAAuBC,GAA/C;AADF,GAEAC,QAAQC,KAAR,CAAc,QAAd;AACD,CALD","file":"doubledot1.js","sourcesContent":["var fs = require ('fs')\n  , join = require('path').join\n  , file = join(__dirname, 'fixtures','all_npm.json')\n  , JSONStream = require('../')\n  , it = require('it-is')\n\nvar expected = JSON.parse(fs.readFileSync(file))\n  , parser = JSONStream.parse('rows..rev')\n  , called = 0\n  , ended = false\n  , parsed = []\n\nfs.createReadStream(file).pipe(parser)\n  \nparser.on('data', function (data) {\n  called ++\n  parsed.push(data)\n})\n\nparser.on('end', function () {\n  ended = true\n})\n\nprocess.on('exit', function () {\n  it(called).equal(expected.rows.length)\n  for (var i = 0 ; i < expected.rows.length ; i++)\n    it(parsed[i]).deepEqual(expected.rows[i].value.rev)\n  console.error('PASSED')\n})\n"]}