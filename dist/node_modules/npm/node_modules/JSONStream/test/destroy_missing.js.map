{"version":3,"sources":["../../../../../../node_modules/npm/node_modules/JSONStream/test/destroy_missing.js"],"names":["fs","require","net","join","file","__dirname","JSONStream","server","createServer","client","parser","parse","on","console","log","error","close","pipe","n","end","listen","connect","port","createReadStream"],"mappings":";;AAAA,IAAIA,KAAKC,QAAS,IAAT,CAAT;AACA,IAAIC,MAAMD,QAAQ,KAAR,CAAV;AACA,IAAIE,OAAOF,QAAQ,MAAR,EAAgBE,IAA3B;AACA,IAAIC,OAAOD,KAAKE,SAAL,EAAgB,UAAhB,EAA2B,cAA3B,CAAX;AACA,IAAIC,aAAaL,QAAQ,KAAR,CAAjB;;AAGA,IAAIM,SAASL,IAAIM,YAAJ,CAAiB,UAASC,MAAT,EAAiB;AAC3C,QAAIC,SAASJ,WAAWK,KAAX,CAAiB,EAAjB,CAAb;AACAD,WAAOE,EAAP,CAAU,KAAV,EAAiB,YAAW;AACxBC,gBAAQC,GAAR,CAAY,OAAZ;AACAD,gBAAQE,KAAR,CAAc,QAAd;AACAR,eAAOS,KAAP;AACH,KAJD;AAKAP,WAAOQ,IAAP,CAAYP,MAAZ;AACA,QAAIQ,IAAI,CAAR;AACAT,WAAOG,EAAP,CAAU,MAAV,EAAkB,YAAY;AAC5B,YAAG,EAAEM,CAAL,EAAQ;AACRT,eAAOU,GAAP;AACD,KAHD;AAIH,CAbY,CAAb;AAcAZ,OAAOa,MAAP,CAAc,IAAd;;AAGA,IAAIX,SAASP,IAAImB,OAAJ,CAAY,EAAEC,MAAO,IAAT,EAAZ,EAA6B,YAAW;AACjDtB,OAAGuB,gBAAH,CAAoBnB,IAApB,EAA0Ba,IAA1B,CAA+BR,MAA/B,EAAuCG,EAAvC,CAA0C,MAA1C,EAAkDC,QAAQC,GAA1D,EADiD,CACc;AAClE,CAFY,CAAb","file":"destroy_missing.js","sourcesContent":["var fs = require ('fs');\nvar net = require('net');\nvar join = require('path').join;\nvar file = join(__dirname, 'fixtures','all_npm.json');\nvar JSONStream = require('../');\n\n\nvar server = net.createServer(function(client) {\n    var parser = JSONStream.parse([]);\n    parser.on('end', function() {\n        console.log('close')\n        console.error('PASSED');\n        server.close();\n    });\n    client.pipe(parser);\n    var n = 4\n    client.on('data', function () {\n      if(--n) return\n      client.end();\n    })\n});\nserver.listen(9999);\n\n\nvar client = net.connect({ port : 9999 }, function() {\n    fs.createReadStream(file).pipe(client).on('data', console.log) //.resume();\n});\n"]}