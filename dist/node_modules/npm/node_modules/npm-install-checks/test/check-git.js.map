{"version":3,"sources":["../../../../../../node_modules/npm/node_modules/npm-install-checks/test/check-git.js"],"names":["test","require","c","checkGit","rimraf","mkdirp","path","gitFixturePath","resolve","__dirname","t","err","ok","equal","code","end","notOk","pass"],"mappings":";;AAAA,IAAIA,OAAOC,QAAQ,KAAR,EAAeD,IAA1B;AACA,IAAIE,IAAID,QAAQ,aAAR,EAAuBE,QAA/B;AACA,IAAIC,SAASH,QAAQ,QAAR,CAAb;AACA,IAAII,SAASJ,QAAQ,QAAR,CAAb;AACA,IAAIK,OAAOL,QAAQ,MAAR,CAAX;AACA,IAAIM,iBAAiBD,KAAKE,OAAL,CAAaC,SAAb,EAAwB,KAAxB,CAArB;;AAEAT,KAAK,cAAL,EAAqB,UAAUU,CAAV,EAAa;AAChCL,SAAOE,iBAAiB,OAAxB,EAAiC,YAAY;AAC3CL,MAAEK,cAAF,EAAkB,UAAUI,GAAV,EAAe;AAC/BD,QAAEE,EAAF,CAAKD,GAAL,EAAU,eAAV;AACAD,QAAEG,KAAF,CAAQF,IAAIG,IAAZ,EAAkB,QAAlB;AACAJ,QAAEK,GAAF;AACD,KAJD;AAKD,GAND;AAOD,CARD;;AAUAf,KAAK,oBAAL,EAA2B,UAAUU,CAAV,EAAa;AACtCR,IAAEO,SAAF,EAAa,UAAUE,GAAV,EAAe;AAC1BD,MAAEM,KAAF,CAAQL,GAAR,EAAa,mBAAb;AACAD,MAAEK,GAAF;AACD,GAHD;AAID,CALD;;AAOAf,KAAK,WAAL,EAAkB,UAAUU,CAAV,EAAa;AAC7BR,IAAE,mBAAF,EAAuB,UAAUS,GAAV,EAAe;AACpCD,MAAEM,KAAF,CAAQL,GAAR,EAAa,sCAAb;AACAD,MAAEK,GAAF;AACD,GAHD;AAID,CALD;;AAOAf,KAAK,SAAL,EAAgB,UAAUU,CAAV,EAAa;AAC3BN,SAAOG,cAAP,EAAuB,YAAY;AACjCG,MAAEO,IAAF,CAAO,SAAP;AACAP,MAAEK,GAAF;AACD,GAHD;AAID,CALD","file":"check-git.js","sourcesContent":["var test = require('tap').test\nvar c = require('../index.js').checkGit\nvar rimraf = require('rimraf')\nvar mkdirp = require('mkdirp')\nvar path = require('path')\nvar gitFixturePath = path.resolve(__dirname, 'out')\n\ntest('is .git repo', function (t) {\n  mkdirp(gitFixturePath + '/.git', function () {\n    c(gitFixturePath, function (err) {\n      t.ok(err, 'error present')\n      t.equal(err.code, 'EISGIT')\n      t.end()\n    })\n  })\n})\n\ntest('is not a .git repo', function (t) {\n  c(__dirname, function (err) {\n    t.notOk(err, 'error not present')\n    t.end()\n  })\n})\n\ntest('non-thing', function (t) {\n  c('/path/to/no/where', function (err) {\n    t.notOk(err, 'non-existent path is not a .git repo')\n    t.end()\n  })\n})\n\ntest('cleanup', function (t) {\n  rimraf(gitFixturePath, function () {\n    t.pass('cleanup')\n    t.end()\n  })\n})\n"]}