{"version":3,"sources":["../../../../../node_modules/npm/node_modules/stream-shift/index.js"],"names":["module","exports","shift","stream","rs","_readableState","objectMode","read","getStateLength","state","buffer","length","head","data"],"mappings":";;AAAAA,OAAOC,OAAP,GAAiBC,KAAjB;;AAEA,SAASA,KAAT,CAAgBC,MAAhB,EAAwB;AACtB,MAAIC,KAAKD,OAAOE,cAAhB;AACA,MAAI,CAACD,EAAL,EAAS,OAAO,IAAP;AACT,SAAOA,GAAGE,UAAH,GAAgBH,OAAOI,IAAP,EAAhB,GAAgCJ,OAAOI,IAAP,CAAYC,eAAeJ,EAAf,CAAZ,CAAvC;AACD;;AAED,SAASI,cAAT,CAAyBC,KAAzB,EAAgC;AAC9B,MAAIA,MAAMC,MAAN,CAAaC,MAAjB,EAAyB;AACvB;AACA,QAAIF,MAAMC,MAAN,CAAaE,IAAjB,EAAuB;AACrB,aAAOH,MAAMC,MAAN,CAAaE,IAAb,CAAkBC,IAAlB,CAAuBF,MAA9B;AACD;;AAED,WAAOF,MAAMC,MAAN,CAAa,CAAb,EAAgBC,MAAvB;AACD;;AAED,SAAOF,MAAME,MAAb;AACD","file":"index.js","sourcesContent":["module.exports = shift\n\nfunction shift (stream) {\n  var rs = stream._readableState\n  if (!rs) return null\n  return rs.objectMode ? stream.read() : stream.read(getStateLength(rs))\n}\n\nfunction getStateLength (state) {\n  if (state.buffer.length) {\n    // Since node 6.3.0 state.buffer is a BufferList not an array\n    if (state.buffer.head) {\n      return state.buffer.head.data.length\n    }\n\n    return state.buffer[0].length\n  }\n\n  return state.length\n}\n"]}