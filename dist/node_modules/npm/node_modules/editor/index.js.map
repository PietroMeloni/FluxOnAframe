{"version":3,"sources":["../../../../../node_modules/npm/node_modules/editor/index.js"],"names":["spawn","require","module","exports","file","opts","cb","ed","test","process","platform","editor","env","VISUAL","EDITOR","args","split","bin","shift","ps","concat","stdio","on","code","sig"],"mappings":";;AAAA,IAAIA,QAAQC,QAAQ,eAAR,EAAyBD,KAArC;;AAEAE,OAAOC,OAAP,GAAiB,UAAUC,IAAV,EAAgBC,IAAhB,EAAsBC,EAAtB,EAA0B;AACvC,QAAI,OAAOD,IAAP,KAAgB,UAApB,EAAgC;AAC5BC,aAAKD,IAAL;AACAA,eAAO,EAAP;AACH;AACD,QAAI,CAACA,IAAL,EAAWA,OAAO,EAAP;;AAEX,QAAIE,KAAK,OAAOC,IAAP,CAAYC,QAAQC,QAApB,IAAgC,SAAhC,GAA4C,KAArD;AACA,QAAIC,SAASN,KAAKM,MAAL,IAAeF,QAAQG,GAAR,CAAYC,MAA3B,IAAqCJ,QAAQG,GAAR,CAAYE,MAAjD,IAA2DP,EAAxE;AACA,QAAIQ,OAAOJ,OAAOK,KAAP,CAAa,KAAb,CAAX;AACA,QAAIC,MAAMF,KAAKG,KAAL,EAAV;;AAEA,QAAIC,KAAKnB,MAAMiB,GAAN,EAAWF,KAAKK,MAAL,CAAY,CAAEhB,IAAF,CAAZ,CAAX,EAAkC,EAAEiB,OAAO,SAAT,EAAlC,CAAT;;AAEAF,OAAGG,EAAH,CAAM,MAAN,EAAc,UAAUC,IAAV,EAAgBC,GAAhB,EAAqB;AAC/B,YAAI,OAAOlB,EAAP,KAAc,UAAlB,EAA8BA,GAAGiB,IAAH,EAASC,GAAT;AACjC,KAFD;AAGH,CAjBD","file":"index.js","sourcesContent":["var spawn = require('child_process').spawn;\n\nmodule.exports = function (file, opts, cb) {\n    if (typeof opts === 'function') {\n        cb = opts;\n        opts = {};\n    }\n    if (!opts) opts = {};\n    \n    var ed = /^win/.test(process.platform) ? 'notepad' : 'vim';\n    var editor = opts.editor || process.env.VISUAL || process.env.EDITOR || ed;\n    var args = editor.split(/\\s+/);\n    var bin = args.shift();\n    \n    var ps = spawn(bin, args.concat([ file ]), { stdio: 'inherit' });\n    \n    ps.on('exit', function (code, sig) {\n        if (typeof cb === 'function') cb(code, sig)\n    });\n};\n"]}