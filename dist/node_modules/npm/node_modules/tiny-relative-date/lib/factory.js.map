{"version":3,"sources":["../../../../../../node_modules/npm/node_modules/tiny-relative-date/lib/factory.js"],"names":["Object","defineProperty","exports","value","default","relativeDateFactory","calculateDelta","now","date","Math","round","abs","translations","relativeDate","arguments","length","undefined","Date","delta","minute","hour","day","week","month","year","getFullYear","getMonth","getDate","translate","translatePhrase","timeValue","key","translation","replace","floor","module"],"mappings":"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","file":"factory.js","sourcesContent":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = relativeDateFactory;\nvar calculateDelta = function calculateDelta(now, date) {\n  return Math.round(Math.abs(now - date) / 1000);\n};\n\nfunction relativeDateFactory(translations) {\n  return function relativeDate(date) {\n    var now = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : new Date();\n\n    if (!(date instanceof Date)) {\n      date = new Date(date);\n    }\n\n    var delta = null;\n\n    var minute = 60;\n    var hour = minute * 60;\n    var day = hour * 24;\n    var week = day * 7;\n    var month = day * 30;\n    var year = day * 365;\n\n    delta = calculateDelta(now, date);\n\n    if (delta > day && delta < week) {\n      date = new Date(date.getFullYear(), date.getMonth(), date.getDate(), 0, 0, 0);\n      delta = calculateDelta(now, date);\n    }\n\n    var translate = function translate(translatePhrase, timeValue) {\n      var key = void 0;\n\n      if (translatePhrase === 'justNow') {\n        key = translatePhrase;\n      } else if (now >= date) {\n        key = translatePhrase + 'Ago';\n      } else {\n        key = translatePhrase + 'FromNow';\n      }\n\n      var translation = translations[key];\n\n      if (typeof translation === 'function') {\n        return translation(timeValue);\n      }\n\n      return translation.replace('{{time}}', timeValue);\n    };\n\n    switch (false) {\n      case !(delta < 30):\n        return translate('justNow');\n\n      case !(delta < minute):\n        return translate('seconds', delta);\n\n      case !(delta < 2 * minute):\n        return translate('aMinute');\n\n      case !(delta < hour):\n        return translate('minutes', Math.floor(delta / minute));\n\n      case Math.floor(delta / hour) !== 1:\n        return translate('anHour');\n\n      case !(delta < day):\n        return translate('hours', Math.floor(delta / hour));\n\n      case !(delta < day * 2):\n        return translate('aDay');\n\n      case !(delta < week):\n        return translate('days', Math.floor(delta / day));\n\n      case Math.floor(delta / week) !== 1:\n        return translate('aWeek');\n\n      case !(delta < month):\n        return translate('weeks', Math.floor(delta / week));\n\n      case Math.floor(delta / month) !== 1:\n        return translate('aMonth');\n\n      case !(delta < year):\n        return translate('months', Math.floor(delta / month));\n\n      case Math.floor(delta / year) !== 1:\n        return translate('aYear');\n\n      default:\n        return translate('overAYear');\n    }\n  };\n}\nmodule.exports = exports['default'];"]}