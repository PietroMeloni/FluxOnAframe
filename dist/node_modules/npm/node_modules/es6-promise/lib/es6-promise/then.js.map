{"version":3,"sources":["../../../../../../../node_modules/npm/node_modules/es6-promise/lib/es6-promise/then.js"],"names":["then","onFulfillment","onRejection","parent","child","constructor","noop","PROMISE_ID","undefined","_state","callback","arguments","_result"],"mappings":";;;;;kBAYwBA,I;;AAZxB;;AAUA;;AAEe,SAASA,IAAT,CAAcC,aAAd,EAA6BC,WAA7B,EAA0C;AACvD,MAAMC,SAAS,IAAf;;AAEA,MAAMC,QAAQ,IAAI,KAAKC,WAAT,CAAqBC,cAArB,CAAd;;AAEA,MAAIF,MAAMG,oBAAN,MAAsBC,SAA1B,EAAqC;AACnC,+BAAYJ,KAAZ;AACD;;AAPsD,MAS/CK,MAT+C,GASpCN,MAToC,CAS/CM,MAT+C;;;AAWvD,MAAIA,MAAJ,EAAY;AACV,QAAMC,WAAWC,UAAUF,SAAS,CAAnB,CAAjB;AACA,oBAAK;AAAA,aAAM,8BAAeA,MAAf,EAAuBL,KAAvB,EAA8BM,QAA9B,EAAwCP,OAAOS,OAA/C,CAAN;AAAA,KAAL;AACD,GAHD,MAGO;AACL,6BAAUT,MAAV,EAAkBC,KAAlB,EAAyBH,aAAzB,EAAwCC,WAAxC;AACD;;AAED,SAAOE,KAAP;AACD","file":"then.js","sourcesContent":["import {\n  invokeCallback,\n  subscribe,\n  FULFILLED,\n  REJECTED,\n  noop,\n  makePromise,\n  PROMISE_ID\n} from './-internal';\n\nimport { asap } from './asap';\n\nexport default function then(onFulfillment, onRejection) {\n  const parent = this;\n\n  const child = new this.constructor(noop);\n\n  if (child[PROMISE_ID] === undefined) {\n    makePromise(child);\n  }\n\n  const { _state } = parent;\n\n  if (_state) {\n    const callback = arguments[_state - 1];\n    asap(() => invokeCallback(_state, child, callback, parent._result));\n  } else {\n    subscribe(parent, child, onFulfillment, onRejection);\n  }\n\n  return child;\n}\n"]}