{"version":3,"sources":["../../../../../../node_modules/npm/node_modules/fstream/lib/abstract.js"],"names":["module","exports","Abstract","Stream","require","inherits","call","prototype","on","ev","fn","ready","process","nextTick","bind","abort","_aborted","emit","destroy","warn","msg","code","self","er","decorate","listeners","console","error","stack","path","syscall","fstream_type","fstream_path","fstream_unc_path","fstream_class","fstream_stack","join","info","th","Error","type","_path","linkpath","fstream_linkpath","constructor","name","split","slice","map","s","replace"],"mappings":"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","file":"abstract.js","sourcesContent":["// the parent class for all fstreams.\n\nmodule.exports = Abstract\n\nvar Stream = require('stream').Stream\nvar inherits = require('inherits')\n\nfunction Abstract () {\n  Stream.call(this)\n}\n\ninherits(Abstract, Stream)\n\nAbstract.prototype.on = function (ev, fn) {\n  if (ev === 'ready' && this.ready) {\n    process.nextTick(fn.bind(this))\n  } else {\n    Stream.prototype.on.call(this, ev, fn)\n  }\n  return this\n}\n\nAbstract.prototype.abort = function () {\n  this._aborted = true\n  this.emit('abort')\n}\n\nAbstract.prototype.destroy = function () {}\n\nAbstract.prototype.warn = function (msg, code) {\n  var self = this\n  var er = decorate(msg, code, self)\n  if (!self.listeners('warn')) {\n    console.error('%s %s\\n' +\n    'path = %s\\n' +\n    'syscall = %s\\n' +\n    'fstream_type = %s\\n' +\n    'fstream_path = %s\\n' +\n    'fstream_unc_path = %s\\n' +\n    'fstream_class = %s\\n' +\n    'fstream_stack =\\n%s\\n',\n      code || 'UNKNOWN',\n      er.stack,\n      er.path,\n      er.syscall,\n      er.fstream_type,\n      er.fstream_path,\n      er.fstream_unc_path,\n      er.fstream_class,\n      er.fstream_stack.join('\\n'))\n  } else {\n    self.emit('warn', er)\n  }\n}\n\nAbstract.prototype.info = function (msg, code) {\n  this.emit('info', msg, code)\n}\n\nAbstract.prototype.error = function (msg, code, th) {\n  var er = decorate(msg, code, this)\n  if (th) throw er\n  else this.emit('error', er)\n}\n\nfunction decorate (er, code, self) {\n  if (!(er instanceof Error)) er = new Error(er)\n  er.code = er.code || code\n  er.path = er.path || self.path\n  er.fstream_type = er.fstream_type || self.type\n  er.fstream_path = er.fstream_path || self.path\n  if (self._path !== self.path) {\n    er.fstream_unc_path = er.fstream_unc_path || self._path\n  }\n  if (self.linkpath) {\n    er.fstream_linkpath = er.fstream_linkpath || self.linkpath\n  }\n  er.fstream_class = er.fstream_class || self.constructor.name\n  er.fstream_stack = er.fstream_stack ||\n    new Error().stack.split(/\\n/).slice(3).map(function (s) {\n      return s.replace(/^ {4}at /, '')\n    })\n\n  return er\n}\n"]}