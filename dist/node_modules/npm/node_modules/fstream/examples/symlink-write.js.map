{"version":3,"sources":["../../../../../../node_modules/npm/node_modules/fstream/examples/symlink-write.js"],"names":["fstream","require","notOpen","process","chdir","__dirname","Writer","path","linkpath","isSymbolicLink","mode","on","fs","s","lstatSync","isSym","console","log","t","readlinkSync","isTarget","end"],"mappings":";;AAAA,IAAIA,UAAUC,QAAQ,eAAR,CAAd;AACA,IAAIC,UAAU,KAAd;AACAC,QAAQC,KAAR,CAAcC,SAAd;;AAEAL,QACGM,MADH,CACU;AACNC,QAAM,iBADA;AAENC,YAAU,QAFJ;AAGNC,kBAAgB,IAHV;AAINC,QAAM,MAJA,CAIO;AAJP,CADV,EAOGC,EAPH,CAOM,OAPN,EAOe,YAAY;AACvBT,YAAU,IAAV;AACA,MAAIU,KAAKX,QAAQ,IAAR,CAAT;AACA,MAAIY,IAAID,GAAGE,SAAH,CAAa,iBAAb,CAAR;AACA,MAAIC,QAAQF,EAAEJ,cAAF,EAAZ;AACAO,UAAQC,GAAR,CAAY,CAACF,QAAQ,EAAR,GAAa,MAAd,IAAwB,wBAApC;AACA,MAAIG,IAAIN,GAAGO,YAAH,CAAgB,iBAAhB,CAAR;AACA,MAAIC,WAAWF,MAAM,QAArB;AACAF,UAAQC,GAAR,CAAY,CAACG,WAAW,EAAX,GAAgB,MAAjB,IAA2B,4BAAvC;AACD,CAhBH,EAiBGC,GAjBH;;AAmBAlB,QAAQQ,EAAR,CAAW,MAAX,EAAmB,YAAY;AAC7BK,UAAQC,GAAR,CAAY,CAACf,UAAU,EAAV,GAAe,MAAhB,IAA0B,uBAAtC;AACAc,UAAQC,GAAR,CAAY,MAAZ;AACD,CAHD","file":"symlink-write.js","sourcesContent":["var fstream = require('../fstream.js')\nvar notOpen = false\nprocess.chdir(__dirname)\n\nfstream\n  .Writer({\n    path: 'path/to/symlink',\n    linkpath: './file',\n    isSymbolicLink: true,\n    mode: '0755' // octal strings supported\n  })\n  .on('close', function () {\n    notOpen = true\n    var fs = require('fs')\n    var s = fs.lstatSync('path/to/symlink')\n    var isSym = s.isSymbolicLink()\n    console.log((isSym ? '' : 'not ') + 'ok 1 should be symlink')\n    var t = fs.readlinkSync('path/to/symlink')\n    var isTarget = t === './file'\n    console.log((isTarget ? '' : 'not ') + 'ok 2 should link to ./file')\n  })\n  .end()\n\nprocess.on('exit', function () {\n  console.log((notOpen ? '' : 'not ') + 'ok 3 should be closed')\n  console.log('1..3')\n})\n"]}