'use strict';

var BB = require('bluebird');

var log = require('npmlog');
var pacote = require('pacote');

module.exports = function (args, cb) {
  var parsed = typeof args === 'string' ? JSON.parse(args) : args;
  var spec = parsed[0];
  var extractTo = parsed[1];
  var opts = parsed[2];
  opts.log = log;
  log.level = opts.loglevel;
  return BB.resolve(pacote.extract(spec, extractTo, opts)).nodeify(cb);
};
//# sourceMappingURL=worker.js.map