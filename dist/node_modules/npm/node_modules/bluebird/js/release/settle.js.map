{"version":3,"sources":["../../../../../../../node_modules/npm/node_modules/bluebird/js/release/settle.js"],"names":["module","exports","Promise","PromiseArray","debug","PromiseInspection","util","require","SettledPromiseArray","values","constructor$","inherits","prototype","_promiseResolved","index","inspection","_values","totalResolved","_totalResolved","_length","_resolve","_promiseFulfilled","value","ret","_bitField","_settledValueField","_promiseRejected","reason","settle","promises","deprecated","promise"],"mappings":"AAAA;;AACAA,OAAOC,OAAP,GACI,UAASC,OAAT,EAAkBC,YAAlB,EAAgCC,KAAhC,EAAuC;AAC3C,QAAIC,oBAAoBH,QAAQG,iBAAhC;AACA,QAAIC,OAAOC,QAAQ,QAAR,CAAX;;AAEA,aAASC,mBAAT,CAA6BC,MAA7B,EAAqC;AACjC,aAAKC,YAAL,CAAkBD,MAAlB;AACH;AACDH,SAAKK,QAAL,CAAcH,mBAAd,EAAmCL,YAAnC;;AAEAK,wBAAoBI,SAApB,CAA8BC,gBAA9B,GAAiD,UAAUC,KAAV,EAAiBC,UAAjB,EAA6B;AAC1E,aAAKC,OAAL,CAAaF,KAAb,IAAsBC,UAAtB;AACA,YAAIE,gBAAgB,EAAE,KAAKC,cAA3B;AACA,YAAID,iBAAiB,KAAKE,OAA1B,EAAmC;AAC/B,iBAAKC,QAAL,CAAc,KAAKJ,OAAnB;AACA,mBAAO,IAAP;AACH;AACD,eAAO,KAAP;AACH,KARD;;AAUAR,wBAAoBI,SAApB,CAA8BS,iBAA9B,GAAkD,UAAUC,KAAV,EAAiBR,KAAjB,EAAwB;AACtE,YAAIS,MAAM,IAAIlB,iBAAJ,EAAV;AACAkB,YAAIC,SAAJ,GAAgB,QAAhB;AACAD,YAAIE,kBAAJ,GAAyBH,KAAzB;AACA,eAAO,KAAKT,gBAAL,CAAsBC,KAAtB,EAA6BS,GAA7B,CAAP;AACH,KALD;AAMAf,wBAAoBI,SAApB,CAA8Bc,gBAA9B,GAAiD,UAAUC,MAAV,EAAkBb,KAAlB,EAAyB;AACtE,YAAIS,MAAM,IAAIlB,iBAAJ,EAAV;AACAkB,YAAIC,SAAJ,GAAgB,QAAhB;AACAD,YAAIE,kBAAJ,GAAyBE,MAAzB;AACA,eAAO,KAAKd,gBAAL,CAAsBC,KAAtB,EAA6BS,GAA7B,CAAP;AACH,KALD;;AAOArB,YAAQ0B,MAAR,GAAiB,UAAUC,QAAV,EAAoB;AACjCzB,cAAM0B,UAAN,CAAiB,WAAjB,EAA8B,YAA9B;AACA,eAAO,IAAItB,mBAAJ,CAAwBqB,QAAxB,EAAkCE,OAAlC,EAAP;AACH,KAHD;;AAKA7B,YAAQU,SAAR,CAAkBgB,MAAlB,GAA2B,YAAY;AACnC,eAAO1B,QAAQ0B,MAAR,CAAe,IAAf,CAAP;AACH,KAFD;AAGC,CAzCD","file":"settle.js","sourcesContent":["\"use strict\";\nmodule.exports =\n    function(Promise, PromiseArray, debug) {\nvar PromiseInspection = Promise.PromiseInspection;\nvar util = require(\"./util\");\n\nfunction SettledPromiseArray(values) {\n    this.constructor$(values);\n}\nutil.inherits(SettledPromiseArray, PromiseArray);\n\nSettledPromiseArray.prototype._promiseResolved = function (index, inspection) {\n    this._values[index] = inspection;\n    var totalResolved = ++this._totalResolved;\n    if (totalResolved >= this._length) {\n        this._resolve(this._values);\n        return true;\n    }\n    return false;\n};\n\nSettledPromiseArray.prototype._promiseFulfilled = function (value, index) {\n    var ret = new PromiseInspection();\n    ret._bitField = 33554432;\n    ret._settledValueField = value;\n    return this._promiseResolved(index, ret);\n};\nSettledPromiseArray.prototype._promiseRejected = function (reason, index) {\n    var ret = new PromiseInspection();\n    ret._bitField = 16777216;\n    ret._settledValueField = reason;\n    return this._promiseResolved(index, ret);\n};\n\nPromise.settle = function (promises) {\n    debug.deprecated(\".settle()\", \".reflect()\");\n    return new SettledPromiseArray(promises).promise();\n};\n\nPromise.prototype.settle = function () {\n    return Promise.settle(this);\n};\n};\n"]}