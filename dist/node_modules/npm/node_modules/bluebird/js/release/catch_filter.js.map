{"version":3,"sources":["../../../../../../../node_modules/npm/node_modules/bluebird/js/release/catch_filter.js"],"names":["module","exports","NEXT_FILTER","util","require","getKeys","keys","tryCatch","errorObj","catchFilter","instances","cb","promise","e","boundTo","_boundValue","predicateLoop","i","length","item","Error","prototype","call","matchesPredicate","isObject","j","key"],"mappings":"AAAA;;AACAA,OAAOC,OAAP,GAAiB,UAASC,WAAT,EAAsB;AACvC,QAAIC,OAAOC,QAAQ,QAAR,CAAX;AACA,QAAIC,UAAUD,QAAQ,OAAR,EAAiBE,IAA/B;AACA,QAAIC,WAAWJ,KAAKI,QAApB;AACA,QAAIC,WAAWL,KAAKK,QAApB;;AAEA,aAASC,WAAT,CAAqBC,SAArB,EAAgCC,EAAhC,EAAoCC,OAApC,EAA6C;AACzC,eAAO,UAASC,CAAT,EAAY;AACf,gBAAIC,UAAUF,QAAQG,WAAR,EAAd;AACAC,2BAAe,KAAK,IAAIC,IAAI,CAAb,EAAgBA,IAAIP,UAAUQ,MAA9B,EAAsC,EAAED,CAAxC,EAA2C;AACtD,oBAAIE,OAAOT,UAAUO,CAAV,CAAX;;AAEA,oBAAIE,SAASC,KAAT,IACCD,QAAQ,IAAR,IAAgBA,KAAKE,SAAL,YAA0BD,KAD/C,EACuD;AACnD,wBAAIP,aAAaM,IAAjB,EAAuB;AACnB,+BAAOZ,SAASI,EAAT,EAAaW,IAAb,CAAkBR,OAAlB,EAA2BD,CAA3B,CAAP;AACH;AACJ,iBALD,MAKO,IAAI,OAAOM,IAAP,KAAgB,UAApB,EAAgC;AACnC,wBAAII,mBAAmBhB,SAASY,IAAT,EAAeG,IAAf,CAAoBR,OAApB,EAA6BD,CAA7B,CAAvB;AACA,wBAAIU,qBAAqBf,QAAzB,EAAmC;AAC/B,+BAAOe,gBAAP;AACH,qBAFD,MAEO,IAAIA,gBAAJ,EAAsB;AACzB,+BAAOhB,SAASI,EAAT,EAAaW,IAAb,CAAkBR,OAAlB,EAA2BD,CAA3B,CAAP;AACH;AACJ,iBAPM,MAOA,IAAIV,KAAKqB,QAAL,CAAcX,CAAd,CAAJ,EAAsB;AACzB,wBAAIP,OAAOD,QAAQc,IAAR,CAAX;AACA,yBAAK,IAAIM,IAAI,CAAb,EAAgBA,IAAInB,KAAKY,MAAzB,EAAiC,EAAEO,CAAnC,EAAsC;AAClC,4BAAIC,MAAMpB,KAAKmB,CAAL,CAAV;AACA,4BAAIN,KAAKO,GAAL,KAAab,EAAEa,GAAF,CAAjB,EAAyB;AACrB,qCAASV,aAAT;AACH;AACJ;AACD,2BAAOT,SAASI,EAAT,EAAaW,IAAb,CAAkBR,OAAlB,EAA2BD,CAA3B,CAAP;AACH;AACJ;AACD,mBAAOX,WAAP;AACH,SA7BD;AA8BH;;AAED,WAAOO,WAAP;AACC,CAxCD","file":"catch_filter.js","sourcesContent":["\"use strict\";\nmodule.exports = function(NEXT_FILTER) {\nvar util = require(\"./util\");\nvar getKeys = require(\"./es5\").keys;\nvar tryCatch = util.tryCatch;\nvar errorObj = util.errorObj;\n\nfunction catchFilter(instances, cb, promise) {\n    return function(e) {\n        var boundTo = promise._boundValue();\n        predicateLoop: for (var i = 0; i < instances.length; ++i) {\n            var item = instances[i];\n\n            if (item === Error ||\n                (item != null && item.prototype instanceof Error)) {\n                if (e instanceof item) {\n                    return tryCatch(cb).call(boundTo, e);\n                }\n            } else if (typeof item === \"function\") {\n                var matchesPredicate = tryCatch(item).call(boundTo, e);\n                if (matchesPredicate === errorObj) {\n                    return matchesPredicate;\n                } else if (matchesPredicate) {\n                    return tryCatch(cb).call(boundTo, e);\n                }\n            } else if (util.isObject(e)) {\n                var keys = getKeys(item);\n                for (var j = 0; j < keys.length; ++j) {\n                    var key = keys[j];\n                    if (item[key] != e[key]) {\n                        continue predicateLoop;\n                    }\n                }\n                return tryCatch(cb).call(boundTo, e);\n            }\n        }\n        return NEXT_FILTER;\n    };\n}\n\nreturn catchFilter;\n};\n"]}