{"version":3,"sources":["../../../../../../../node_modules/npm/node_modules/bluebird/js/release/schedule.js"],"names":["util","require","schedule","noAsyncScheduler","Error","NativePromise","getNativePromise","isNode","MutationObserver","GlobalSetImmediate","global","setImmediate","ProcessNextTick","process","nextTick","isRecentNode","fn","call","resolve","nativePromise","then","window","navigator","standalone","cordova","div","document","createElement","opts","attributes","toggleScheduled","div2","o2","classList","toggle","observe","scheduleToggle","o","disconnect","setTimeout","module","exports"],"mappings":"AAAA;;AACA,IAAIA,OAAOC,QAAQ,QAAR,CAAX;AACA,IAAIC,QAAJ;AACA,IAAIC,mBAAmB,SAAnBA,gBAAmB,GAAW;AAC9B,UAAM,IAAIC,KAAJ,CAAU,gEAAV,CAAN;AACH,CAFD;AAGA,IAAIC,gBAAgBL,KAAKM,gBAAL,EAApB;AACA,IAAIN,KAAKO,MAAL,IAAe,OAAOC,gBAAP,KAA4B,WAA/C,EAA4D;AACxD,QAAIC,qBAAqBC,OAAOC,YAAhC;AACA,QAAIC,kBAAkBC,QAAQC,QAA9B;AACAZ,eAAWF,KAAKe,YAAL,GACG,UAASC,EAAT,EAAa;AAAEP,2BAAmBQ,IAAnB,CAAwBP,MAAxB,EAAgCM,EAAhC;AAAsC,KADxD,GAEG,UAASA,EAAT,EAAa;AAAEJ,wBAAgBK,IAAhB,CAAqBJ,OAArB,EAA8BG,EAA9B;AAAoC,KAFjE;AAGH,CAND,MAMO,IAAI,OAAOX,aAAP,KAAyB,UAAzB,IACA,OAAOA,cAAca,OAArB,KAAiC,UADrC,EACiD;AACpD,QAAIC,gBAAgBd,cAAca,OAAd,EAApB;AACAhB,eAAW,kBAASc,EAAT,EAAa;AACpBG,sBAAcC,IAAd,CAAmBJ,EAAnB;AACH,KAFD;AAGH,CANM,MAMA,IAAK,OAAOR,gBAAP,KAA4B,WAA7B,IACD,EAAE,OAAOa,MAAP,KAAkB,WAAlB,IACAA,OAAOC,SADP,KAECD,OAAOC,SAAP,CAAiBC,UAAjB,IAA+BF,OAAOG,OAFvC,CAAF,CADH,EAGuD;AAC1DtB,eAAY,YAAW;AACnB,YAAIuB,MAAMC,SAASC,aAAT,CAAuB,KAAvB,CAAV;AACA,YAAIC,OAAO,EAACC,YAAY,IAAb,EAAX;AACA,YAAIC,kBAAkB,KAAtB;AACA,YAAIC,OAAOL,SAASC,aAAT,CAAuB,KAAvB,CAAX;AACA,YAAIK,KAAK,IAAIxB,gBAAJ,CAAqB,YAAW;AACrCiB,gBAAIQ,SAAJ,CAAcC,MAAd,CAAqB,KAArB;AACAJ,8BAAkB,KAAlB;AACH,SAHQ,CAAT;AAIAE,WAAGG,OAAH,CAAWJ,IAAX,EAAiBH,IAAjB;;AAEA,YAAIQ,iBAAiB,SAAjBA,cAAiB,GAAW;AAC5B,gBAAIN,eAAJ,EAAqB;AACrBA,8BAAkB,IAAlB;AACAC,iBAAKE,SAAL,CAAeC,MAAf,CAAsB,KAAtB;AACH,SAJD;;AAMA,eAAO,SAAShC,QAAT,CAAkBc,EAAlB,EAAsB;AACzB,gBAAIqB,IAAI,IAAI7B,gBAAJ,CAAqB,YAAW;AACpC6B,kBAAEC,UAAF;AACAtB;AACH,aAHO,CAAR;AAIAqB,cAAEF,OAAF,CAAUV,GAAV,EAAeG,IAAf;AACAQ;AACH,SAPD;AAQH,KAzBU,EAAX;AA0BH,CA9BM,MA8BA,IAAI,OAAOzB,YAAP,KAAwB,WAA5B,EAAyC;AAC5CT,eAAW,kBAAUc,EAAV,EAAc;AACrBL,qBAAaK,EAAb;AACH,KAFD;AAGH,CAJM,MAIA,IAAI,OAAOuB,UAAP,KAAsB,WAA1B,EAAuC;AAC1CrC,eAAW,kBAAUc,EAAV,EAAc;AACrBuB,mBAAWvB,EAAX,EAAe,CAAf;AACH,KAFD;AAGH,CAJM,MAIA;AACHd,eAAWC,gBAAX;AACH;AACDqC,OAAOC,OAAP,GAAiBvC,QAAjB","file":"schedule.js","sourcesContent":["\"use strict\";\nvar util = require(\"./util\");\nvar schedule;\nvar noAsyncScheduler = function() {\n    throw new Error(\"No async scheduler available\\u000a\\u000a    See http://goo.gl/MqrFmX\\u000a\");\n};\nvar NativePromise = util.getNativePromise();\nif (util.isNode && typeof MutationObserver === \"undefined\") {\n    var GlobalSetImmediate = global.setImmediate;\n    var ProcessNextTick = process.nextTick;\n    schedule = util.isRecentNode\n                ? function(fn) { GlobalSetImmediate.call(global, fn); }\n                : function(fn) { ProcessNextTick.call(process, fn); };\n} else if (typeof NativePromise === \"function\" &&\n           typeof NativePromise.resolve === \"function\") {\n    var nativePromise = NativePromise.resolve();\n    schedule = function(fn) {\n        nativePromise.then(fn);\n    };\n} else if ((typeof MutationObserver !== \"undefined\") &&\n          !(typeof window !== \"undefined\" &&\n            window.navigator &&\n            (window.navigator.standalone || window.cordova))) {\n    schedule = (function() {\n        var div = document.createElement(\"div\");\n        var opts = {attributes: true};\n        var toggleScheduled = false;\n        var div2 = document.createElement(\"div\");\n        var o2 = new MutationObserver(function() {\n            div.classList.toggle(\"foo\");\n            toggleScheduled = false;\n        });\n        o2.observe(div2, opts);\n\n        var scheduleToggle = function() {\n            if (toggleScheduled) return;\n            toggleScheduled = true;\n            div2.classList.toggle(\"foo\");\n        };\n\n        return function schedule(fn) {\n            var o = new MutationObserver(function() {\n                o.disconnect();\n                fn();\n            });\n            o.observe(div, opts);\n            scheduleToggle();\n        };\n    })();\n} else if (typeof setImmediate !== \"undefined\") {\n    schedule = function (fn) {\n        setImmediate(fn);\n    };\n} else if (typeof setTimeout !== \"undefined\") {\n    schedule = function (fn) {\n        setTimeout(fn, 0);\n    };\n} else {\n    schedule = noAsyncScheduler;\n}\nmodule.exports = schedule;\n"]}