{"version":3,"sources":["../../../../../../../node_modules/npm/node_modules/bluebird/js/release/method.js"],"names":["module","exports","Promise","INTERNAL","tryConvertToPromise","apiRejection","debug","util","require","tryCatch","method","fn","TypeError","classString","ret","_captureStackTrace","_pushContext","value","apply","arguments","promiseCreated","_popContext","checkForgottenReturns","_resolveFromSyncValue","attempt","length","deprecated","arg","ctx","isArray","call","prototype","errorObj","_rejectCallback","e","_resolveCallback"],"mappings":"AAAA;;AACAA,OAAOC,OAAP,GACA,UAASC,OAAT,EAAkBC,QAAlB,EAA4BC,mBAA5B,EAAiDC,YAAjD,EAA+DC,KAA/D,EAAsE;AACtE,QAAIC,OAAOC,QAAQ,QAAR,CAAX;AACA,QAAIC,WAAWF,KAAKE,QAApB;;AAEAP,YAAQQ,MAAR,GAAiB,UAAUC,EAAV,EAAc;AAC3B,YAAI,OAAOA,EAAP,KAAc,UAAlB,EAA8B;AAC1B,kBAAM,IAAIT,QAAQU,SAAZ,CAAsB,kCAAkCL,KAAKM,WAAL,CAAiBF,EAAjB,CAAxD,CAAN;AACH;AACD,eAAO,YAAY;AACf,gBAAIG,MAAM,IAAIZ,OAAJ,CAAYC,QAAZ,CAAV;AACAW,gBAAIC,kBAAJ;AACAD,gBAAIE,YAAJ;AACA,gBAAIC,QAAQR,SAASE,EAAT,EAAaO,KAAb,CAAmB,IAAnB,EAAyBC,SAAzB,CAAZ;AACA,gBAAIC,iBAAiBN,IAAIO,WAAJ,EAArB;AACAf,kBAAMgB,qBAAN,CACIL,KADJ,EACWG,cADX,EAC2B,gBAD3B,EAC6CN,GAD7C;AAEAA,gBAAIS,qBAAJ,CAA0BN,KAA1B;AACA,mBAAOH,GAAP;AACH,SAVD;AAWH,KAfD;;AAiBAZ,YAAQsB,OAAR,GAAkBtB,QAAQ,KAAR,IAAiB,UAAUS,EAAV,EAAc;AAC7C,YAAI,OAAOA,EAAP,KAAc,UAAlB,EAA8B;AAC1B,mBAAON,aAAa,kCAAkCE,KAAKM,WAAL,CAAiBF,EAAjB,CAA/C,CAAP;AACH;AACD,YAAIG,MAAM,IAAIZ,OAAJ,CAAYC,QAAZ,CAAV;AACAW,YAAIC,kBAAJ;AACAD,YAAIE,YAAJ;AACA,YAAIC,KAAJ;AACA,YAAIE,UAAUM,MAAV,GAAmB,CAAvB,EAA0B;AACtBnB,kBAAMoB,UAAN,CAAiB,+CAAjB;AACA,gBAAIC,MAAMR,UAAU,CAAV,CAAV;AACA,gBAAIS,MAAMT,UAAU,CAAV,CAAV;AACAF,oBAAQV,KAAKsB,OAAL,CAAaF,GAAb,IAAoBlB,SAASE,EAAT,EAAaO,KAAb,CAAmBU,GAAnB,EAAwBD,GAAxB,CAApB,GACoBlB,SAASE,EAAT,EAAamB,IAAb,CAAkBF,GAAlB,EAAuBD,GAAvB,CAD5B;AAEH,SAND,MAMO;AACHV,oBAAQR,SAASE,EAAT,GAAR;AACH;AACD,YAAIS,iBAAiBN,IAAIO,WAAJ,EAArB;AACAf,cAAMgB,qBAAN,CACIL,KADJ,EACWG,cADX,EAC2B,aAD3B,EAC0CN,GAD1C;AAEAA,YAAIS,qBAAJ,CAA0BN,KAA1B;AACA,eAAOH,GAAP;AACH,KAtBD;;AAwBAZ,YAAQ6B,SAAR,CAAkBR,qBAAlB,GAA0C,UAAUN,KAAV,EAAiB;AACvD,YAAIA,UAAUV,KAAKyB,QAAnB,EAA6B;AACzB,iBAAKC,eAAL,CAAqBhB,MAAMiB,CAA3B,EAA8B,KAA9B;AACH,SAFD,MAEO;AACH,iBAAKC,gBAAL,CAAsBlB,KAAtB,EAA6B,IAA7B;AACH;AACJ,KAND;AAOC,CArDD","file":"method.js","sourcesContent":["\"use strict\";\nmodule.exports =\nfunction(Promise, INTERNAL, tryConvertToPromise, apiRejection, debug) {\nvar util = require(\"./util\");\nvar tryCatch = util.tryCatch;\n\nPromise.method = function (fn) {\n    if (typeof fn !== \"function\") {\n        throw new Promise.TypeError(\"expecting a function but got \" + util.classString(fn));\n    }\n    return function () {\n        var ret = new Promise(INTERNAL);\n        ret._captureStackTrace();\n        ret._pushContext();\n        var value = tryCatch(fn).apply(this, arguments);\n        var promiseCreated = ret._popContext();\n        debug.checkForgottenReturns(\n            value, promiseCreated, \"Promise.method\", ret);\n        ret._resolveFromSyncValue(value);\n        return ret;\n    };\n};\n\nPromise.attempt = Promise[\"try\"] = function (fn) {\n    if (typeof fn !== \"function\") {\n        return apiRejection(\"expecting a function but got \" + util.classString(fn));\n    }\n    var ret = new Promise(INTERNAL);\n    ret._captureStackTrace();\n    ret._pushContext();\n    var value;\n    if (arguments.length > 1) {\n        debug.deprecated(\"calling Promise.try with more than 1 argument\");\n        var arg = arguments[1];\n        var ctx = arguments[2];\n        value = util.isArray(arg) ? tryCatch(fn).apply(ctx, arg)\n                                  : tryCatch(fn).call(ctx, arg);\n    } else {\n        value = tryCatch(fn)();\n    }\n    var promiseCreated = ret._popContext();\n    debug.checkForgottenReturns(\n        value, promiseCreated, \"Promise.try\", ret);\n    ret._resolveFromSyncValue(value);\n    return ret;\n};\n\nPromise.prototype._resolveFromSyncValue = function (value) {\n    if (value === util.errorObj) {\n        this._rejectCallback(value.e, false);\n    } else {\n        this._resolveCallback(value, true);\n    }\n};\n};\n"]}