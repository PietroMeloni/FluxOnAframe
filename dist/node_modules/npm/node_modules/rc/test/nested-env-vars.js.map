{"version":3,"sources":["../../../../../../node_modules/npm/node_modules/rc/test/nested-env-vars.js"],"names":["seed","Math","random","n","N","assert","require","process","env","testPrefix","prefix","config","option","console","log","equal","someOpt","a","x","z","w","i","test_upperCase"],"mappings":";;AACA,IAAIA,OAAOC,KAAKC,MAAL,EAAX;AACA,IAAIC,IAAI,OAAMH,IAAd;AACA,IAAII,IAAI,OAAMJ,IAAd;AACA,IAAIK,SAASC,QAAQ,QAAR,CAAb;;AAGA;AACAC,QAAQC,GAAR,CAAYL,IAAE,aAAd,IAA+B,EAA/B;AACAI,QAAQC,GAAR,CAAYL,IAAE,eAAd,IAAiC,EAAjC;AACAI,QAAQC,GAAR,CAAYL,IAAE,gBAAd,IAAkC,GAAlC;AACAI,QAAQC,GAAR,CAAYL,IAAE,mBAAd,IAAqC,GAArC;AACAI,QAAQC,GAAR,CAAYL,IAAE,gBAAd,IAAkC,IAAlC;AACAI,QAAQC,GAAR,CAAYL,IAAE,aAAd,IAA+B,MAA/B;;AAEA;AACAI,QAAQC,GAAR,CAAYL,IAAE,kBAAd,IAAoC,KAApC;AACAI,QAAQC,GAAR,CAAYL,IAAE,kBAAd,IAAoC,KAApC;;AAEA;AACAI,QAAQC,GAAR,CAAYL,IAAE,WAAd,IAA6B,IAA7B;;AAEA;AACAI,QAAQC,GAAR,CAAYJ,IAAE,iBAAd,IAAmC,GAAnC;;AAEA,SAASK,UAAT,CAAoBC,MAApB,EAA4B;AAC3B,KAAIC,SAASL,QAAQ,KAAR,EAAeI,MAAf,EAAuB;AAClCE,UAAQ;AAD0B,EAAvB,CAAb;;AAIAC,SAAQC,GAAR,CAAY,qCAAZ,EAAkD,EAACJ,QAAQA,MAAT,EAAlD,EAAoE,IAApE,EAA0EC,MAA1E;;AAEAN,QAAOU,KAAP,CAAaJ,OAAOC,MAApB,EAA4B,IAA5B;AACAP,QAAOU,KAAP,CAAaJ,OAAOK,OAAP,CAAeC,CAA5B,EAA+B,EAA/B;AACAZ,QAAOU,KAAP,CAAaJ,OAAOK,OAAP,CAAeE,CAA5B,EAA+B,EAA/B;AACA;AACAb,QAAOU,KAAP,CAAaJ,OAAOK,OAAP,CAAeC,CAA5B,CAA6B,MAA7B,EAAqC,EAArC;AACA;AACAZ,QAAOU,KAAP,CAAaJ,OAAOK,OAAP,CAAeE,CAA5B,CAA6B,MAA7B,EAAqC,EAArC;AACAb,QAAOU,KAAP,CAAaJ,OAAOK,OAAP,CAAeG,CAA5B,EAA+B,MAA/B;AACA;AACAd,QAAOU,KAAP,CAAaJ,OAAOK,OAAP,CAAeG,CAA5B,CAA6B,MAA7B,EAAqC,MAArC;AACAd,QAAOU,KAAP,CAAaJ,OAAOK,OAAP,CAAeI,CAAf,CAAiBA,CAA9B,EAAiC,KAAjC;AACAf,QAAOU,KAAP,CAAaJ,OAAOQ,CAAP,CAASE,CAAtB,EAAyB,IAAzB;;AAEAhB,QAAOU,KAAP,CAAaJ,OAAOW,cAApB,EAAoC,GAApC;AACA;;AAEDb,WAAWN,CAAX;AACAM,WAAWL,CAAX","file":"nested-env-vars.js","sourcesContent":["\nvar seed = Math.random();\nvar n = 'rc'+ seed;\nvar N = 'RC'+ seed;\nvar assert = require('assert')\n\n\n// Basic usage\nprocess.env[n+'_someOpt__a'] = 42\nprocess.env[n+'_someOpt__x__'] = 99\nprocess.env[n+'_someOpt__a__b'] = 186\nprocess.env[n+'_someOpt__a__b__c'] = 243\nprocess.env[n+'_someOpt__x__y'] = 1862\nprocess.env[n+'_someOpt__z'] = 186577\n\n// Should ignore empty strings from orphaned '__'\nprocess.env[n+'_someOpt__z__x__'] = 18629\nprocess.env[n+'_someOpt__w__w__'] = 18629\n\n// Leading '__' should ignore everything up to 'z'\nprocess.env[n+'___z__i__'] = 9999\n\n// should ignore case for config name section.\nprocess.env[N+'_test_upperCase'] = 187\n\nfunction testPrefix(prefix) {\n\tvar config = require('../')(prefix, {\n\t  option: true\n\t})\n\n\tconsole.log('\\n\\n------ nested-env-vars ------\\n',{prefix: prefix}, '\\n', config);\n\n\tassert.equal(config.option, true)\n\tassert.equal(config.someOpt.a, 42)\n\tassert.equal(config.someOpt.x, 99)\n\t// Should not override `a` once it's been set\n\tassert.equal(config.someOpt.a/*.b*/, 42)\n\t// Should not override `x` once it's been set\n\tassert.equal(config.someOpt.x/*.y*/, 99)\n\tassert.equal(config.someOpt.z, 186577)\n\t// Should not override `z` once it's been set\n\tassert.equal(config.someOpt.z/*.x*/, 186577)\n\tassert.equal(config.someOpt.w.w, 18629)\n\tassert.equal(config.z.i, 9999)\n\n\tassert.equal(config.test_upperCase, 187)\n}\n\ntestPrefix(n);\ntestPrefix(N);\n"]}