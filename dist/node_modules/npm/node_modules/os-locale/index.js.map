{"version":3,"sources":["../../../../../node_modules/npm/node_modules/os-locale/index.js"],"names":["execa","require","lcid","mem","defaultOpts","spawn","defaultLocale","getEnvLocale","env","process","LC_ALL","LC_MESSAGES","LANG","LANGUAGE","parseLocale","x","split","reduce","def","replace","getLocale","str","getAppleLocale","stdout","getAppleLocaleSync","sync","getUnixLocale","platform","then","getUnixLocaleSync","getWinLocale","lcidCode","parseInt","from","getWinLocaleSync","module","exports","opts","envLocale","thenable","Promise","resolve","locale","catch","res","err"],"mappings":"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","file":"index.js","sourcesContent":["'use strict';\nconst execa = require('execa');\nconst lcid = require('lcid');\nconst mem = require('mem');\n\nconst defaultOpts = {spawn: true};\nconst defaultLocale = 'en_US';\n\nfunction getEnvLocale(env) {\n\tenv = env || process.env;\n\treturn env.LC_ALL || env.LC_MESSAGES || env.LANG || env.LANGUAGE;\n}\n\nfunction parseLocale(x) {\n\tconst env = x.split('\\n').reduce((env, def) => {\n\t\tdef = def.split('=');\n\t\tenv[def[0]] = def[1].replace(/^\"|\"$/g, '');\n\t\treturn env;\n\t}, {});\n\treturn getEnvLocale(env);\n}\n\nfunction getLocale(str) {\n\treturn (str && str.replace(/[.:].*/, ''));\n}\n\nfunction getAppleLocale() {\n\treturn execa.stdout('defaults', ['read', '-g', 'AppleLocale']);\n}\n\nfunction getAppleLocaleSync() {\n\treturn execa.sync('defaults', ['read', '-g', 'AppleLocale']).stdout;\n}\n\nfunction getUnixLocale() {\n\tif (process.platform === 'darwin') {\n\t\treturn getAppleLocale();\n\t}\n\n\treturn execa.stdout('locale')\n\t\t.then(stdout => getLocale(parseLocale(stdout)));\n}\n\nfunction getUnixLocaleSync() {\n\tif (process.platform === 'darwin') {\n\t\treturn getAppleLocaleSync();\n\t}\n\n\treturn getLocale(parseLocale(execa.sync('locale').stdout));\n}\n\nfunction getWinLocale() {\n\treturn execa.stdout('wmic', ['os', 'get', 'locale'])\n\t\t.then(stdout => {\n\t\t\tconst lcidCode = parseInt(stdout.replace('Locale', ''), 16);\n\t\t\treturn lcid.from(lcidCode);\n\t\t});\n}\n\nfunction getWinLocaleSync() {\n\tconst stdout = execa.sync('wmic', ['os', 'get', 'locale']).stdout;\n\tconst lcidCode = parseInt(stdout.replace('Locale', ''), 16);\n\treturn lcid.from(lcidCode);\n}\n\nmodule.exports = mem(opts => {\n\topts = opts || defaultOpts;\n\tconst envLocale = getEnvLocale();\n\tlet thenable;\n\n\tif (envLocale || opts.spawn === false) {\n\t\tthenable = Promise.resolve(getLocale(envLocale));\n\t} else if (process.platform === 'win32') {\n\t\tthenable = getWinLocale();\n\t} else {\n\t\tthenable = getUnixLocale();\n\t}\n\n\treturn thenable.then(locale => locale || defaultLocale)\n\t\t.catch(() => defaultLocale);\n});\n\nmodule.exports.sync = mem(opts => {\n\topts = opts || defaultOpts;\n\tconst envLocale = getEnvLocale();\n\tlet res;\n\n\tif (envLocale || opts.spawn === false) {\n\t\tres = getLocale(envLocale);\n\t} else {\n\t\ttry {\n\t\t\tif (process.platform === 'win32') {\n\t\t\t\tres = getWinLocaleSync();\n\t\t\t} else {\n\t\t\t\tres = getUnixLocaleSync();\n\t\t\t}\n\t\t} catch (err) {}\n\t}\n\n\treturn res || defaultLocale;\n});\n"]}