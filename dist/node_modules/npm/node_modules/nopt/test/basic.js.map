{"version":3,"sources":["../../../../../../node_modules/npm/node_modules/nopt/test/basic.js"],"names":["nopt","require","test","isWin","process","platform","t","parsed","key","String","same","end","empty","foo","path","the","dir","val","env","v","resolve","Number","equal","name","Object","keys","length","util","Stream","url","shorthands","s","d","dd","ddd","noreg","reg","silent","verbose","h","H","help","f","desc","l","p","porcelain","g","types","aoa","Array","nullstream","date","Date","str","browser","cache","color","Boolean","depth","description","dev","editor","force","global","globalconfig","group","gzipbin","logfd","loglevel","long","npaturl","npat","outfd","parseable","pre","prefix","proxy","registry","searchopts","searchexclude","shell","tag","tar","tmp","usage","user","username","userconfig","version","viewer","_exit","cwd","true","false","notadate","config","clear","c","account","credentials","options","a","o","con","len","exp","add","rep","e","r","file","forEach","argv","split","opts","rem","actual","i","JSON","stringify","undefined","deepEqual","remain"],"mappings":"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","file":"basic.js","sourcesContent":["var nopt = require(\"../\")\n  , test = require('tap').test\n  , isWin = process.platform === 'win32'\n\ntest(\"passing a string results in a string\", function (t) {\n  var parsed = nopt({ key: String }, {}, [\"--key\", \"myvalue\"], 0)\n  t.same(parsed.key, \"myvalue\")\n  t.end()\n})\n\n// https://github.com/npm/nopt/issues/31\ntest(\"Empty String results in empty string, not true\", function (t) {\n  var parsed = nopt({ empty: String }, {}, [\"--empty\"], 0)\n  t.same(parsed.empty, \"\")\n  t.end()\n})\n\n// https://github.com/npm/nopt/issues/65\ntest(\"Empty String should not swallow next flag\", function (t) {\n  var parsed = nopt({ empty: String, foo: String }, {}, [\"--empty\", \"--foo\"], 0)\n  t.same(parsed.empty, \"\")\n  t.same(parsed.foo, \"\")\n  t.end()\n})\n\n// https://github.com/npm/nopt/issues/66\ntest(\"Empty String should not be true when type is single item Array\", function (t) {\n  var parsed = nopt({\t'foo': [String] }, {}, [\"--foo\"], 0)\n  t.same(parsed.foo, \"\")\n  t.end()\n})\n\ntest(\"~ path is resolved to \" + (isWin ? '%USERPROFILE%' : '$HOME'), function (t) {\n  var path = require(\"path\")\n    , the\n\n  if (isWin) {\n    the = {\n      key: 'USERPROFILE',\n      dir: 'C:\\\\temp',\n      val: '~\\\\val'\n    }\n  } else {\n    the = {\n      key: 'HOME',\n      dir: '/tmp',\n      val: '~/val'\n    }\n  }\n  if (!process.env[the.key]) process.env[the.key] = v.dir\n  var parsed = nopt({key: path}, {}, [\"--key=\" + the.val], 0)\n  t.same(parsed.key, path.resolve(process.env[the.key], \"val\"))\n  t.end()\n})\n\n// https://github.com/npm/nopt/issues/24\ntest(\"Unknown options are not parsed as numbers\", function (t) {\n    var parsed = nopt({\"parse-me\": Number}, null, ['--leave-as-is=1.20', '--parse-me=1.20'], 0)\n    t.equal(parsed['leave-as-is'], '1.20')\n    t.equal(parsed['parse-me'], 1.2)\n    t.end()\n});\n\n// https://github.com/npm/nopt/issues/48\ntest(\"Check types based on name of type\", function (t) {\n  var parsed = nopt({\"parse-me\": {name: \"Number\"}}, null, ['--parse-me=1.20'], 0)\n  t.equal(parsed['parse-me'], 1.2)\n  t.end()\n})\n\n\ntest(\"Missing types are not parsed\", function (t) {\n  var parsed = nopt({\"parse-me\": {}}, null, ['--parse-me=1.20'], 0)\n  //should only contain argv\n  t.equal(Object.keys(parsed).length, 1)\n  t.end()\n})\n\ntest(\"Types passed without a name are not parsed\", function (t) {\n  var parsed = nopt({\"parse-me\": {}}, {}, ['--parse-me=1.20'], 0)\n  //should only contain argv\n  t.equal(Object.keys(parsed).length, 1)\n  t.end()\n})\n\ntest(\"other tests\", function (t) {\n\n  var util = require(\"util\")\n    , Stream = require(\"stream\")\n    , path = require(\"path\")\n    , url = require(\"url\")\n\n    , shorthands =\n      { s : [\"--loglevel\", \"silent\"]\n      , d : [\"--loglevel\", \"info\"]\n      , dd : [\"--loglevel\", \"verbose\"]\n      , ddd : [\"--loglevel\", \"silly\"]\n      , noreg : [\"--no-registry\"]\n      , reg : [\"--registry\"]\n      , \"no-reg\" : [\"--no-registry\"]\n      , silent : [\"--loglevel\", \"silent\"]\n      , verbose : [\"--loglevel\", \"verbose\"]\n      , h : [\"--usage\"]\n      , H : [\"--usage\"]\n      , \"?\" : [\"--usage\"]\n      , help : [\"--usage\"]\n      , v : [\"--version\"]\n      , f : [\"--force\"]\n      , desc : [\"--description\"]\n      , \"no-desc\" : [\"--no-description\"]\n      , \"local\" : [\"--no-global\"]\n      , l : [\"--long\"]\n      , p : [\"--parseable\"]\n      , porcelain : [\"--parseable\"]\n      , g : [\"--global\"]\n      }\n\n    , types =\n      { aoa: Array\n      , nullstream: [null, Stream]\n      , date: Date\n      , str: String\n      , browser : String\n      , cache : path\n      , color : [\"always\", Boolean]\n      , depth : Number\n      , description : Boolean\n      , dev : Boolean\n      , editor : path\n      , force : Boolean\n      , global : Boolean\n      , globalconfig : path\n      , group : [String, Number]\n      , gzipbin : String\n      , logfd : [Number, Stream]\n      , loglevel : [\"silent\",\"win\",\"error\",\"warn\",\"info\",\"verbose\",\"silly\"]\n      , long : Boolean\n      , \"node-version\" : [false, String]\n      , npaturl : url\n      , npat : Boolean\n      , \"onload-script\" : [false, String]\n      , outfd : [Number, Stream]\n      , parseable : Boolean\n      , pre: Boolean\n      , prefix: path\n      , proxy : url\n      , \"rebuild-bundle\" : Boolean\n      , registry : url\n      , searchopts : String\n      , searchexclude: [null, String]\n      , shell : path\n      , t: [Array, String]\n      , tag : String\n      , tar : String\n      , tmp : path\n      , \"unsafe-perm\" : Boolean\n      , usage : Boolean\n      , user : String\n      , username : String\n      , userconfig : path\n      , version : Boolean\n      , viewer: path\n      , _exit : Boolean\n      , path: path\n      }\n\n  ; [[\"-v\", {version:true}, []]\n    ,[\"---v\", {version:true}, []]\n    ,[\"ls -s --no-reg connect -d\",\n      {loglevel:\"info\",registry:null},[\"ls\",\"connect\"]]\n    ,[\"ls ---s foo\",{loglevel:\"silent\"},[\"ls\",\"foo\"]]\n    ,[\"ls --registry blargle\", {}, [\"ls\"]]\n    ,[\"--no-registry\", {registry:null}, []]\n    ,[\"--no-color true\", {color:false}, []]\n    ,[\"--no-color false\", {color:true}, []]\n    ,[\"--no-color\", {color:false}, []]\n    ,[\"--color false\", {color:false}, []]\n    ,[\"--color --logfd 7\", {logfd:7,color:true}, []]\n    ,[\"--color=true\", {color:true}, []]\n    ,[\"--logfd=10\", {logfd:10}, []]\n    ,[\"--tmp=/tmp -tar=gtar\", {tmp: isWin ? \"C:\\\\tmp\" : \"/tmp\",tar:\"gtar\"},[]]\n    ,[\"--tmp=tmp -tar=gtar\",\n      {tmp:path.resolve(process.cwd(), \"tmp\"),tar:\"gtar\"},[]]\n    ,[\"--logfd x\", {}, []]\n    ,[\"a -true -- -no-false\", {true:true},[\"a\",\"-no-false\"]]\n    ,[\"a -no-false\", {false:false},[\"a\"]]\n    ,[\"a -no-no-true\", {true:true}, [\"a\"]]\n    ,[\"a -no-no-no-false\", {false:false}, [\"a\"]]\n    ,[\"---NO-no-No-no-no-no-nO-no-no\"+\n      \"-No-no-no-no-no-no-no-no-no\"+\n      \"-no-no-no-no-NO-NO-no-no-no-no-no-no\"+\n      \"-no-body-can-do-the-boogaloo-like-I-do\"\n     ,{\"body-can-do-the-boogaloo-like-I-do\":false}, []]\n    ,[\"we are -no-strangers-to-love \"+\n      \"--you-know=the-rules --and=so-do-i \"+\n      \"---im-thinking-of=a-full-commitment \"+\n      \"--no-you-would-get-this-from-any-other-guy \"+\n      \"--no-gonna-give-you-up \"+\n      \"-no-gonna-let-you-down=true \"+\n      \"--no-no-gonna-run-around false \"+\n      \"--desert-you=false \"+\n      \"--make-you-cry false \"+\n      \"--no-tell-a-lie \"+\n      \"--no-no-and-hurt-you false\"\n     ,{\"strangers-to-love\":false\n      ,\"you-know\":\"the-rules\"\n      ,\"and\":\"so-do-i\"\n      ,\"you-would-get-this-from-any-other-guy\":false\n      ,\"gonna-give-you-up\":false\n      ,\"gonna-let-you-down\":false\n      ,\"gonna-run-around\":false\n      ,\"desert-you\":false\n      ,\"make-you-cry\":false\n      ,\"tell-a-lie\":false\n      ,\"and-hurt-you\":false\n      },[\"we\", \"are\"]]\n    ,[\"-t one -t two -t three\"\n     ,{t: [\"one\", \"two\", \"three\"]}\n     ,[]]\n    ,[\"-t one -t null -t three four five null\"\n     ,{t: [\"one\", \"null\", \"three\"]}\n     ,[\"four\", \"five\", \"null\"]]\n    ,[\"-t foo\"\n     ,{t:[\"foo\"]}\n     ,[]]\n    ,[\"--no-t\"\n     ,{t:[\"false\"]}\n     ,[]]\n    ,[\"-no-no-t\"\n     ,{t:[\"true\"]}\n     ,[]]\n    ,[\"-aoa one -aoa null -aoa 100\"\n     ,{aoa:[\"one\", null, '100']}\n     ,[]]\n    ,[\"-str 100\"\n     ,{str:\"100\"}\n     ,[]]\n    ,[\"--color always\"\n     ,{color:\"always\"}\n     ,[]]\n    ,[\"--no-nullstream\"\n     ,{nullstream:null}\n     ,[]]\n    ,[\"--nullstream false\"\n     ,{nullstream:null}\n     ,[]]\n    ,[\"--notadate=2011-01-25\"\n     ,{notadate: \"2011-01-25\"}\n     ,[]]\n    ,[\"--date 2011-01-25\"\n     ,{date: new Date(\"2011-01-25\")}\n     ,[]]\n    ,[\"-cl 1\"\n     ,{config: true, length: 1}\n     ,[]\n     ,{config: Boolean, length: Number, clear: Boolean}\n     ,{c: \"--config\", l: \"--length\"}]\n    ,[\"--acount bla\"\n     ,{\"acount\":true}\n     ,[\"bla\"]\n     ,{account: Boolean, credentials: Boolean, options: String}\n     ,{a:\"--account\", c:\"--credentials\",o:\"--options\"}]\n    ,[\"--clear\"\n     ,{clear:true}\n     ,[]\n     ,{clear:Boolean,con:Boolean,len:Boolean,exp:Boolean,add:Boolean,rep:Boolean}\n     ,{c:\"--con\",l:\"--len\",e:\"--exp\",a:\"--add\",r:\"--rep\"}]\n    ,[\"--file -\"\n     ,{\"file\":\"-\"}\n     ,[]\n     ,{file:String}\n     ,{}]\n    ,[\"--file -\"\n     ,{\"file\":true}\n     ,[\"-\"]\n     ,{file:Boolean}\n     ,{}]\n    ,[\"--path\"\n     ,{\"path\":null}\n     ,[]]\n    ,[\"--path .\"\n     ,{\"path\":process.cwd()}\n     ,[]]\n    ].forEach(function (test) {\n      var argv = test[0].split(/\\s+/)\n        , opts = test[1]\n        , rem = test[2]\n        , actual = nopt(test[3] || types, test[4] || shorthands, argv, 0)\n        , parsed = actual.argv\n      delete actual.argv\n      for (var i in opts) {\n        var e = JSON.stringify(opts[i])\n          , a = JSON.stringify(actual[i] === undefined ? null : actual[i])\n        if (e && typeof e === \"object\") {\n          t.deepEqual(e, a)\n        } else {\n          t.equal(e, a)\n        }\n      }\n      t.deepEqual(rem, parsed.remain)\n    })\n  t.end()\n})\n"]}