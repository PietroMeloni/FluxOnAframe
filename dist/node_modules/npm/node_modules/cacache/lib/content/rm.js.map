{"version":3,"sources":["../../../../../../../node_modules/npm/node_modules/cacache/lib/content/rm.js"],"names":["BB","require","contentPath","hasContent","rimraf","promisify","module","exports","rm","cache","integrity","then","content","sri"],"mappings":"AAAA;;AAEA,IAAMA,KAAKC,QAAQ,UAAR,CAAX;;AAEA,IAAMC,cAAcD,QAAQ,QAAR,CAApB;AACA,IAAME,aAAaF,QAAQ,QAAR,EAAkBE,UAArC;AACA,IAAMC,SAASJ,GAAGK,SAAH,CAAaJ,QAAQ,QAAR,CAAb,CAAf;;AAEAK,OAAOC,OAAP,GAAiBC,EAAjB;AACA,SAASA,EAAT,CAAaC,KAAb,EAAoBC,SAApB,EAA+B;AAC7B,SAAOP,WAAWM,KAAX,EAAkBC,SAAlB,EAA6BC,IAA7B,CAAkC,mBAAW;AAClD,QAAIC,OAAJ,EAAa;AACX,UAAMC,MAAMD,QAAQC,GAApB;AACA,UAAIA,GAAJ,EAAS;AACP,eAAOT,OAAOF,YAAYO,KAAZ,EAAmBI,GAAnB,CAAP,EAAgCF,IAAhC,CAAqC;AAAA,iBAAM,IAAN;AAAA,SAArC,CAAP;AACD;AACF,KALD,MAKO;AACL,aAAO,KAAP;AACD;AACF,GATM,CAAP;AAUD","file":"rm.js","sourcesContent":["'use strict'\n\nconst BB = require('bluebird')\n\nconst contentPath = require('./path')\nconst hasContent = require('./read').hasContent\nconst rimraf = BB.promisify(require('rimraf'))\n\nmodule.exports = rm\nfunction rm (cache, integrity) {\n  return hasContent(cache, integrity).then(content => {\n    if (content) {\n      const sri = content.sri\n      if (sri) {\n        return rimraf(contentPath(cache, sri)).then(() => true)\n      }\n    } else {\n      return false\n    }\n  })\n}\n"]}