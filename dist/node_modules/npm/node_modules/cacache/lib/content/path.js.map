{"version":3,"sources":["../../../../../../../node_modules/npm/node_modules/cacache/lib/content/path.js"],"names":["contentVer","require","content","hashToSegments","path","ssri","module","exports","contentPath","cache","integrity","sri","parse","single","join","apply","contentDir","algorithm","concat","hexDigest","_contentDir"],"mappings":"AAAA;;AAEA,IAAMA,aAAaC,QAAQ,oBAAR,EAA8B,eAA9B,EAA+CC,OAAlE;AACA,IAAMC,iBAAiBF,QAAQ,0BAAR,CAAvB;AACA,IAAMG,OAAOH,QAAQ,MAAR,CAAb;AACA,IAAMI,OAAOJ,QAAQ,MAAR,CAAb;;AAEA;AACA;AACA;AACA;AACA;AACAK,OAAOC,OAAP,GAAiBC,WAAjB;AACA,SAASA,WAAT,CAAsBC,KAAtB,EAA6BC,SAA7B,EAAwC;AACtC,MAAMC,MAAMN,KAAKO,KAAL,CAAWF,SAAX,EAAsB,EAACG,QAAQ,IAAT,EAAtB,CAAZ;AACA;AACA,SAAOT,KAAKU,IAAL,CAAUC,KAAV,CAAgBX,IAAhB,EAAsB,CAC3BY,WAAWP,KAAX,CAD2B,EAE3BE,IAAIM,SAFuB,EAG3BC,MAH2B,CAGpBf,eAAeQ,IAAIQ,SAAJ,EAAf,CAHoB,CAAtB,CAAP;AAID;;AAEDb,OAAOC,OAAP,CAAea,WAAf,GAA6BJ,UAA7B;AACA,SAASA,UAAT,CAAqBP,KAArB,EAA4B;AAC1B,SAAOL,KAAKU,IAAL,CAAUL,KAAV,gBAA6BT,UAA7B,CAAP;AACD","file":"path.js","sourcesContent":["'use strict'\n\nconst contentVer = require('../../package.json')['cache-version'].content\nconst hashToSegments = require('../util/hash-to-segments')\nconst path = require('path')\nconst ssri = require('ssri')\n\n// Current format of content file path:\n//\n// sha512-BaSE64Hex= ->\n// ~/.my-cache/content-v2/sha512/ba/da/55deadbeefc0ffee\n//\nmodule.exports = contentPath\nfunction contentPath (cache, integrity) {\n  const sri = ssri.parse(integrity, {single: true})\n  // contentPath is the *strongest* algo given\n  return path.join.apply(path, [\n    contentDir(cache),\n    sri.algorithm\n  ].concat(hashToSegments(sri.hexDigest())))\n}\n\nmodule.exports._contentDir = contentDir\nfunction contentDir (cache) {\n  return path.join(cache, `content-v${contentVer}`)\n}\n"]}