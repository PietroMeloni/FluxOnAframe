{"version":3,"sources":["../../../../../../node_modules/npm/node_modules/pseudomap/test/basic.js"],"names":["t","require","process","env","TEST_PSEUDOMAP","PM","runTests","Map","throws","m","equal","size","set","get","akey","bkey","some","same","x","y","NaN","delete","undefined","expect","value","key","actual","forEach","push","clear"],"mappings":"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","file":"basic.js","sourcesContent":["var t = require('tap')\n\nprocess.env.TEST_PSEUDOMAP = 'true'\n\nvar PM = require('../')\nrunTests(PM)\n\n// if possible, verify that Map also behaves the same way\nif (typeof Map === 'function')\n  runTests(Map)\n\n\nfunction runTests (Map) {\n  t.throws(Map)\n\n  var m = new Map()\n\n  t.equal(m.size, 0)\n\n  m.set(1, '1 string')\n  t.equal(m.get(1), '1 string')\n  t.equal(m.size, 1)\n  m.size = 1000\n  t.equal(m.size, 1)\n  m.size = 0\n  t.equal(m.size, 1)\n\n  m = new Map([[1, 'number 1'], ['1', 'string 1']])\n  t.equal(m.get(1), 'number 1')\n  t.equal(m.get('1'), 'string 1')\n  t.equal(m.size, 2)\n\n  m = new Map(m)\n  t.equal(m.get(1), 'number 1')\n  t.equal(m.get('1'), 'string 1')\n  t.equal(m.size, 2)\n\n  var akey = {}\n  var bkey = {}\n  m.set(akey, { some: 'data' })\n  m.set(bkey, { some: 'other data' })\n  t.same(m.get(akey), { some: 'data' })\n  t.same(m.get(bkey), { some: 'other data' })\n  t.equal(m.size, 4)\n\n  var x = /x/\n  var y = /x/\n  m.set(x, 'x regex')\n  m.set(y, 'y regex')\n  t.equal(m.get(x), 'x regex')\n  m.set(x, 'x again')\n  t.equal(m.get(x), 'x again')\n  t.equal(m.size, 6)\n\n  m.set(NaN, 'not a number')\n  t.equal(m.get(NaN), 'not a number')\n  m.set(NaN, 'it is a ' + typeof NaN)\n  t.equal(m.get(NaN), 'it is a number')\n  m.set('NaN', 'stringie nan')\n  t.equal(m.get(NaN), 'it is a number')\n  t.equal(m.get('NaN'), 'stringie nan')\n  t.equal(m.size, 8)\n\n  m.delete(NaN)\n  t.equal(m.get(NaN), undefined)\n  t.equal(m.size, 7)\n\n  var expect = [\n    { value: 'number 1', key: 1 },\n    { value: 'string 1', key: '1' },\n    { value: { some: 'data' }, key: {} },\n    { value: { some: 'other data' }, key: {} },\n    { value: 'x again', key: /x/ },\n    { value: 'y regex', key: /x/ },\n    { value: 'stringie nan', key: 'NaN' }\n  ]\n  var actual = []\n\n  m.forEach(function (value, key) {\n    actual.push({ value: value, key: key })\n  })\n  t.same(actual, expect)\n\n  m.clear()\n  t.equal(m.size, 0)\n}\n"]}