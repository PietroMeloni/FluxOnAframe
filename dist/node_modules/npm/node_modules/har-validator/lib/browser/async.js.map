{"version":3,"sources":["../../../../../../../node_modules/npm/node_modules/har-validator/lib/browser/async.js"],"names":["validate","afterRequest","beforeRequest","browser","cache","content","cookie","creator","entry","har","header","log","page","pageTimings","postData","query","request","response","timings","schemas","ajv","name","data","next","Ajv","allErrors","getSchema","valid","HARError","errors"],"mappings":"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","file":"async.js","sourcesContent":["import * as schemas from 'har-schema';\nimport Ajv from 'ajv';\nimport HARError from './error';\n\nlet ajv;\n\nexport function validate(name, data = {}, next) {\n  // validator config\n  ajv = ajv || new Ajv({\n    allErrors: true,\n    schemas: schemas\n  });\n\n  let validate = ajv.getSchema(name + '.json');\n\n  let valid = validate(data);\n\n  // callback?\n  if (typeof next === 'function') {\n    return next(!valid ? new HARError(validate.errors) : null, valid);\n  }\n\n  return valid;\n}\n\nexport function afterRequest(data, next) {\n  return validate('afterRequest', data, next);\n}\n\nexport function beforeRequest(data, next) {\n  return validate('beforeRequest', data, next);\n}\n\nexport function browser(data, next) {\n  return validate('browser', data, next);\n}\n\nexport function cache(data, next) {\n  return validate('cache', data, next);\n}\n\nexport function content(data, next) {\n  return validate('content', data, next);\n}\n\nexport function cookie(data, next) {\n  return validate('cookie', data, next);\n}\n\nexport function creator(data, next) {\n  return validate('creator', data, next);\n}\n\nexport function entry(data, next) {\n  return validate('entry', data, next);\n}\n\nexport function har(data, next) {\n  return validate('har', data, next);\n}\n\nexport function header(data, next) {\n  return validate('header', data, next);\n}\n\nexport function log(data, next) {\n  return validate('log', data, next);\n}\n\nexport function page(data, next) {\n  return validate('page', data, next);\n}\n\nexport function pageTimings(data, next) {\n  return validate('pageTimings', data, next);\n}\n\nexport function postData(data, next) {\n  return validate('postData', data, next);\n}\n\nexport function query(data, next) {\n  return validate('query', data, next);\n}\n\nexport function request(data, next) {\n  return validate('request', data, next);\n}\n\nexport function response(data, next) {\n  return validate('response', data, next);\n}\n\nexport function timings(data, next) {\n  return validate('timings', data, next);\n}"]}