{"version":3,"sources":["../../../../../node_modules/npm/node_modules/query-string/index.js"],"names":["strictUriEncode","require","decodeComponent","encoderForArrayFormat","options","arrayFormat","key","value","index","encode","join","parserForArrayFormat","result","accumulator","exec","replace","undefined","concat","strict","encodeURIComponent","decode","keysSorter","input","Array","isArray","sort","Object","keys","a","b","Number","map","extract","queryStart","indexOf","slice","parse","assign","formatter","ret","create","trim","split","param","reduce","Boolean","exports","stringify","obj","defaults","value2","push","length","filter","x","parseUrl","url","query"],"mappings":"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","file":"index.js","sourcesContent":["'use strict';\nconst strictUriEncode = require('strict-uri-encode');\nconst decodeComponent = require('decode-uri-component');\n\nfunction encoderForArrayFormat(options) {\n\tswitch (options.arrayFormat) {\n\t\tcase 'index':\n\t\t\treturn (key, value, index) => {\n\t\t\t\treturn value === null ? [\n\t\t\t\t\tencode(key, options),\n\t\t\t\t\t'[',\n\t\t\t\t\tindex,\n\t\t\t\t\t']'\n\t\t\t\t].join('') : [\n\t\t\t\t\tencode(key, options),\n\t\t\t\t\t'[',\n\t\t\t\t\tencode(index, options),\n\t\t\t\t\t']=',\n\t\t\t\t\tencode(value, options)\n\t\t\t\t].join('');\n\t\t\t};\n\t\tcase 'bracket':\n\t\t\treturn (key, value) => {\n\t\t\t\treturn value === null ? [encode(key, options), '[]'].join('') : [\n\t\t\t\t\tencode(key, options),\n\t\t\t\t\t'[]=',\n\t\t\t\t\tencode(value, options)\n\t\t\t\t].join('');\n\t\t\t};\n\t\tdefault:\n\t\t\treturn (key, value) => {\n\t\t\t\treturn value === null ? encode(key, options) : [\n\t\t\t\t\tencode(key, options),\n\t\t\t\t\t'=',\n\t\t\t\t\tencode(value, options)\n\t\t\t\t].join('');\n\t\t\t};\n\t}\n}\n\nfunction parserForArrayFormat(options) {\n\tlet result;\n\n\tswitch (options.arrayFormat) {\n\t\tcase 'index':\n\t\t\treturn (key, value, accumulator) => {\n\t\t\t\tresult = /\\[(\\d*)\\]$/.exec(key);\n\n\t\t\t\tkey = key.replace(/\\[\\d*\\]$/, '');\n\n\t\t\t\tif (!result) {\n\t\t\t\t\taccumulator[key] = value;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif (accumulator[key] === undefined) {\n\t\t\t\t\taccumulator[key] = {};\n\t\t\t\t}\n\n\t\t\t\taccumulator[key][result[1]] = value;\n\t\t\t};\n\t\tcase 'bracket':\n\t\t\treturn (key, value, accumulator) => {\n\t\t\t\tresult = /(\\[\\])$/.exec(key);\n\t\t\t\tkey = key.replace(/\\[\\]$/, '');\n\n\t\t\t\tif (!result) {\n\t\t\t\t\taccumulator[key] = value;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif (accumulator[key] === undefined) {\n\t\t\t\t\taccumulator[key] = [value];\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\taccumulator[key] = [].concat(accumulator[key], value);\n\t\t\t};\n\t\tdefault:\n\t\t\treturn (key, value, accumulator) => {\n\t\t\t\tif (accumulator[key] === undefined) {\n\t\t\t\t\taccumulator[key] = value;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\taccumulator[key] = [].concat(accumulator[key], value);\n\t\t\t};\n\t}\n}\n\nfunction encode(value, options) {\n\tif (options.encode) {\n\t\treturn options.strict ? strictUriEncode(value) : encodeURIComponent(value);\n\t}\n\n\treturn value;\n}\n\nfunction decode(value, options) {\n\tif (options.decode) {\n\t\treturn decodeComponent(value);\n\t}\n\n\treturn value;\n}\n\nfunction keysSorter(input) {\n\tif (Array.isArray(input)) {\n\t\treturn input.sort();\n\t}\n\n\tif (typeof input === 'object') {\n\t\treturn keysSorter(Object.keys(input))\n\t\t\t.sort((a, b) => Number(a) - Number(b))\n\t\t\t.map(key => input[key]);\n\t}\n\n\treturn input;\n}\n\nfunction extract(input) {\n\tconst queryStart = input.indexOf('?');\n\tif (queryStart === -1) {\n\t\treturn '';\n\t}\n\treturn input.slice(queryStart + 1);\n}\n\nfunction parse(input, options) {\n\toptions = Object.assign({decode: true, arrayFormat: 'none'}, options);\n\n\tconst formatter = parserForArrayFormat(options);\n\n\t// Create an object with no prototype\n\tconst ret = Object.create(null);\n\n\tif (typeof input !== 'string') {\n\t\treturn ret;\n\t}\n\n\tinput = input.trim().replace(/^[?#&]/, '');\n\n\tif (!input) {\n\t\treturn ret;\n\t}\n\n\tfor (const param of input.split('&')) {\n\t\tlet [key, value] = param.replace(/\\+/g, ' ').split('=');\n\n\t\t// Missing `=` should be `null`:\n\t\t// http://w3.org/TR/2012/WD-url-20120524/#collect-url-parameters\n\t\tvalue = value === undefined ? null : decode(value, options);\n\n\t\tformatter(decode(key, options), value, ret);\n\t}\n\n\treturn Object.keys(ret).sort().reduce((result, key) => {\n\t\tconst value = ret[key];\n\t\tif (Boolean(value) && typeof value === 'object' && !Array.isArray(value)) {\n\t\t\t// Sort object keys, not values\n\t\t\tresult[key] = keysSorter(value);\n\t\t} else {\n\t\t\tresult[key] = value;\n\t\t}\n\n\t\treturn result;\n\t}, Object.create(null));\n}\n\nexports.extract = extract;\nexports.parse = parse;\n\nexports.stringify = (obj, options) => {\n\tconst defaults = {\n\t\tencode: true,\n\t\tstrict: true,\n\t\tarrayFormat: 'none'\n\t};\n\n\toptions = Object.assign(defaults, options);\n\n\tif (options.sort === false) {\n\t\toptions.sort = () => {};\n\t}\n\n\tconst formatter = encoderForArrayFormat(options);\n\n\treturn obj ? Object.keys(obj).sort(options.sort).map(key => {\n\t\tconst value = obj[key];\n\n\t\tif (value === undefined) {\n\t\t\treturn '';\n\t\t}\n\n\t\tif (value === null) {\n\t\t\treturn encode(key, options);\n\t\t}\n\n\t\tif (Array.isArray(value)) {\n\t\t\tconst result = [];\n\n\t\t\tfor (const value2 of value.slice()) {\n\t\t\t\tif (value2 === undefined) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\tresult.push(formatter(key, value2, result.length));\n\t\t\t}\n\n\t\t\treturn result.join('&');\n\t\t}\n\n\t\treturn encode(key, options) + '=' + encode(value, options);\n\t}).filter(x => x.length > 0).join('&') : '';\n};\n\nexports.parseUrl = (input, options) => {\n\treturn {\n\t\turl: input.split('?')[0] || '',\n\t\tquery: parse(extract(input), options)\n\t};\n};\n"]}