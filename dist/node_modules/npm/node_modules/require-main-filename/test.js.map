{"version":3,"sources":["../../../../../node_modules/npm/node_modules/require-main-filename/test.js"],"names":["requireMainFilename","require","mochaGlobals","should","describe","it","match","main","filename","children"],"mappings":";;AAAA;;AAEA,IAAIA,sBAAsBC,QAAQ,IAAR,CAA1B;;AAEAA,QAAQ,KAAR,EAAeC,YAAf;AACAD,QAAQ,MAAR,EAAgBE,MAAhB;;AAEAC,SAAS,uBAAT,EAAkC,YAAY;AAC5CC,KAAG,uDAAH,EAA4D,YAAY;AACtEL,0BAAsBG,MAAtB,CAA6BG,KAA7B,CAAmC,UAAnC;AACD,GAFD;;AAIAD,KAAG,yDAAH,EAA8D,YAAY;AACxE,QAAIE,OAAO;AACTC,gBAAU,kDADD;AAETC,gBAAU,CAAE,EAACD,UAAU,oCAAX,EAAF;AAFD,KAAX;AAIAR,wBAAoB;AAClBO,YAAMA;AADY,KAApB,EAEGJ,MAFH,CAEUG,KAFV,CAEgB,YAFhB;AAGD,GARD;;AAUAD,KAAG,iDAAH,EAAsD,YAAY;AAChE,QAAIE,OAAO;AACTC,gBAAU,kDADD;AAETC,gBAAU;AAFD,KAAX;AAIAT,wBAAoB;AAClBO,YAAMA;AADY,KAApB,EAEGJ,MAFH,CAEUG,KAFV,CAEgB,iBAFhB;AAGD,GARD;;AAUAD,KAAG,8DAAH,EAAmE,YAAY;AAC7EL,wBAAoB,EAApB,EAAwBG,MAAxB,CAA+BG,KAA/B,CAAqC,uBAArC;AACD,GAFD;AAGD,CA5BD","file":"test.js","sourcesContent":["/* global describe, it */\n\nvar requireMainFilename = require('./')\n\nrequire('tap').mochaGlobals()\nrequire('chai').should()\n\ndescribe('require-main-filename', function () {\n  it('returns require.main.filename in normal circumstances', function () {\n    requireMainFilename().should.match(/test\\.js/)\n  })\n\n  it('should use children[0].filename when running on iisnode', function () {\n    var main = {\n      filename: 'D:\\\\Program Files (x86)\\\\iisnode\\\\interceptor.js',\n      children: [ {filename: 'D:\\\\home\\\\site\\\\wwwroot\\\\server.js'} ]\n    }\n    requireMainFilename({\n      main: main\n    }).should.match(/server\\.js/)\n  })\n\n  it('should not use children[0] if no children exist', function () {\n    var main = {\n      filename: 'D:\\\\Program Files (x86)\\\\iisnode\\\\interceptor.js',\n      children: []\n    }\n    requireMainFilename({\n      main: main\n    }).should.match(/interceptor\\.js/)\n  })\n\n  it('should default to process.cwd() if require.main is undefined', function () {\n    requireMainFilename({}).should.match(/require-main-filename/)\n  })\n})\n"]}