{"version":3,"sources":["../../../../../../node_modules/npm/node_modules/npm-registry-client/lib/stars.js"],"names":["module","exports","stars","assert","require","url","uri","params","cb","auth","name","username","Error","encoded","encodeURIComponent","path","request","resolve"],"mappings":";;;;AAAAA,OAAOC,OAAP,GAAiBC,KAAjB;;AAEA,IAAIC,SAASC,QAAQ,QAAR,CAAb;AACA,IAAIC,MAAMD,QAAQ,KAAR,CAAV;;AAEA,SAASF,KAAT,CAAgBI,GAAhB,EAAqBC,MAArB,EAA6BC,EAA7B,EAAiC;AAC/BL,SAAO,OAAOG,GAAP,KAAe,QAAtB,EAAgC,iCAAhC;AACAH,SAAOI,UAAU,QAAOA,MAAP,yCAAOA,MAAP,OAAkB,QAAnC,EAA6C,2BAA7C;AACAJ,SAAO,OAAOK,EAAP,KAAc,UAArB,EAAiC,6BAAjC;;AAEA,MAAIC,OAAOF,OAAOE,IAAlB;AACA,MAAIC,OAAOH,OAAOI,QAAP,IAAoBF,QAAQA,KAAKE,QAA5C;AACA,MAAI,CAACD,IAAL,EAAW,OAAOF,GAAG,IAAII,KAAJ,CAAU,4CAAV,CAAH,CAAP;AACX,MAAIC,UAAUC,mBAAmBJ,IAAnB,CAAd;AACA,MAAIK,OAAO,gCAAgCF,OAAhC,GAA0C,GAArD;;AAEA,OAAKG,OAAL,CAAaX,IAAIY,OAAJ,CAAYX,GAAZ,EAAiBS,IAAjB,CAAb,EAAqC,EAAEN,MAAMA,IAAR,EAArC,EAAqDD,EAArD;AACD","file":"stars.js","sourcesContent":["module.exports = stars\n\nvar assert = require('assert')\nvar url = require('url')\n\nfunction stars (uri, params, cb) {\n  assert(typeof uri === 'string', 'must pass registry URI to stars')\n  assert(params && typeof params === 'object', 'must pass params to stars')\n  assert(typeof cb === 'function', 'must pass callback to stars')\n\n  var auth = params.auth\n  var name = params.username || (auth && auth.username)\n  if (!name) return cb(new Error('must pass either username or auth to stars'))\n  var encoded = encodeURIComponent(name)\n  var path = '-/_view/starredByUser?key=\"' + encoded + '\"'\n\n  this.request(url.resolve(uri, path), { auth: auth }, cb)\n}\n"]}