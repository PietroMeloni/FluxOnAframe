{"version":3,"sources":["../../../../../../../node_modules/npm/node_modules/npm-registry-client/lib/dist-tags/set.js"],"names":["module","exports","set","assert","require","url","npa","uri","params","cb","package","distTags","auth","p","pkg","scope","replace","rest","options","method","body","JSON","stringify","request","resolve"],"mappings":";;;;AAAAA,OAAOC,OAAP,GAAiBC,GAAjB;;AAEA,IAAIC,SAASC,QAAQ,QAAR,CAAb;AACA,IAAIC,MAAMD,QAAQ,KAAR,CAAV;;AAEA,IAAIE,MAAMF,QAAQ,iBAAR,CAAV;;AAEA,SAASF,GAAT,CAAcK,GAAd,EAAmBC,MAAnB,EAA2BC,EAA3B,EAA+B;AAC7BN,SAAO,OAAOI,GAAP,KAAe,QAAtB,EAAgC,wCAAhC;AACAJ,SACEK,UAAU,QAAOA,MAAP,yCAAOA,MAAP,OAAkB,QAD9B,EAEE,kCAFF;AAIAL,SAAO,OAAOM,EAAP,KAAc,UAArB,EAAiC,oCAAjC;;AAEAN,SACE,OAAOK,OAAOE,OAAd,KAA0B,QAD5B,EAEE,wCAFF;AAIAP,SACEK,OAAOG,QAAP,IAAmB,QAAOH,OAAOG,QAAd,MAA2B,QADhD,EAEE,wCAFF;AAIAR,SACEK,OAAOI,IAAP,IAAe,QAAOJ,OAAOI,IAAd,MAAuB,QADxC,EAEE,gCAFF;;AAKA,MAAIC,IAAIP,IAAIE,OAAOE,OAAX,CAAR;AACA,MAAII,MAAMD,EAAEE,KAAF,GAAUP,OAAOE,OAAP,CAAeM,OAAf,CAAuB,GAAvB,EAA4B,KAA5B,CAAV,GAA+CR,OAAOE,OAAhE;AACA,MAAIO,OAAO,eAAeH,GAAf,GAAqB,YAAhC;;AAEA,MAAII,UAAU;AACZC,YAAQ,KADI;AAEZC,UAAMC,KAAKC,SAAL,CAAed,OAAOG,QAAtB,CAFM;AAGZC,UAAMJ,OAAOI;AAHD,GAAd;AAKA,OAAKW,OAAL,CAAalB,IAAImB,OAAJ,CAAYjB,GAAZ,EAAiBU,IAAjB,CAAb,EAAqCC,OAArC,EAA8CT,EAA9C;AACD","file":"set.js","sourcesContent":["module.exports = set\n\nvar assert = require('assert')\nvar url = require('url')\n\nvar npa = require('npm-package-arg')\n\nfunction set (uri, params, cb) {\n  assert(typeof uri === 'string', 'must pass registry URI to distTags.set')\n  assert(\n    params && typeof params === 'object',\n    'must pass params to distTags.set'\n  )\n  assert(typeof cb === 'function', 'muss pass callback to distTags.set')\n\n  assert(\n    typeof params.package === 'string',\n    'must pass package name to distTags.set'\n  )\n  assert(\n    params.distTags && typeof params.distTags === 'object',\n    'must pass distTags map to distTags.set'\n  )\n  assert(\n    params.auth && typeof params.auth === 'object',\n    'must pass auth to distTags.set'\n  )\n\n  var p = npa(params.package)\n  var pkg = p.scope ? params.package.replace('/', '%2f') : params.package\n  var rest = '-/package/' + pkg + '/dist-tags'\n\n  var options = {\n    method: 'PUT',\n    body: JSON.stringify(params.distTags),\n    auth: params.auth\n  }\n  this.request(url.resolve(uri, rest), options, cb)\n}\n"]}