{"version":3,"sources":["../../../../../../../node_modules/npm/node_modules/npm-registry-client/lib/dist-tags/add.js"],"names":["module","exports","add","assert","require","url","npa","uri","params","cb","package","distTag","version","auth","p","pkg","scope","replace","rest","options","method","body","JSON","stringify","request","resolve"],"mappings":";;;;AAAAA,OAAOC,OAAP,GAAiBC,GAAjB;;AAEA,IAAIC,SAASC,QAAQ,QAAR,CAAb;AACA,IAAIC,MAAMD,QAAQ,KAAR,CAAV;;AAEA,IAAIE,MAAMF,QAAQ,iBAAR,CAAV;;AAEA,SAASF,GAAT,CAAcK,GAAd,EAAmBC,MAAnB,EAA2BC,EAA3B,EAA+B;AAC7BN,SAAO,OAAOI,GAAP,KAAe,QAAtB,EAAgC,wCAAhC;AACAJ,SACEK,UAAU,QAAOA,MAAP,yCAAOA,MAAP,OAAkB,QAD9B,EAEE,kCAFF;AAIAL,SAAO,OAAOM,EAAP,KAAc,UAArB,EAAiC,oCAAjC;;AAEAN,SACE,OAAOK,OAAOE,OAAd,KAA0B,QAD5B,EAEE,wCAFF;AAIAP,SACE,OAAOK,OAAOG,OAAd,KAA0B,QAD5B,EAEE,gDAFF;AAIAR,SACE,OAAOK,OAAOI,OAAd,KAA0B,QAD5B,EAEE,2DAFF;AAIAT,SACEK,OAAOK,IAAP,IAAe,QAAOL,OAAOK,IAAd,MAAuB,QADxC,EAEE,gCAFF;;AAKA,MAAIC,IAAIR,IAAIE,OAAOE,OAAX,CAAR;AACA,MAAIK,MAAMD,EAAEE,KAAF,GAAUR,OAAOE,OAAP,CAAeO,OAAf,CAAuB,GAAvB,EAA4B,KAA5B,CAAV,GAA+CT,OAAOE,OAAhE;AACA,MAAIQ,OAAO,eAAeH,GAAf,GAAqB,aAArB,GAAqCP,OAAOG,OAAvD;;AAEA,MAAIQ,UAAU;AACZC,YAAQ,KADI;AAEZC,UAAMC,KAAKC,SAAL,CAAef,OAAOI,OAAtB,CAFM;AAGZC,UAAML,OAAOK;AAHD,GAAd;AAKA,OAAKW,OAAL,CAAanB,IAAIoB,OAAJ,CAAYlB,GAAZ,EAAiBW,IAAjB,CAAb,EAAqCC,OAArC,EAA8CV,EAA9C;AACD","file":"add.js","sourcesContent":["module.exports = add\n\nvar assert = require('assert')\nvar url = require('url')\n\nvar npa = require('npm-package-arg')\n\nfunction add (uri, params, cb) {\n  assert(typeof uri === 'string', 'must pass registry URI to distTags.add')\n  assert(\n    params && typeof params === 'object',\n    'must pass params to distTags.add'\n  )\n  assert(typeof cb === 'function', 'muss pass callback to distTags.add')\n\n  assert(\n    typeof params.package === 'string',\n    'must pass package name to distTags.add'\n  )\n  assert(\n    typeof params.distTag === 'string',\n    'must pass package distTag name to distTags.add'\n  )\n  assert(\n    typeof params.version === 'string',\n    'must pass version to be mapped to distTag to distTags.add'\n  )\n  assert(\n    params.auth && typeof params.auth === 'object',\n    'must pass auth to distTags.add'\n  )\n\n  var p = npa(params.package)\n  var pkg = p.scope ? params.package.replace('/', '%2f') : params.package\n  var rest = '-/package/' + pkg + '/dist-tags/' + params.distTag\n\n  var options = {\n    method: 'PUT',\n    body: JSON.stringify(params.version),\n    auth: params.auth\n  }\n  this.request(url.resolve(uri, rest), options, cb)\n}\n"]}