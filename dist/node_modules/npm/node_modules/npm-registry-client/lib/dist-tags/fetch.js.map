{"version":3,"sources":["../../../../../../../node_modules/npm/node_modules/npm-registry-client/lib/dist-tags/fetch.js"],"names":["module","exports","fetch","assert","require","url","npa","uri","params","cb","package","auth","p","pkg","scope","replace","rest","options","method","request","resolve","er","data","_etag"],"mappings":";;;;AAAAA,OAAOC,OAAP,GAAiBC,KAAjB;;AAEA,IAAIC,SAASC,QAAQ,QAAR,CAAb;AACA,IAAIC,MAAMD,QAAQ,KAAR,CAAV;;AAEA,IAAIE,MAAMF,QAAQ,iBAAR,CAAV;;AAEA,SAASF,KAAT,CAAgBK,GAAhB,EAAqBC,MAArB,EAA6BC,EAA7B,EAAiC;AAC/BN,SAAO,OAAOI,GAAP,KAAe,QAAtB,EAAgC,0CAAhC;AACAJ,SACEK,UAAU,QAAOA,MAAP,yCAAOA,MAAP,OAAkB,QAD9B,EAEE,oCAFF;AAIAL,SAAO,OAAOM,EAAP,KAAc,UAArB,EAAiC,sCAAjC;;AAEAN,SACE,OAAOK,OAAOE,OAAd,KAA0B,QAD5B,EAEE,0CAFF;AAIAP,SACEK,OAAOG,IAAP,IAAe,QAAOH,OAAOG,IAAd,MAAuB,QADxC,EAEE,kCAFF;;AAKA,MAAIC,IAAIN,IAAIE,OAAOE,OAAX,CAAR;AACA,MAAIG,MAAMD,EAAEE,KAAF,GAAUN,OAAOE,OAAP,CAAeK,OAAf,CAAuB,GAAvB,EAA4B,KAA5B,CAAV,GAA+CP,OAAOE,OAAhE;AACA,MAAIM,OAAO,eAAeH,GAAf,GAAqB,YAAhC;;AAEA,MAAII,UAAU;AACZC,YAAQ,KADI;AAEZP,UAAMH,OAAOG;AAFD,GAAd;AAIA,OAAKQ,OAAL,CAAad,IAAIe,OAAJ,CAAYb,GAAZ,EAAiBS,IAAjB,CAAb,EAAqCC,OAArC,EAA8C,UAAUI,EAAV,EAAcC,IAAd,EAAoB;AAChE,QAAIA,QAAQ,QAAOA,IAAP,yCAAOA,IAAP,OAAgB,QAA5B,EAAsC,OAAOA,KAAKC,KAAZ;AACtCd,OAAGY,EAAH,EAAOC,IAAP;AACD,GAHD;AAID","file":"fetch.js","sourcesContent":["module.exports = fetch\n\nvar assert = require('assert')\nvar url = require('url')\n\nvar npa = require('npm-package-arg')\n\nfunction fetch (uri, params, cb) {\n  assert(typeof uri === 'string', 'must pass registry URI to distTags.fetch')\n  assert(\n    params && typeof params === 'object',\n    'must pass params to distTags.fetch'\n  )\n  assert(typeof cb === 'function', 'must pass callback to distTags.fetch')\n\n  assert(\n    typeof params.package === 'string',\n    'must pass package name to distTags.fetch'\n  )\n  assert(\n    params.auth && typeof params.auth === 'object',\n    'must pass auth to distTags.fetch'\n  )\n\n  var p = npa(params.package)\n  var pkg = p.scope ? params.package.replace('/', '%2f') : params.package\n  var rest = '-/package/' + pkg + '/dist-tags'\n\n  var options = {\n    method: 'GET',\n    auth: params.auth\n  }\n  this.request(url.resolve(uri, rest), options, function (er, data) {\n    if (data && typeof data === 'object') delete data._etag\n    cb(er, data)\n  })\n}\n"]}