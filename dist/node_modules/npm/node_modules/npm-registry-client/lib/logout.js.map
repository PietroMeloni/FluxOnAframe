{"version":3,"sources":["../../../../../../node_modules/npm/node_modules/npm-registry-client/lib/logout.js"],"names":["module","exports","logout","assert","require","url","uri","params","cb","auth","token","resolve","options","method","log","verbose","request"],"mappings":";;;;AAAAA,OAAOC,OAAP,GAAiBC,MAAjB;;AAEA,IAAIC,SAASC,QAAQ,QAAR,CAAb;AACA,IAAIC,MAAMD,QAAQ,KAAR,CAAV;;AAEA,SAASF,MAAT,CAAiBI,GAAjB,EAAsBC,MAAtB,EAA8BC,EAA9B,EAAkC;AAChCL,SAAO,OAAOG,GAAP,KAAe,QAAtB,EAAgC,kCAAhC;AACAH,SAAOI,UAAU,QAAOA,MAAP,yCAAOA,MAAP,OAAkB,QAAnC,EAA6C,4BAA7C;AACAJ,SAAO,OAAOK,EAAP,KAAc,UAArB,EAAiC,4BAAjC;;AAEA,MAAIC,OAAOF,OAAOE,IAAlB;AACAN,SAAOM,QAAQ,QAAOA,IAAP,yCAAOA,IAAP,OAAgB,QAA/B,EAAyC,0BAAzC;AACAN,SAAO,OAAOM,KAAKC,KAAZ,KAAsB,QAA7B,EAAuC,iCAAvC;;AAEAJ,QAAMD,IAAIM,OAAJ,CAAYL,GAAZ,EAAiB,kBAAkBG,KAAKC,KAAxC,CAAN;AACA,MAAIE,UAAU;AACZC,YAAQ,QADI;AAEZJ,UAAMA;AAFM,GAAd;;AAKA,OAAKK,GAAL,CAASC,OAAT,CAAiB,QAAjB,EAA2B,qCAA3B;AACA,OAAKC,OAAL,CAAaV,GAAb,EAAkBM,OAAlB,EAA2BJ,EAA3B;AACD","file":"logout.js","sourcesContent":["module.exports = logout\n\nvar assert = require('assert')\nvar url = require('url')\n\nfunction logout (uri, params, cb) {\n  assert(typeof uri === 'string', 'must pass registry URI to logout')\n  assert(params && typeof params === 'object', 'must pass params to logout')\n  assert(typeof cb === 'function', 'must pass callback to star')\n\n  var auth = params.auth\n  assert(auth && typeof auth === 'object', 'must pass auth to logout')\n  assert(typeof auth.token === 'string', 'can only log out for token auth')\n\n  uri = url.resolve(uri, '-/user/token/' + auth.token)\n  var options = {\n    method: 'DELETE',\n    auth: auth\n  }\n\n  this.log.verbose('logout', 'invalidating session token for user')\n  this.request(uri, options, cb)\n}\n"]}