{"version":3,"sources":["../../../../../../../../../node_modules/npm/node_modules/npm-registry-client/node_modules/retry/test/integration/test-forever.js"],"names":["common","require","assert","retry","dir","lib","testForeverUsesFirstTimeout","operation","retries","minTimeout","maxTimeout","forever","attempt","numAttempt","console","log","err","Error","stop"],"mappings":";;AAAA,IAAIA,SAASC,QAAQ,WAAR,CAAb;AACA,IAAIC,SAASF,OAAOE,MAApB;AACA,IAAIC,QAAQF,QAAQD,OAAOI,GAAP,CAAWC,GAAX,GAAiB,QAAzB,CAAZ;;AAEA,CAAC,SAASC,2BAAT,GAAuC;AACtC,MAAIC,YAAYJ,MAAMI,SAAN,CAAgB;AAC9BC,aAAS,CADqB;AAE9BC,gBAAY,GAFkB;AAG9BC,gBAAY,GAHkB;AAI9BC,aAAS;AAJqB,GAAhB,CAAhB;;AAOAJ,YAAUK,OAAV,CAAkB,UAASC,UAAT,EAAqB;AACrCC,YAAQC,GAAR,CAAY,aAAZ,EAA2BF,UAA3B;AACA,QAAIG,MAAM,IAAIC,KAAJ,CAAU,KAAV,CAAV;AACA,QAAIJ,cAAc,EAAlB,EAAsB;AACpBN,gBAAUW,IAAV;AACD;;AAED,QAAIX,UAAUJ,KAAV,CAAgBa,GAAhB,CAAJ,EAA0B;AACxB;AACD;AACF,GAVD;AAWD,CAnBD","file":"test-forever.js","sourcesContent":["var common = require('../common');\nvar assert = common.assert;\nvar retry = require(common.dir.lib + '/retry');\n\n(function testForeverUsesFirstTimeout() {\n  var operation = retry.operation({\n    retries: 0,\n    minTimeout: 100,\n    maxTimeout: 100,\n    forever: true\n  });\n\n  operation.attempt(function(numAttempt) {\n    console.log('>numAttempt', numAttempt);\n    var err = new Error(\"foo\");\n    if (numAttempt == 10) {\n      operation.stop();\n    }\n\n    if (operation.retry(err)) {\n      return;\n    }\n  });\n})();\n"]}