{"version":3,"sources":["../../../../../../node_modules/npm/node_modules/slide/lib/chain.js"],"names":["module","exports","chain","bindActor","require","first","last","things","cb","res","LOOP","i","len","Array","isArray","apply","map","length","er","data","undefined","concat"],"mappings":";;AAAAA,OAAOC,OAAP,GAAiBC,KAAjB;AACA,IAAIC,YAAYC,QAAQ,iBAAR,CAAhB;AACAF,MAAMG,KAAN,GAAc,EAAd,CAAmBH,MAAMI,IAAN,GAAa,EAAb;AACnB,SAASJ,KAAT,CAAgBK,MAAhB,EAAwBC,EAAxB,EAA4B;AAC1B,MAAIC,MAAM,EAAV,CACC,CAAC,SAASC,IAAT,CAAeC,CAAf,EAAkBC,GAAlB,EAAuB;AACvB,QAAID,KAAKC,GAAT,EAAc,OAAOJ,GAAG,IAAH,EAAQC,GAAR,CAAP;AACd,QAAII,MAAMC,OAAN,CAAcP,OAAOI,CAAP,CAAd,CAAJ,EACEJ,OAAOI,CAAP,IAAYR,UAAUY,KAAV,CAAgB,IAAhB,EACVR,OAAOI,CAAP,EAAUK,GAAV,CAAc,UAASL,CAAT,EAAW;AACvB,aAAQA,MAAIT,MAAMG,KAAX,GAAoBI,IAAI,CAAJ,CAApB,GACHE,MAAIT,MAAMI,IAAX,GACEG,IAAIA,IAAIQ,MAAJ,GAAa,CAAjB,CADF,GACwBN,CAF3B;AAE8B,KAHhC,CADU,CAAZ;AAKF,QAAI,CAACJ,OAAOI,CAAP,CAAL,EAAgB,OAAOD,KAAKC,IAAI,CAAT,EAAYC,GAAZ,CAAP;AAChBL,WAAOI,CAAP,EAAU,UAAUO,EAAV,EAAcC,IAAd,EAAoB;AAC5B,UAAID,EAAJ,EAAQ,OAAOV,GAAGU,EAAH,EAAOT,GAAP,CAAP;AACR,UAAIU,SAASC,SAAb,EAAwBX,MAAMA,IAAIY,MAAJ,CAAWF,IAAX,CAAN;AACxBT,WAAKC,IAAI,CAAT,EAAYC,GAAZ;AACD,KAJD;AAKD,GAdA,EAcE,CAdF,EAcKL,OAAOU,MAdZ;AAcqB","file":"chain.js","sourcesContent":["module.exports = chain\nvar bindActor = require(\"./bind-actor.js\")\nchain.first = {} ; chain.last = {}\nfunction chain (things, cb) {\n  var res = []\n  ;(function LOOP (i, len) {\n    if (i >= len) return cb(null,res)\n    if (Array.isArray(things[i]))\n      things[i] = bindActor.apply(null,\n        things[i].map(function(i){\n          return (i===chain.first) ? res[0]\n           : (i===chain.last)\n             ? res[res.length - 1] : i }))\n    if (!things[i]) return LOOP(i + 1, len)\n    things[i](function (er, data) {\n      if (er) return cb(er, res)\n      if (data !== undefined) res = res.concat(data)\n      LOOP(i + 1, len)\n    })\n  })(0, things.length) }\n"]}