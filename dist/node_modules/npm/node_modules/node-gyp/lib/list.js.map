{"version":3,"sources":["../../../../../../node_modules/npm/node_modules/node-gyp/lib/list.js"],"names":["module","exports","list","usage","fs","require","path","log","gyp","args","callback","devDir","verbose","readdir","onreaddir","err","versions","code","Array","isArray","filter","v"],"mappings":";;AACAA,OAAOC,OAAP,GAAiBA,UAAUC,IAA3B;;AAEAD,QAAQE,KAAR,GAAgB,oEAAhB;;AAEA;;;;AAIA,IAAIC,KAAKC,QAAQ,aAAR,CAAT;AAAA,IACIC,OAAOD,QAAQ,MAAR,CADX;AAAA,IAEIE,MAAMF,QAAQ,QAAR,CAFV;;AAIA,SAASH,IAAT,CAAeM,GAAf,EAAoBC,IAApB,EAA0BC,QAA1B,EAAoC;;AAElC,MAAIC,SAASH,IAAIG,MAAjB;AACAJ,MAAIK,OAAJ,CAAY,MAAZ,EAAoB,qBAApB,EAA2CD,MAA3C;;AAEA;AACAP,KAAGS,OAAH,CAAWF,MAAX,EAAmBG,SAAnB;;AAEA,WAASA,SAAT,CAAoBC,GAApB,EAAyBC,QAAzB,EAAmC;AACjC,QAAID,OAAOA,IAAIE,IAAJ,IAAY,QAAvB,EAAiC;AAC/B,aAAOP,SAASK,GAAT,CAAP;AACD;AACD,QAAIG,MAAMC,OAAN,CAAcH,QAAd,CAAJ,EAA6B;AAC3BA,iBAAWA,SAASI,MAAT,CAAgB,UAAUC,CAAV,EAAa;AAAE,eAAOA,KAAK,SAAZ;AAAuB,OAAtD,CAAX;AACD,KAFD,MAEO;AACLL,iBAAW,EAAX;AACD;AACDN,aAAS,IAAT,EAAeM,QAAf;AACD;AACF","file":"list.js","sourcesContent":["\nmodule.exports = exports = list\n\nexports.usage = 'Prints a listing of the currently installed node development files'\n\n/**\n * Module dependencies.\n */\n\nvar fs = require('graceful-fs')\n  , path = require('path')\n  , log = require('npmlog')\n\nfunction list (gyp, args, callback) {\n\n  var devDir = gyp.devDir\n  log.verbose('list', 'using node-gyp dir:', devDir)\n\n  // readdir() the node-gyp dir\n  fs.readdir(devDir, onreaddir)\n\n  function onreaddir (err, versions) {\n    if (err && err.code != 'ENOENT') {\n      return callback(err)\n    }\n    if (Array.isArray(versions)) {\n      versions = versions.filter(function (v) { return v != 'current' })\n    } else {\n      versions = []\n    }\n    callback(null, versions)\n  }\n}\n"]}