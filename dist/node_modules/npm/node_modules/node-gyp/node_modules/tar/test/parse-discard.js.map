{"version":3,"sources":["../../../../../../../../node_modules/npm/node_modules/node-gyp/node_modules/tar/test/parse-discard.js"],"names":["tap","require","tar","fs","path","file","resolve","__dirname","test","t","parser","Parse","total","dataTotal","on","equals","end","createReadStream","pipe","entry","abort","size","data","length"],"mappings":";;AAAA,IAAIA,MAAMC,QAAQ,KAAR,CAAV;AAAA,IACIC,MAAMD,QAAQ,WAAR,CADV;AAAA,IAEIE,KAAKF,QAAQ,IAAR,CAFT;AAAA,IAGIG,OAAOH,QAAQ,MAAR,CAHX;AAAA,IAIII,OAAOD,KAAKE,OAAL,CAAaC,SAAb,EAAwB,gBAAxB,CAJX;;AAMAP,IAAIQ,IAAJ,CAAS,aAAT,EAAwB,UAAUC,CAAV,EAAa;AACnC,MAAIC,SAASR,IAAIS,KAAJ,EAAb;AACA,MAAIC,QAAQ,CAAZ;AACA,MAAIC,YAAY,CAAhB;;AAEAH,SAAOI,EAAP,CAAU,KAAV,EAAiB,YAAY;;AAE3BL,MAAEM,MAAF,CAASH,QAAM,GAAf,EAAmBC,SAAnB,EAA6B,kCAA7B;;AAEAJ,MAAEO,GAAF;AACD,GALD;;AAOAb,KAAGc,gBAAH,CAAoBZ,IAApB,EACGa,IADH,CACQR,MADR,EAEGI,EAFH,CAEM,OAFN,EAEc,UAASK,KAAT,EAAe;AACzB,QAAGA,MAAMf,IAAN,KAAe,OAAlB,EAA2Be,MAAMC,KAAN;;AAE3BR,aAASO,MAAME,IAAf;AACAF,UAAML,EAAN,CAAS,MAAT,EAAgB,UAASQ,IAAT,EAAc;AAC5BT,mBAAaS,KAAKC,MAAlB;AACD,KAFD;AAGD,GATH;AAUD,CAtBD","file":"parse-discard.js","sourcesContent":["var tap = require(\"tap\")\n  , tar = require(\"../tar.js\")\n  , fs = require(\"fs\")\n  , path = require(\"path\")\n  , file = path.resolve(__dirname, \"fixtures/c.tar\")\n\ntap.test(\"parser test\", function (t) {\n  var parser = tar.Parse()\n  var total = 0\n  var dataTotal = 0\n\n  parser.on(\"end\", function () {\n\n    t.equals(total-513,dataTotal,'should have discarded only c.txt')\n\n    t.end()\n  })\n\n  fs.createReadStream(file)\n    .pipe(parser)\n    .on('entry',function(entry){\n      if(entry.path === 'c.txt') entry.abort()\n      \n      total += entry.size;\n      entry.on('data',function(data){\n        dataTotal += data.length        \n      })\n    })\n})\n"]}