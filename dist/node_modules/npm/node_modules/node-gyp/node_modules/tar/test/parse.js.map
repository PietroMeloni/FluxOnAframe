{"version":3,"sources":["../../../../../../../../node_modules/npm/node_modules/node-gyp/node_modules/tar/test/parse.js"],"names":["tap","require","tar","fs","path","file","resolve","__dirname","index","expect","mode","uid","gid","size","mtime","Date","cksum","type","linkpath","ustar","ustarver","uname","gname","devmaj","devmin","fill","undefined","ctime","atime","dev","ino","nlink","test","t","parser","Parse","on","equal","length","end","createReadStream","pipe","ev","entry","wanted","fail","result","props","push","fields","body","equivalent"],"mappings":"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","file":"parse.js","sourcesContent":["var tap = require(\"tap\")\n  , tar = require(\"../tar.js\")\n  , fs = require(\"fs\")\n  , path = require(\"path\")\n  , file = path.resolve(__dirname, \"fixtures/c.tar\")\n  , index = 0\n\n  , expect =\n[ [ 'entry',\n    { path: 'c.txt',\n      mode: 420,\n      uid: 24561,\n      gid: 20,\n      size: 513,\n      mtime: new Date('Wed, 26 Oct 2011 01:10:58 GMT'),\n      cksum: 5422,\n      type: '0',\n      linkpath: '',\n      ustar: 'ustar\\0',\n      ustarver: '00',\n      uname: 'isaacs',\n      gname: 'staff',\n      devmaj: 0,\n      devmin: 0,\n      fill: '' },\n    undefined ],\n  [ 'entry',\n    { path: 'cc.txt',\n      mode: 420,\n      uid: 24561,\n      gid: 20,\n      size: 513,\n      mtime: new Date('Wed, 26 Oct 2011 01:11:02 GMT'),\n      cksum: 5525,\n      type: '0',\n      linkpath: '',\n      ustar: 'ustar\\0',\n      ustarver: '00',\n      uname: 'isaacs',\n      gname: 'staff',\n      devmaj: 0,\n      devmin: 0,\n      fill: '' },\n    undefined ],\n  [ 'entry',\n    { path: 'r/e/a/l/l/y/-/d/e/e/p/-/f/o/l/d/e/r/-/p/a/t/h/cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc',\n      mode: 420,\n      uid: 24561,\n      gid: 20,\n      size: 100,\n      mtime: new Date('Thu, 27 Oct 2011 03:43:23 GMT'),\n      cksum: 18124,\n      type: '0',\n      linkpath: '',\n      ustar: 'ustar\\0',\n      ustarver: '00',\n      uname: 'isaacs',\n      gname: 'staff',\n      devmaj: 0,\n      devmin: 0,\n      fill: '' },\n    undefined ],\n  [ 'entry',\n    { path: '立.txt',\n      mode: 420,\n      uid: 24561,\n      gid: 20,\n      size: 2,\n      mtime: new Date('Thu, 27 Oct 2011 17:51:49 GMT'),\n      cksum: 5695,\n      type: '0',\n      linkpath: '',\n      ustar: 'ustar\\0',\n      ustarver: '00',\n      uname: 'isaacs',\n      gname: 'staff',\n      devmaj: 0,\n      devmin: 0,\n      fill: '' },\n    undefined ],\n  [ 'extendedHeader',\n    { path: 'PaxHeader/立.txt',\n      mode: 420,\n      uid: 24561,\n      gid: 20,\n      size: 120,\n      mtime: new Date('Thu, 27 Oct 2011 17:51:49 GMT'),\n      cksum: 6702,\n      type: 'x',\n      linkpath: '',\n      ustar: 'ustar\\0',\n      ustarver: '00',\n      uname: 'isaacs',\n      gname: 'staff',\n      devmaj: 0,\n      devmin: 0,\n      fill: '' },\n    { path: '立.txt',\n      ctime: 1319737909,\n      atime: 1319739061,\n      dev: 234881026,\n      ino: 51693379,\n      nlink: 1 } ],\n  [ 'entry',\n    { path: '立.txt',\n      mode: 420,\n      uid: 24561,\n      gid: 20,\n      size: 2,\n      mtime: new Date('Thu, 27 Oct 2011 17:51:49 GMT'),\n      cksum: 5695,\n      type: '0',\n      linkpath: '',\n      ustar: 'ustar\\0',\n      ustarver: '00',\n      uname: 'isaacs',\n      gname: 'staff',\n      devmaj: 0,\n      devmin: 0,\n      fill: '',\n      ctime: new Date('Thu, 27 Oct 2011 17:51:49 GMT'),\n      atime: new Date('Thu, 27 Oct 2011 18:11:01 GMT'),\n      dev: 234881026,\n      ino: 51693379,\n      nlink: 1 },\n    undefined ],\n  [ 'extendedHeader',\n    { path: 'PaxHeader/200ccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc',\n      mode: 420,\n      uid: 24561,\n      gid: 20,\n      size: 353,\n      mtime: new Date('Thu, 27 Oct 2011 03:41:08 GMT'),\n      cksum: 14488,\n      type: 'x',\n      linkpath: '',\n      ustar: 'ustar\\0',\n      ustarver: '00',\n      uname: 'isaacs',\n      gname: 'staff',\n      devmaj: 0,\n      devmin: 0,\n      fill: '' },\n    { path: '200ccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc',\n      ctime: 1319686868,\n      atime: 1319741254,\n      'LIBARCHIVE.creationtime': '1319686852',\n      dev: 234881026,\n      ino: 51681874,\n      nlink: 1 } ],\n  [ 'entry',\n    { path: '200ccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc',\n      mode: 420,\n      uid: 24561,\n      gid: 20,\n      size: 200,\n      mtime: new Date('Thu, 27 Oct 2011 03:41:08 GMT'),\n      cksum: 14570,\n      type: '0',\n      linkpath: '',\n      ustar: 'ustar\\0',\n      ustarver: '00',\n      uname: 'isaacs',\n      gname: 'staff',\n      devmaj: 0,\n      devmin: 0,\n      fill: '',\n      ctime: new Date('Thu, 27 Oct 2011 03:41:08 GMT'),\n      atime: new Date('Thu, 27 Oct 2011 18:47:34 GMT'),\n      'LIBARCHIVE.creationtime': '1319686852',\n      dev: 234881026,\n      ino: 51681874,\n      nlink: 1 },\n    undefined ],\n  [ 'longPath',\n    { path: '././@LongLink',\n      mode: 0,\n      uid: 0,\n      gid: 0,\n      size: 201,\n      mtime: new Date('Thu, 01 Jan 1970 00:00:00 GMT'),\n      cksum: 4976,\n      type: 'L',\n      linkpath: '',\n      ustar: false },\n    '200ccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc' ],\n  [ 'entry',\n    { path: '200ccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc',\n      mode: 420,\n      uid: 1000,\n      gid: 1000,\n      size: 201,\n      mtime: new Date('Thu, 27 Oct 2011 22:21:50 GMT'),\n      cksum: 14086,\n      type: '0',\n      linkpath: '',\n      ustar: false },\n    undefined ],\n  [ 'longLinkpath',\n    { path: '././@LongLink',\n      mode: 0,\n      uid: 0,\n      gid: 0,\n      size: 201,\n      mtime: new Date('Thu, 01 Jan 1970 00:00:00 GMT'),\n      cksum: 4975,\n      type: 'K',\n      linkpath: '',\n      ustar: false },\n    '200ccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc' ],\n  [ 'longPath',\n    { path: '././@LongLink',\n      mode: 0,\n      uid: 0,\n      gid: 0,\n      size: 201,\n      mtime: new Date('Thu, 01 Jan 1970 00:00:00 GMT'),\n      cksum: 4976,\n      type: 'L',\n      linkpath: '',\n      ustar: false },\n    '200LLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLL' ],\n  [ 'entry',\n    { path: '200LLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLL',\n      mode: 511,\n      uid: 1000,\n      gid: 1000,\n      size: 0,\n      mtime: new Date('Fri, 28 Oct 2011 23:05:17 GMT'),\n      cksum: 21603,\n      type: '2',\n      linkpath: '200ccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc',\n      ustar: false },\n    undefined ],\n  [ 'extendedHeader',\n    { path: 'PaxHeader/200-hard',\n      mode: 420,\n      uid: 24561,\n      gid: 20,\n      size: 143,\n      mtime: new Date('Thu, 27 Oct 2011 03:41:08 GMT'),\n      cksum: 6533,\n      type: 'x',\n      linkpath: '',\n      ustar: 'ustar\\0',\n      ustarver: '00',\n      uname: 'isaacs',\n      gname: 'staff',\n      devmaj: 0,\n      devmin: 0,\n      fill: '' },\n    { ctime: 1320617144,\n      atime: 1320617232,\n      'LIBARCHIVE.creationtime': '1319686852',\n      dev: 234881026,\n      ino: 51681874,\n      nlink: 2 } ],\n  [ 'entry',\n    { path: '200-hard',\n      mode: 420,\n      uid: 24561,\n      gid: 20,\n      size: 200,\n      mtime: new Date('Thu, 27 Oct 2011 03:41:08 GMT'),\n      cksum: 5526,\n      type: '0',\n      linkpath: '',\n      ustar: 'ustar\\0',\n      ustarver: '00',\n      uname: 'isaacs',\n      gname: 'staff',\n      devmaj: 0,\n      devmin: 0,\n      fill: '',\n      ctime: new Date('Sun, 06 Nov 2011 22:05:44 GMT'),\n      atime: new Date('Sun, 06 Nov 2011 22:07:12 GMT'),\n      'LIBARCHIVE.creationtime': '1319686852',\n      dev: 234881026,\n      ino: 51681874,\n      nlink: 2 },\n    undefined ],\n  [ 'extendedHeader',\n    { path: 'PaxHeader/200ccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc',\n      mode: 420,\n      uid: 24561,\n      gid: 20,\n      size: 353,\n      mtime: new Date('Thu, 27 Oct 2011 03:41:08 GMT'),\n      cksum: 14488,\n      type: 'x',\n      linkpath: '',\n      ustar: 'ustar\\0',\n      ustarver: '00',\n      uname: 'isaacs',\n      gname: 'staff',\n      devmaj: 0,\n      devmin: 0,\n      fill: '' },\n    { path: '200ccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc',\n      ctime: 1320617144,\n      atime: 1320617406,\n      'LIBARCHIVE.creationtime': '1319686852',\n      dev: 234881026,\n      ino: 51681874,\n      nlink: 2 } ],\n  [ 'entry',\n    { path: '200ccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc',\n      mode: 420,\n      uid: 24561,\n      gid: 20,\n      size: 0,\n      mtime: new Date('Thu, 27 Oct 2011 03:41:08 GMT'),\n      cksum: 15173,\n      type: '1',\n      linkpath: '200-hard',\n      ustar: 'ustar\\0',\n      ustarver: '00',\n      uname: 'isaacs',\n      gname: 'staff',\n      devmaj: 0,\n      devmin: 0,\n      fill: '',\n      ctime: new Date('Sun, 06 Nov 2011 22:05:44 GMT'),\n      atime: new Date('Sun, 06 Nov 2011 22:10:06 GMT'),\n      'LIBARCHIVE.creationtime': '1319686852',\n      dev: 234881026,\n      ino: 51681874,\n      nlink: 2 },\n    undefined ] ]\n\n\ntap.test(\"parser test\", function (t) {\n  var parser = tar.Parse()\n\n  parser.on(\"end\", function () {\n    t.equal(index, expect.length, \"saw all expected events\")\n    t.end()\n  })\n\n  fs.createReadStream(file)\n    .pipe(parser)\n    .on(\"*\", function (ev, entry) {\n      var wanted = expect[index]\n      if (!wanted) {\n        return t.fail(\"Unexpected event: \" + ev)\n      }\n      var result = [ev, entry.props]\n      entry.on(\"end\", function () {\n        result.push(entry.fields || entry.body)\n\n        t.equal(ev, wanted[0], index + \" event type\")\n        t.equivalent(entry.props, wanted[1], wanted[1].path + \" entry properties\")\n        if (wanted[2]) {\n          t.equivalent(result[2], wanted[2], \"metadata values\")\n        }\n        index ++\n      })\n    })\n})\n"]}