{"version":3,"sources":["../../../../../node_modules/npm/node_modules/gauge/theme-set.js"],"names":["objectAssign","require","module","exports","ThemeSetProto","newThemeSet","baseTheme","newTheme","parent","theme","getThemeNames","Object","keys","themes","addTheme","name","addToAllThemes","forEach","getTheme","newMissingThemeError","setDefault","opts","platform","hasUnicode","hasColor","defaults","true","false","getDefault","platformName","process","fallback","newMissingDefaultThemeError","err","Error","captureStackTrace","call","code","themeset","JSON","parse","stringify"],"mappings":"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","file":"theme-set.js","sourcesContent":["'use strict'\nvar objectAssign = require('object-assign')\n\nmodule.exports = function () {\n  return ThemeSetProto.newThemeSet()\n}\n\nvar ThemeSetProto = {}\n\nThemeSetProto.baseTheme = require('./base-theme.js')\n\nThemeSetProto.newTheme = function (parent, theme) {\n  if (!theme) {\n    theme = parent\n    parent = this.baseTheme\n  }\n  return objectAssign({}, parent, theme)\n}\n\nThemeSetProto.getThemeNames = function () {\n  return Object.keys(this.themes)\n}\n\nThemeSetProto.addTheme = function (name, parent, theme) {\n  this.themes[name] = this.newTheme(parent, theme)\n}\n\nThemeSetProto.addToAllThemes = function (theme) {\n  var themes = this.themes\n  Object.keys(themes).forEach(function (name) {\n    objectAssign(themes[name], theme)\n  })\n  objectAssign(this.baseTheme, theme)\n}\n\nThemeSetProto.getTheme = function (name) {\n  if (!this.themes[name]) throw this.newMissingThemeError(name)\n  return this.themes[name]\n}\n\nThemeSetProto.setDefault = function (opts, name) {\n  if (name == null) {\n    name = opts\n    opts = {}\n  }\n  var platform = opts.platform == null ? 'fallback' : opts.platform\n  var hasUnicode = !!opts.hasUnicode\n  var hasColor = !!opts.hasColor\n  if (!this.defaults[platform]) this.defaults[platform] = {true: {}, false: {}}\n  this.defaults[platform][hasUnicode][hasColor] = name\n}\n\nThemeSetProto.getDefault = function (opts) {\n  if (!opts) opts = {}\n  var platformName = opts.platform || process.platform\n  var platform = this.defaults[platformName] || this.defaults.fallback\n  var hasUnicode = !!opts.hasUnicode\n  var hasColor = !!opts.hasColor\n  if (!platform) throw this.newMissingDefaultThemeError(platformName, hasUnicode, hasColor)\n  if (!platform[hasUnicode][hasColor]) {\n    if (hasUnicode && hasColor && platform[!hasUnicode][hasColor]) {\n      hasUnicode = false\n    } else if (hasUnicode && hasColor && platform[hasUnicode][!hasColor]) {\n      hasColor = false\n    } else if (hasUnicode && hasColor && platform[!hasUnicode][!hasColor]) {\n      hasUnicode = false\n      hasColor = false\n    } else if (hasUnicode && !hasColor && platform[!hasUnicode][hasColor]) {\n      hasUnicode = false\n    } else if (!hasUnicode && hasColor && platform[hasUnicode][!hasColor]) {\n      hasColor = false\n    } else if (platform === this.defaults.fallback) {\n      throw this.newMissingDefaultThemeError(platformName, hasUnicode, hasColor)\n    }\n  }\n  if (platform[hasUnicode][hasColor]) {\n    return this.getTheme(platform[hasUnicode][hasColor])\n  } else {\n    return this.getDefault(objectAssign({}, opts, {platform: 'fallback'}))\n  }\n}\n\nThemeSetProto.newMissingThemeError = function newMissingThemeError (name) {\n  var err = new Error('Could not find a gauge theme named \"' + name + '\"')\n  Error.captureStackTrace.call(err, newMissingThemeError)\n  err.theme = name\n  err.code = 'EMISSINGTHEME'\n  return err\n}\n\nThemeSetProto.newMissingDefaultThemeError = function newMissingDefaultThemeError (platformName, hasUnicode, hasColor) {\n  var err = new Error(\n    'Could not find a gauge theme for your platform/unicode/color use combo:\\n' +\n    '    platform = ' + platformName + '\\n' +\n    '    hasUnicode = ' + hasUnicode + '\\n' +\n    '    hasColor = ' + hasColor)\n  Error.captureStackTrace.call(err, newMissingDefaultThemeError)\n  err.platform = platformName\n  err.hasUnicode = hasUnicode\n  err.hasColor = hasColor\n  err.code = 'EMISSINGTHEME'\n  return err\n}\n\nThemeSetProto.newThemeSet = function () {\n  var themeset = function (opts) {\n    return themeset.getDefault(opts)\n  }\n  return objectAssign(themeset, ThemeSetProto, {\n    themes: objectAssign({}, this.themes),\n    baseTheme: objectAssign({}, this.baseTheme),\n    defaults: JSON.parse(JSON.stringify(this.defaults || {}))\n  })\n}\n\n"]}