{"version":3,"sources":["../../../../../node_modules/npm/node_modules/npm-run-path/index.js"],"names":["path","require","pathKey","module","exports","opts","Object","assign","cwd","process","env","prev","pth","resolve","ret","push","join","dirname","execPath","concat","delimiter"],"mappings":"AAAA;;AACA,IAAMA,OAAOC,QAAQ,MAAR,CAAb;AACA,IAAMC,UAAUD,QAAQ,UAAR,CAAhB;;AAEAE,OAAOC,OAAP,GAAiB,gBAAQ;AACxBC,QAAOC,OAAOC,MAAP,CAAc;AACpBC,OAAKC,QAAQD,GAAR,EADe;AAEpBR,QAAMS,QAAQC,GAAR,CAAYR,SAAZ;AAFc,EAAd,EAGJG,IAHI,CAAP;;AAKA,KAAIM,aAAJ;AACA,KAAIC,MAAMZ,KAAKa,OAAL,CAAaR,KAAKG,GAAlB,CAAV;AACA,KAAMM,MAAM,EAAZ;;AAEA,QAAOH,SAASC,GAAhB,EAAqB;AACpBE,MAAIC,IAAJ,CAASf,KAAKgB,IAAL,CAAUJ,GAAV,EAAe,mBAAf,CAAT;AACAD,SAAOC,GAAP;AACAA,QAAMZ,KAAKa,OAAL,CAAaD,GAAb,EAAkB,IAAlB,CAAN;AACA;;AAED;AACAE,KAAIC,IAAJ,CAASf,KAAKiB,OAAL,CAAaR,QAAQS,QAArB,CAAT;;AAEA,QAAOJ,IAAIK,MAAJ,CAAWd,KAAKL,IAAhB,EAAsBgB,IAAtB,CAA2BhB,KAAKoB,SAAhC,CAAP;AACA,CApBD;;AAsBAjB,OAAOC,OAAP,CAAeM,GAAf,GAAqB,gBAAQ;AAC5BL,QAAOC,OAAOC,MAAP,CAAc;AACpBG,OAAKD,QAAQC;AADO,EAAd,EAEJL,IAFI,CAAP;;AAIA,KAAMK,MAAMJ,OAAOC,MAAP,CAAc,EAAd,EAAkBF,KAAKK,GAAvB,CAAZ;AACA,KAAMV,OAAOE,QAAQ,EAACQ,QAAD,EAAR,CAAb;;AAEAL,MAAKL,IAAL,GAAYU,IAAIV,IAAJ,CAAZ;AACAU,KAAIV,IAAJ,IAAYG,OAAOC,OAAP,CAAeC,IAAf,CAAZ;;AAEA,QAAOK,GAAP;AACA,CAZD","file":"index.js","sourcesContent":["'use strict';\nconst path = require('path');\nconst pathKey = require('path-key');\n\nmodule.exports = opts => {\n\topts = Object.assign({\n\t\tcwd: process.cwd(),\n\t\tpath: process.env[pathKey()]\n\t}, opts);\n\n\tlet prev;\n\tlet pth = path.resolve(opts.cwd);\n\tconst ret = [];\n\n\twhile (prev !== pth) {\n\t\tret.push(path.join(pth, 'node_modules/.bin'));\n\t\tprev = pth;\n\t\tpth = path.resolve(pth, '..');\n\t}\n\n\t// ensure the running `node` binary is used\n\tret.push(path.dirname(process.execPath));\n\n\treturn ret.concat(opts.path).join(path.delimiter);\n};\n\nmodule.exports.env = opts => {\n\topts = Object.assign({\n\t\tenv: process.env\n\t}, opts);\n\n\tconst env = Object.assign({}, opts.env);\n\tconst path = pathKey({env});\n\n\topts.path = env[path];\n\tenv[path] = module.exports(opts);\n\n\treturn env;\n};\n"]}