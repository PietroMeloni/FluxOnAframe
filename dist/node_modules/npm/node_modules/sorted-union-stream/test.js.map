{"version":3,"sources":["../../../../../node_modules/npm/node_modules/sorted-union-stream/test.js"],"names":["Readable","require","tape","union","t","a","objectMode","b","_read","push","u","expected","on","data","same","shift","length","end","key","bar","plan","destroy","ok"],"mappings":"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","file":"test.js","sourcesContent":["var Readable = require('stream').Readable\nvar tape = require('tape')\nvar union = require('./')\n\ntape('numbers', function (t) {\n  var a = new Readable({objectMode: true})\n  var b = new Readable({objectMode: true})\n  a._read = b._read = function () {}\n\n  a.push(4)\n  a.push(6)\n  a.push(10)\n  a.push(14)\n  a.push(15)\n  a.push(20)\n  a.push(22)\n  a.push(null)\n\n  b.push(6)\n  b.push(11)\n  b.push(20)\n  b.push(null)\n\n  var u = union(a, b)\n  var expected = [4, 6, 10, 11, 14, 15, 20, 22]\n\n  u.on('data', function (data) {\n    t.same(data, expected.shift())\n  })\n\n  u.on('end', function () {\n    t.same(expected.length, 0, 'no more data')\n    t.end()\n  })\n})\n\ntape('string', function (t) {\n  var a = new Readable({objectMode: true})\n  var b = new Readable({objectMode: true})\n  a._read = b._read = function () {}\n\n  a.push('04')\n  a.push('06')\n  a.push('10')\n  a.push('14')\n  a.push('15')\n  a.push('20')\n  a.push('22')\n  a.push(null)\n\n  b.push('06')\n  b.push('11')\n  b.push('20')\n  b.push(null)\n\n  var u = union(a, b)\n  var expected = ['04', '06', '10', '11', '14', '15', '20', '22']\n\n  u.on('data', function (data) {\n    t.same(data, expected.shift())\n  })\n\n  u.on('end', function () {\n    t.same(expected.length, 0, 'no more data')\n    t.end()\n  })\n})\n\ntape('objects', function (t) {\n  var a = new Readable({objectMode: true})\n  var b = new Readable({objectMode: true})\n  a._read = b._read = function () {}\n\n  a.push({key: '04'})\n  a.push({key: '06'})\n  a.push({key: '10'})\n  a.push({key: '14'})\n  a.push({key: '15'})\n  a.push({key: '20'})\n  a.push({key: '22'})\n  a.push(null)\n\n  b.push({key: '06'})\n  b.push({key: '11'})\n  b.push({key: '20'})\n  b.push(null)\n\n  var u = union(a, b)\n  var expected = [{key: '04'}, {key: '06'}, {key: '10'}, {key: '11'}, {key: '14'}, {key: '15'}, {key: '20'}, {key: '22'}]\n\n  u.on('data', function (data) {\n    t.same(data, expected.shift())\n  })\n\n  u.on('end', function () {\n    t.same(expected.length, 0, 'no more data')\n    t.end()\n  })\n})\n\ntape('custom objects', function (t) {\n  var a = new Readable({objectMode: true})\n  var b = new Readable({objectMode: true})\n  a._read = b._read = function () {}\n\n  a.push({bar: '04'})\n  a.push({bar: '06'})\n  a.push({bar: '10'})\n  a.push({bar: '14'})\n  a.push({bar: '15'})\n  a.push({bar: '20'})\n  a.push({bar: '22'})\n  a.push(null)\n\n  b.push({bar: '06'})\n  b.push({bar: '11'})\n  b.push({bar: '20'})\n  b.push(null)\n\n  var u = union(a, b, function (data) {\n    return data.bar\n  })\n\n  var expected = [{bar: '04'}, {bar: '06'}, {bar: '10'}, {bar: '11'}, {bar: '14'}, {bar: '15'}, {bar: '20'}, {bar: '22'}]\n\n  u.on('data', function (data) {\n    t.same(data, expected.shift())\n  })\n\n  u.on('end', function () {\n    t.same(expected.length, 0, 'no more data')\n    t.end()\n  })\n})\n\ntape('destroy stream', function (t) {\n  var a = new Readable({objectMode: true})\n  var b = new Readable({objectMode: true})\n\n  a._read = function () {}\n  b._read = function () {}\n\n  t.plan(2)\n\n  a.destroy = function () {\n    t.ok(true)\n  }\n\n  b.destroy = function () {\n    t.ok(true)\n  }\n\n  union(a, b).destroy()\n})\n"]}