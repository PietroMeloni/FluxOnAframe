{"version":3,"sources":["../../../../../../../node_modules/npm/node_modules/sorted-union-stream/node_modules/from2/index.js"],"names":["Readable","require","inherits","module","exports","from2","ctor","obj","Proto","toFunction","list","slice","_","cb","length","shift","opts","read","Array","isArray","rs","_from","defaults","Class","override","_reading","destroyed","call","prototype","_read","size","self","check","err","data","destroy","push","process","nextTick","emit","objectMode","highWaterMark"],"mappings":"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","file":"index.js","sourcesContent":["var Readable = require('readable-stream').Readable\nvar inherits = require('inherits')\n\nmodule.exports = from2\n\nfrom2.ctor = ctor\nfrom2.obj = obj\n\nvar Proto = ctor()\n\nfunction toFunction(list) {\n  list = list.slice()\n  return function (_, cb) {\n    cb(null, list.length ? list.shift() : null)\n  }\n}\n\nfunction from2(opts, read) {\n  if (typeof opts !== 'object' || Array.isArray(opts)) {\n    read = opts\n    opts = {}\n  }\n  \n  if (Array.isArray(read)) read = toFunction(read)\n\n  var rs = new Proto(opts)\n  rs._from = read\n  return rs\n}\n\nfunction ctor(opts, read) {\n  if (typeof opts === 'function') {\n    read = opts\n    opts = {}\n  }\n\n  opts = defaults(opts)\n\n  inherits(Class, Readable)\n  function Class(override) {\n    if (!(this instanceof Class)) return new Class(override)\n    this._reading = false\n    this.destroyed = false\n    Readable.call(this, override || opts)\n  }\n\n  Class.prototype._from = read\n  Class.prototype._read = function(size) {\n    var self = this\n\n    if (this._reading || this.destroyed) return\n    this._reading = true\n    this._from(size, check)\n    function check(err, data) {\n      if (self.destroyed) return\n      if (err) return self.destroy(err)\n      if (data === null) return self.push(null)\n      self._reading = false\n      if (self.push(data)) self._read()\n    }\n  }\n\n  Class.prototype.destroy = function(err) {\n    if (this.destroyed) return\n    this.destroyed = true\n\n    var self = this\n    process.nextTick(function() {\n      if (err) self.emit('error', err)\n      self.emit('close')\n    })\n  }\n\n  return Class\n}\n\nfunction obj(opts, read) {\n  if (typeof opts === 'function' || Array.isArray(opts)) {\n    read = opts\n    opts = {}\n  }\n\n  opts = defaults(opts)\n  opts.objectMode = true\n  opts.highWaterMark = 16\n\n  return from2(opts, read)\n}\n\nfunction defaults(opts) {\n  opts = opts || {}\n  return opts\n}\n"]}