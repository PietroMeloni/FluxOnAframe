{"version":3,"sources":["../../../../../node_modules/npm/node_modules/make-fetch-happen/warning.js"],"names":["url","require","module","exports","setWarning","reqOrRes","code","message","replace","host","parse","jsonMessage","JSON","stringify","jsonDate","Date","toUTCString","header","headers"],"mappings":";;AAAA,IAAMA,MAAMC,QAAQ,KAAR,CAAZ;;AAEAC,OAAOC,OAAP,GAAiBC,UAAjB;;AAEA,SAASA,UAAT,CAAqBC,QAArB,EAA+BC,IAA/B,EAAqCC,OAArC,EAA8CC,OAA9C,EAAuD;AACrD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAMC,OAAOT,IAAIU,KAAJ,CAAUL,SAASL,GAAnB,EAAwBS,IAArC;AACA,MAAME,cAAcC,KAAKC,SAAL,CAAeN,OAAf,CAApB;AACA,MAAMO,WAAWF,KAAKC,SAAL,CAAe,IAAIE,IAAJ,GAAWC,WAAX,EAAf,CAAjB;AACA,MAAMC,SAAST,UAAU,KAAV,GAAkB,QAAjC;;AAEAH,WAASa,OAAT,CAAiBD,MAAjB,EACE,SADF,EAEKX,IAFL,SAEaG,IAFb,SAEqBE,WAFrB,SAEoCG,QAFpC;AAID","file":"warning.js","sourcesContent":["const url = require('url')\n\nmodule.exports = setWarning\n\nfunction setWarning (reqOrRes, code, message, replace) {\n  //   Warning    = \"Warning\" \":\" 1#warning-value\n  // warning-value = warn-code SP warn-agent SP warn-text [SP warn-date]\n  // warn-code  = 3DIGIT\n  // warn-agent = ( host [ \":\" port ] ) | pseudonym\n  //                 ; the name or pseudonym of the server adding\n  //                 ; the Warning header, for use in debugging\n  // warn-text  = quoted-string\n  // warn-date  = <\"> HTTP-date <\">\n  // (https://tools.ietf.org/html/rfc2616#section-14.46)\n  const host = url.parse(reqOrRes.url).host\n  const jsonMessage = JSON.stringify(message)\n  const jsonDate = JSON.stringify(new Date().toUTCString())\n  const header = replace ? 'set' : 'append'\n\n  reqOrRes.headers[header](\n    'Warning',\n    `${code} ${host} ${jsonMessage} ${jsonDate}`\n  )\n}\n"]}