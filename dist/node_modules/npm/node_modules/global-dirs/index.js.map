{"version":3,"sources":["../../../../../node_modules/npm/node_modules/global-dirs/index.js"],"names":["path","require","os","fs","ini","readRc","parse","readFileSync","fp","prefix","err","defaultNpmPrefix","process","env","PREFIX","platform","dirname","execPath","getNpmPrefix","homePrefix","join","homedir","globalConfigPrefix","resolve","APPDATA","existsSync","npmPrefix","getYarnPrefix","LOCALAPPDATA","configPrefix","exports","npm","packages","binaries","yarnPrefix","yarn"],"mappings":"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","file":"index.js","sourcesContent":["'use strict';\nconst path = require('path');\nconst os = require('os');\nconst fs = require('fs');\nconst ini = require('ini');\n\nconst readRc = fp => {\n\ttry {\n\t\treturn ini.parse(fs.readFileSync(fp, 'utf8')).prefix;\n\t} catch (err) {}\n};\n\nconst defaultNpmPrefix = (() => {\n\tif (process.env.PREFIX) {\n\t\treturn process.env.PREFIX;\n\t}\n\n\tif (process.platform === 'win32') {\n\t\t// `c:\\node\\node.exe` → `prefix=c:\\node\\`\n\t\treturn path.dirname(process.execPath);\n\t}\n\n\t// `/usr/local/bin/node` → `prefix=/usr/local`\n\treturn path.dirname(path.dirname(process.execPath));\n})();\n\nconst getNpmPrefix = () => {\n\tif (process.env.PREFIX) {\n\t\treturn process.env.PREFIX;\n\t}\n\n\tconst homePrefix = readRc(path.join(os.homedir(), '.npmrc'));\n\tif (homePrefix) {\n\t\treturn homePrefix;\n\t}\n\n\tconst globalConfigPrefix = readRc(path.resolve(defaultNpmPrefix, 'etc', 'npmrc'));\n\tif (globalConfigPrefix) {\n\t\treturn globalConfigPrefix;\n\t}\n\n\tif (process.platform === 'win32' && process.env.APPDATA) {\n\t\t// Hardcoded contents of `c:\\Program Files\\nodejs\\node_modules\\npm\\.npmrc`\n\t\tconst prefix = path.join(process.env.APPDATA, 'npm');\n\t\tif (fs.existsSync(prefix)) {\n\t\t\treturn prefix;\n\t\t}\n\t}\n\n\treturn defaultNpmPrefix;\n};\n\nconst npmPrefix = path.resolve(getNpmPrefix());\n\nconst getYarnPrefix = () => {\n\tif (process.env.PREFIX) {\n\t\treturn process.env.PREFIX;\n\t}\n\n\tif (process.platform === 'win32' && process.env.LOCALAPPDATA) {\n\t\tconst prefix = path.join(process.env.LOCALAPPDATA, 'Yarn');\n\t\tif (fs.existsSync(prefix)) {\n\t\t\treturn prefix;\n\t\t}\n\t}\n\n\tconst configPrefix = path.join(os.homedir(), '.config/yarn');\n\tif (fs.existsSync(configPrefix)) {\n\t\treturn configPrefix;\n\t}\n\n\tconst homePrefix = path.join(os.homedir(), '.yarn-config');\n\tif (fs.existsSync(homePrefix)) {\n\t\treturn homePrefix;\n\t}\n\n\t// Yarn supports the npm conventions but the inverse is not true\n\treturn npmPrefix;\n};\n\nexports.npm = {};\nexports.npm.prefix = npmPrefix;\nexports.npm.packages = path.join(npmPrefix, process.platform === 'win32' ? 'node_modules' : 'lib/node_modules');\nexports.npm.binaries = process.platform === 'win32' ? npmPrefix : path.join(npmPrefix, 'bin');\n\nconst yarnPrefix = path.resolve(getYarnPrefix());\nexports.yarn = {};\nexports.yarn.prefix = yarnPrefix;\nexports.yarn.packages = path.join(yarnPrefix, process.platform === 'win32' ? 'config/global/node_modules' : 'global/node_modules');\nexports.yarn.binaries = path.join(exports.yarn.packages, '.bin');\n"]}