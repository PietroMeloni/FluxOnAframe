{"version":3,"sources":["../../../../../../node_modules/npm/node_modules/request/lib/cookies.js"],"names":["tough","require","Cookie","CookieJar","exports","parse","str","uri","Error","loose","RequestJar","store","self","_jar","looseMode","prototype","setCookie","cookieOrStr","options","setCookieSync","getCookieString","getCookieStringSync","getCookies","getCookiesSync","jar"],"mappings":"AAAA;;AAEA,IAAIA,QAAQC,QAAQ,cAAR,CAAZ;;AAEA,IAAIC,SAASF,MAAME,MAAnB;AAAA,IACIC,YAAYH,MAAMG,SADtB;;AAIAC,QAAQC,KAAR,GAAgB,UAASC,GAAT,EAAc;AAC5B,MAAIA,OAAOA,IAAIC,GAAf,EAAoB;AAClBD,UAAMA,IAAIC,GAAV;AACD;AACD,MAAI,OAAOD,GAAP,KAAe,QAAnB,EAA6B;AAC3B,UAAM,IAAIE,KAAJ,CAAU,kDAAV,CAAN;AACD;AACD,SAAON,OAAOG,KAAP,CAAaC,GAAb,EAAkB,EAACG,OAAO,IAAR,EAAlB,CAAP;AACD,CARD;;AAUA;AACA,SAASC,UAAT,CAAoBC,KAApB,EAA2B;AACzB,MAAIC,OAAO,IAAX;AACAA,OAAKC,IAAL,GAAY,IAAIV,SAAJ,CAAcQ,KAAd,EAAqB,EAACG,WAAW,IAAZ,EAArB,CAAZ;AACD;AACDJ,WAAWK,SAAX,CAAqBC,SAArB,GAAiC,UAASC,WAAT,EAAsBV,GAAtB,EAA2BW,OAA3B,EAAoC;AACnE,MAAIN,OAAO,IAAX;AACA,SAAOA,KAAKC,IAAL,CAAUM,aAAV,CAAwBF,WAAxB,EAAqCV,GAArC,EAA0CW,WAAW,EAArD,CAAP;AACD,CAHD;AAIAR,WAAWK,SAAX,CAAqBK,eAArB,GAAuC,UAASb,GAAT,EAAc;AACnD,MAAIK,OAAO,IAAX;AACA,SAAOA,KAAKC,IAAL,CAAUQ,mBAAV,CAA8Bd,GAA9B,CAAP;AACD,CAHD;AAIAG,WAAWK,SAAX,CAAqBO,UAArB,GAAkC,UAASf,GAAT,EAAc;AAC9C,MAAIK,OAAO,IAAX;AACA,SAAOA,KAAKC,IAAL,CAAUU,cAAV,CAAyBhB,GAAzB,CAAP;AACD,CAHD;;AAKAH,QAAQoB,GAAR,GAAc,UAASb,KAAT,EAAgB;AAC5B,SAAO,IAAID,UAAJ,CAAeC,KAAf,CAAP;AACD,CAFD","file":"cookies.js","sourcesContent":["'use strict'\n\nvar tough = require('tough-cookie')\n\nvar Cookie = tough.Cookie\n  , CookieJar = tough.CookieJar\n\n\nexports.parse = function(str) {\n  if (str && str.uri) {\n    str = str.uri\n  }\n  if (typeof str !== 'string') {\n    throw new Error('The cookie function only accepts STRING as param')\n  }\n  return Cookie.parse(str, {loose: true})\n}\n\n// Adapt the sometimes-Async api of tough.CookieJar to our requirements\nfunction RequestJar(store) {\n  var self = this\n  self._jar = new CookieJar(store, {looseMode: true})\n}\nRequestJar.prototype.setCookie = function(cookieOrStr, uri, options) {\n  var self = this\n  return self._jar.setCookieSync(cookieOrStr, uri, options || {})\n}\nRequestJar.prototype.getCookieString = function(uri) {\n  var self = this\n  return self._jar.getCookieStringSync(uri)\n}\nRequestJar.prototype.getCookies = function(uri) {\n  var self = this\n  return self._jar.getCookiesSync(uri)\n}\n\nexports.jar = function(store) {\n  return new RequestJar(store)\n}\n"]}