{"version":3,"sources":["../../../../../../node_modules/npm/node_modules/mkdirp/test/chmod.js"],"names":["mkdirp","require","path","fs","test","_0777","parseInt","_0755","_0744","ps","i","dir","Math","floor","random","pow","toString","push","file","join","t","mode","er","ifError","stat","ok","isDirectory","equal","end"],"mappings":";;AAAA,IAAIA,SAASC,QAAQ,KAAR,EAAeD,MAA5B;AACA,IAAIE,OAAOD,QAAQ,MAAR,CAAX;AACA,IAAIE,KAAKF,QAAQ,IAAR,CAAT;AACA,IAAIG,OAAOH,QAAQ,KAAR,EAAeG,IAA1B;AACA,IAAIC,QAAQC,SAAS,MAAT,EAAiB,CAAjB,CAAZ;AACA,IAAIC,QAAQD,SAAS,MAAT,EAAiB,CAAjB,CAAZ;AACA,IAAIE,QAAQF,SAAS,MAAT,EAAiB,CAAjB,CAAZ;;AAEA,IAAIG,KAAK,CAAE,EAAF,EAAM,KAAN,CAAT;;AAEA,KAAK,IAAIC,IAAI,CAAb,EAAgBA,IAAI,EAApB,EAAwBA,GAAxB,EAA6B;AACzB,QAAIC,MAAMC,KAAKC,KAAL,CAAWD,KAAKE,MAAL,KAAgBF,KAAKG,GAAL,CAAS,EAAT,EAAY,CAAZ,CAA3B,EAA2CC,QAA3C,CAAoD,EAApD,CAAV;AACAP,OAAGQ,IAAH,CAAQN,GAAR;AACH;;AAED,IAAIO,OAAOT,GAAGU,IAAH,CAAQ,GAAR,CAAX;;AAEAf,KAAK,WAAL,EAAkB,UAAUgB,CAAV,EAAa;AAC3B,QAAIC,OAAOb,KAAX;AACAR,WAAOkB,IAAP,EAAaG,IAAb,EAAmB,UAAUC,EAAV,EAAc;AAC7BF,UAAEG,OAAF,CAAUD,EAAV,EAAc,kBAAd;AACAnB,WAAGqB,IAAH,CAAQN,IAAR,EAAc,UAAUI,EAAV,EAAcE,IAAd,EAAoB;AAC9BJ,cAAEG,OAAF,CAAUD,EAAV,EAAc,cAAd;AACAF,cAAEK,EAAF,CAAKD,QAAQA,KAAKE,WAAL,EAAb,EAAiC,qBAAjC;AACAN,cAAEO,KAAF,CAAQH,QAAQA,KAAKH,IAAL,GAAYhB,KAA5B,EAAmCgB,IAAnC,EAAyC,gBAAzC;AACAD,cAAEQ,GAAF;AACH,SALD;AAMH,KARD;AASH,CAXD;;AAaAxB,KAAK,OAAL,EAAc,UAAUgB,CAAV,EAAa;AACvB,QAAIC,OAAOd,KAAX;AACAP,WAAOkB,IAAP,EAAaG,IAAb,EAAmB,UAAUC,EAAV,EAAc;AAC7BF,UAAEG,OAAF,CAAUD,EAAV,EAAc,kBAAd;AACAnB,WAAGqB,IAAH,CAAQN,IAAR,EAAc,UAAUI,EAAV,EAAcE,IAAd,EAAoB;AAC9BJ,cAAEG,OAAF,CAAUD,EAAV,EAAc,cAAd;AACAF,cAAEK,EAAF,CAAKD,QAAQA,KAAKE,WAAL,EAAb,EAAiC,qBAAjC;AACAN,cAAEQ,GAAF;AACH,SAJD;AAKH,KAPD;AAQH,CAVD","file":"chmod.js","sourcesContent":["var mkdirp = require('../').mkdirp;\nvar path = require('path');\nvar fs = require('fs');\nvar test = require('tap').test;\nvar _0777 = parseInt('0777', 8);\nvar _0755 = parseInt('0755', 8);\nvar _0744 = parseInt('0744', 8);\n\nvar ps = [ '', 'tmp' ];\n\nfor (var i = 0; i < 25; i++) {\n    var dir = Math.floor(Math.random() * Math.pow(16,4)).toString(16);\n    ps.push(dir);\n}\n\nvar file = ps.join('/');\n\ntest('chmod-pre', function (t) {\n    var mode = _0744\n    mkdirp(file, mode, function (er) {\n        t.ifError(er, 'should not error');\n        fs.stat(file, function (er, stat) {\n            t.ifError(er, 'should exist');\n            t.ok(stat && stat.isDirectory(), 'should be directory');\n            t.equal(stat && stat.mode & _0777, mode, 'should be 0744');\n            t.end();\n        });\n    });\n});\n\ntest('chmod', function (t) {\n    var mode = _0755\n    mkdirp(file, mode, function (er) {\n        t.ifError(er, 'should not error');\n        fs.stat(file, function (er, stat) {\n            t.ifError(er, 'should exist');\n            t.ok(stat && stat.isDirectory(), 'should be directory');\n            t.end();\n        });\n    });\n});\n"]}