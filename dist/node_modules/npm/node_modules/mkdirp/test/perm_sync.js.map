{"version":3,"sources":["../../../../../../node_modules/npm/node_modules/mkdirp/test/perm_sync.js"],"names":["mkdirp","require","path","fs","exists","test","_0777","parseInt","_0755","t","plan","file","Math","random","toString","sync","ex","ok","stat","err","ifError","equal","mode","isDirectory"],"mappings":";;AAAA,IAAIA,SAASC,QAAQ,KAAR,CAAb;AACA,IAAIC,OAAOD,QAAQ,MAAR,CAAX;AACA,IAAIE,KAAKF,QAAQ,IAAR,CAAT;AACA,IAAIG,SAASD,GAAGC,MAAH,IAAaF,KAAKE,MAA/B;AACA,IAAIC,OAAOJ,QAAQ,KAAR,EAAeI,IAA1B;AACA,IAAIC,QAAQC,SAAS,MAAT,EAAiB,CAAjB,CAAZ;AACA,IAAIC,QAAQD,SAAS,MAAT,EAAiB,CAAjB,CAAZ;;AAEAF,KAAK,WAAL,EAAkB,UAAUI,CAAV,EAAa;AAC3BA,MAAEC,IAAF,CAAO,CAAP;AACA,QAAIC,OAAO,UAAU,CAACC,KAAKC,MAAL,MAAiB,KAAG,EAApB,CAAD,EAA0BC,QAA1B,CAAmC,EAAnC,CAAV,GAAmD,OAA9D;;AAEAd,WAAOe,IAAP,CAAYJ,IAAZ,EAAkBH,KAAlB;AACAJ,WAAOO,IAAP,EAAa,UAAUK,EAAV,EAAc;AACvBP,UAAEQ,EAAF,CAAKD,EAAL,EAAS,cAAT;AACAb,WAAGe,IAAH,CAAQP,IAAR,EAAc,UAAUQ,GAAV,EAAeD,IAAf,EAAqB;AAC/BT,cAAEW,OAAF,CAAUD,GAAV;AACAV,cAAEY,KAAF,CAAQH,KAAKI,IAAL,GAAYhB,KAApB,EAA2BE,KAA3B;AACAC,cAAEQ,EAAF,CAAKC,KAAKK,WAAL,EAAL,EAAyB,wBAAzB;AACH,SAJD;AAKH,KAPD;AAQH,CAbD;;AAeAlB,KAAK,gBAAL,EAAuB,UAAUI,CAAV,EAAa;AAChCA,MAAEC,IAAF,CAAO,CAAP;;AAEA,QAAIC,OAAO,MAAX;AACAX,WAAOe,IAAP,CAAYJ,IAAZ,EAAkBH,KAAlB;AACAJ,WAAOO,IAAP,EAAa,UAAUK,EAAV,EAAc;AACvBP,UAAEQ,EAAF,CAAKD,EAAL,EAAS,cAAT;AACAb,WAAGe,IAAH,CAAQP,IAAR,EAAc,UAAUQ,GAAV,EAAeD,IAAf,EAAqB;AAC/BT,cAAEW,OAAF,CAAUD,GAAV;AACAV,cAAEQ,EAAF,CAAKC,KAAKK,WAAL,EAAL,EAAyB,wBAAzB;AACH,SAHD;AAIH,KAND;AAOH,CAZD","file":"perm_sync.js","sourcesContent":["var mkdirp = require('../');\nvar path = require('path');\nvar fs = require('fs');\nvar exists = fs.exists || path.exists;\nvar test = require('tap').test;\nvar _0777 = parseInt('0777', 8);\nvar _0755 = parseInt('0755', 8);\n\ntest('sync perm', function (t) {\n    t.plan(4);\n    var file = '/tmp/' + (Math.random() * (1<<30)).toString(16) + '.json';\n    \n    mkdirp.sync(file, _0755);\n    exists(file, function (ex) {\n        t.ok(ex, 'file created');\n        fs.stat(file, function (err, stat) {\n            t.ifError(err);\n            t.equal(stat.mode & _0777, _0755);\n            t.ok(stat.isDirectory(), 'target not a directory');\n        });\n    });\n});\n\ntest('sync root perm', function (t) {\n    t.plan(3);\n    \n    var file = '/tmp';\n    mkdirp.sync(file, _0755);\n    exists(file, function (ex) {\n        t.ok(ex, 'file created');\n        fs.stat(file, function (err, stat) {\n            t.ifError(err);\n            t.ok(stat.isDirectory(), 'target not a directory');\n        })\n    });\n});\n"]}