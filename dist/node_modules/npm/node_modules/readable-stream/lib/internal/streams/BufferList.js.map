{"version":3,"sources":["../../../../../../../../node_modules/npm/node_modules/readable-stream/lib/internal/streams/BufferList.js"],"names":["_classCallCheck","instance","Constructor","TypeError","Buffer","require","util","copyBuffer","src","target","offset","copy","module","exports","BufferList","head","tail","length","prototype","push","v","entry","data","next","unshift","shift","ret","clear","join","s","p","concat","n","alloc","allocUnsafe","i","inspect","custom","obj","constructor","name"],"mappings":"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","file":"BufferList.js","sourcesContent":["'use strict';\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Buffer = require('safe-buffer').Buffer;\nvar util = require('util');\n\nfunction copyBuffer(src, target, offset) {\n  src.copy(target, offset);\n}\n\nmodule.exports = function () {\n  function BufferList() {\n    _classCallCheck(this, BufferList);\n\n    this.head = null;\n    this.tail = null;\n    this.length = 0;\n  }\n\n  BufferList.prototype.push = function push(v) {\n    var entry = { data: v, next: null };\n    if (this.length > 0) this.tail.next = entry;else this.head = entry;\n    this.tail = entry;\n    ++this.length;\n  };\n\n  BufferList.prototype.unshift = function unshift(v) {\n    var entry = { data: v, next: this.head };\n    if (this.length === 0) this.tail = entry;\n    this.head = entry;\n    ++this.length;\n  };\n\n  BufferList.prototype.shift = function shift() {\n    if (this.length === 0) return;\n    var ret = this.head.data;\n    if (this.length === 1) this.head = this.tail = null;else this.head = this.head.next;\n    --this.length;\n    return ret;\n  };\n\n  BufferList.prototype.clear = function clear() {\n    this.head = this.tail = null;\n    this.length = 0;\n  };\n\n  BufferList.prototype.join = function join(s) {\n    if (this.length === 0) return '';\n    var p = this.head;\n    var ret = '' + p.data;\n    while (p = p.next) {\n      ret += s + p.data;\n    }return ret;\n  };\n\n  BufferList.prototype.concat = function concat(n) {\n    if (this.length === 0) return Buffer.alloc(0);\n    if (this.length === 1) return this.head.data;\n    var ret = Buffer.allocUnsafe(n >>> 0);\n    var p = this.head;\n    var i = 0;\n    while (p) {\n      copyBuffer(p.data, ret, i);\n      i += p.data.length;\n      p = p.next;\n    }\n    return ret;\n  };\n\n  return BufferList;\n}();\n\nif (util && util.inspect && util.inspect.custom) {\n  module.exports.prototype[util.inspect.custom] = function () {\n    var obj = util.inspect({ length: this.length });\n    return this.constructor.name + ' ' + obj;\n  };\n}"]}