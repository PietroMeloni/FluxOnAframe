{"version":3,"sources":["../../../../../../../node_modules/npm/node_modules/npm-registry-fetch/node_modules/cacache/rm.js"],"names":["BB","require","index","memo","path","rimraf","promisify","rmContent","module","exports","entry","cache","key","clearMemoized","delete","content","integrity","all","join"],"mappings":"AAAA;;AAEA,IAAMA,KAAKC,QAAQ,UAAR,CAAX;;AAEA,IAAMC,QAAQD,QAAQ,mBAAR,CAAd;AACA,IAAME,OAAOF,QAAQ,mBAAR,CAAb;AACA,IAAMG,OAAOH,QAAQ,MAAR,CAAb;AACA,IAAMI,SAASL,GAAGM,SAAH,CAAaL,QAAQ,QAAR,CAAb,CAAf;AACA,IAAMM,YAAYN,QAAQ,kBAAR,CAAlB;;AAEAO,OAAOC,OAAP,GAAiBC,KAAjB;AACAF,OAAOC,OAAP,CAAeC,KAAf,GAAuBA,KAAvB;AACA,SAASA,KAAT,CAAgBC,KAAhB,EAAuBC,GAAvB,EAA4B;AAC1BT,OAAKU,aAAL;AACA,SAAOX,MAAMY,MAAN,CAAaH,KAAb,EAAoBC,GAApB,CAAP;AACD;;AAEDJ,OAAOC,OAAP,CAAeM,OAAf,GAAyBA,OAAzB;AACA,SAASA,OAAT,CAAkBJ,KAAlB,EAAyBK,SAAzB,EAAoC;AAClCb,OAAKU,aAAL;AACA,SAAON,UAAUI,KAAV,EAAiBK,SAAjB,CAAP;AACD;;AAEDR,OAAOC,OAAP,CAAeQ,GAAf,GAAqBA,GAArB;AACA,SAASA,GAAT,CAAcN,KAAd,EAAqB;AACnBR,OAAKU,aAAL;AACA,SAAOR,OAAOD,KAAKc,IAAL,CAAUP,KAAV,EAAiB,sBAAjB,CAAP,CAAP;AACD","file":"rm.js","sourcesContent":["'use strict'\n\nconst BB = require('bluebird')\n\nconst index = require('./lib/entry-index')\nconst memo = require('./lib/memoization')\nconst path = require('path')\nconst rimraf = BB.promisify(require('rimraf'))\nconst rmContent = require('./lib/content/rm')\n\nmodule.exports = entry\nmodule.exports.entry = entry\nfunction entry (cache, key) {\n  memo.clearMemoized()\n  return index.delete(cache, key)\n}\n\nmodule.exports.content = content\nfunction content (cache, integrity) {\n  memo.clearMemoized()\n  return rmContent(cache, integrity)\n}\n\nmodule.exports.all = all\nfunction all (cache) {\n  memo.clearMemoized()\n  return rimraf(path.join(cache, '*(content-*|index-*)'))\n}\n"]}