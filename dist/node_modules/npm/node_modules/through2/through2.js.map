{"version":3,"sources":["../../../../../node_modules/npm/node_modules/through2/through2.js"],"names":["Transform","require","inherits","xtend","DestroyableTransform","opts","call","_destroyed","prototype","destroy","err","self","process","nextTick","emit","noop","chunk","enc","callback","through2","construct","options","transform","flush","module","exports","t2","_transform","_flush","ctor","Through2","override","obj","objectMode","highWaterMark"],"mappings":"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","file":"through2.js","sourcesContent":["var Transform = require('readable-stream/transform')\n  , inherits  = require('util').inherits\n  , xtend     = require('xtend')\n\nfunction DestroyableTransform(opts) {\n  Transform.call(this, opts)\n  this._destroyed = false\n}\n\ninherits(DestroyableTransform, Transform)\n\nDestroyableTransform.prototype.destroy = function(err) {\n  if (this._destroyed) return\n  this._destroyed = true\n  \n  var self = this\n  process.nextTick(function() {\n    if (err)\n      self.emit('error', err)\n    self.emit('close')\n  })\n}\n\n// a noop _transform function\nfunction noop (chunk, enc, callback) {\n  callback(null, chunk)\n}\n\n\n// create a new export function, used by both the main export and\n// the .ctor export, contains common logic for dealing with arguments\nfunction through2 (construct) {\n  return function (options, transform, flush) {\n    if (typeof options == 'function') {\n      flush     = transform\n      transform = options\n      options   = {}\n    }\n\n    if (typeof transform != 'function')\n      transform = noop\n\n    if (typeof flush != 'function')\n      flush = null\n\n    return construct(options, transform, flush)\n  }\n}\n\n\n// main export, just make me a transform stream!\nmodule.exports = through2(function (options, transform, flush) {\n  var t2 = new DestroyableTransform(options)\n\n  t2._transform = transform\n\n  if (flush)\n    t2._flush = flush\n\n  return t2\n})\n\n\n// make me a reusable prototype that I can `new`, or implicitly `new`\n// with a constructor call\nmodule.exports.ctor = through2(function (options, transform, flush) {\n  function Through2 (override) {\n    if (!(this instanceof Through2))\n      return new Through2(override)\n\n    this.options = xtend(options, override)\n\n    DestroyableTransform.call(this, this.options)\n  }\n\n  inherits(Through2, DestroyableTransform)\n\n  Through2.prototype._transform = transform\n\n  if (flush)\n    Through2.prototype._flush = flush\n\n  return Through2\n})\n\n\nmodule.exports.obj = through2(function (options, transform, flush) {\n  var t2 = new DestroyableTransform(xtend({ objectMode: true, highWaterMark: 16 }, options))\n\n  t2._transform = transform\n\n  if (flush)\n    t2._flush = flush\n\n  return t2\n})\n"]}