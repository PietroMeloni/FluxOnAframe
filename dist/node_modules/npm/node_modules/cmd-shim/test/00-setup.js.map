{"version":3,"sources":["../../../../../../node_modules/npm/node_modules/cmd-shim/test/00-setup.js"],"names":["test","require","mkdirp","fs","path","fixtures","resolve","__dirname","froms","cmdShim","t","er","pass","Object","keys","forEach","f","writeFile","end"],"mappings":";;AAAA,IAAIA,OAAOC,QAAQ,KAAR,EAAeD,IAA1B;AACA,IAAIE,SAASD,QAAQ,QAAR,CAAb;AACA,IAAIE,KAAKF,QAAQ,IAAR,CAAT;AACA,IAAIG,OAAOH,QAAQ,MAAR,CAAX;AACA,IAAII,WAAWD,KAAKE,OAAL,CAAaC,SAAb,EAAwB,UAAxB,CAAf;;AAEA,IAAIC,QAAQ;AACV,cAAY,KADF;AAEV,cAAY,0CAFF;AAGV,mBAAiB,yCAHP;AAIV,aAAW,0BAJD;AAKV,kBAAgB;AALN,CAAZ;;AAQA,IAAIC,UAAUR,QAAQ,KAAR,CAAd;;AAEAD,KAAK,gBAAL,EAAuB,UAAUU,CAAV,EAAa;AAClCR,SAAOG,QAAP,EAAiB,UAAUM,EAAV,EAAc;AAC7B,QAAIA,EAAJ,EACE,MAAMA,EAAN;AACFD,MAAEE,IAAF,CAAO,UAAP;AACAC,WAAOC,IAAP,CAAYN,KAAZ,EAAmBO,OAAnB,CAA2B,UAAUC,CAAV,EAAa;AACtCN,QAAEV,IAAF,CAAO,WAAWgB,CAAlB,EAAqB,UAAUN,CAAV,EAAa;AAChCP,WAAGc,SAAH,CAAab,KAAKE,OAAL,CAAaD,QAAb,EAAuBW,CAAvB,CAAb,EAAwCR,MAAMQ,CAAN,CAAxC,EAAkD,UAAUL,EAAV,EAAc;AAC9D,cAAIA,EAAJ,EACE,MAAMA,EAAN;AACFD,YAAEE,IAAF,CAAO,WAAWI,CAAlB;AACAN,YAAEQ,GAAF;AACD,SALD;AAMD,OAPD;AAQD,KATD;AAUAR,MAAEQ,GAAF;AACD,GAfD;AAgBD,CAjBD","file":"00-setup.js","sourcesContent":["var test = require('tap').test\nvar mkdirp = require('mkdirp')\nvar fs = require('fs')\nvar path = require('path')\nvar fixtures = path.resolve(__dirname, 'fixtures')\n\nvar froms = {\n  'from.exe': 'exe',\n  'from.env': '#!/usr/bin/env node\\nconsole.log(/hi/)\\n',\n  'from.env.args': '#!/usr/bin/env node --expose_gc\\ngc()\\n',\n  'from.sh': '#!/usr/bin/sh\\necho hi\\n',\n  'from.sh.args': '#!/usr/bin/sh -x\\necho hi\\n'\n}\n\nvar cmdShim = require('../')\n\ntest('create fixture', function (t) {\n  mkdirp(fixtures, function (er) {\n    if (er)\n      throw er\n    t.pass('made dir')\n    Object.keys(froms).forEach(function (f) {\n      t.test('write ' + f, function (t) {\n        fs.writeFile(path.resolve(fixtures, f), froms[f], function (er) {\n          if (er)\n            throw er\n          t.pass('wrote ' + f)\n          t.end()\n        })\n      })\n    })\n    t.end()\n  })\n})\n"]}