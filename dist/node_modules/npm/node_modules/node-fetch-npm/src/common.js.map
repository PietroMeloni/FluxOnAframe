{"version":3,"sources":["../../../../../../node_modules/npm/node_modules/node-fetch-npm/src/common.js"],"names":["isValidTokenChar","ch","checkIsHttpToken","val","length","charCodeAt","len","i","exports","checkInvalidHeaderChar","c"],"mappings":"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","file":"common.js","sourcesContent":["'use strict'\n/**\n * A set of utilities borrowed from Node.js' _http_common.js\n */\n\n/**\n * Verifies that the given val is a valid HTTP token\n * per the rules defined in RFC 7230\n * See https://tools.ietf.org/html/rfc7230#section-3.2.6\n *\n * Allowed characters in an HTTP token:\n * ^_`a-z  94-122\n * A-Z     65-90\n * -       45\n * 0-9     48-57\n * !       33\n * #$%&'   35-39\n * *+      42-43\n * .       46\n * |       124\n * ~       126\n *\n * This implementation of checkIsHttpToken() loops over the string instead of\n * using a regular expression since the former is up to 180% faster with v8 4.9\n * depending on the string length (the shorter the string, the larger the\n * performance difference)\n *\n * Additionally, checkIsHttpToken() is currently designed to be inlinable by v8,\n * so take care when making changes to the implementation so that the source\n * code size does not exceed v8's default max_inlined_source_size setting.\n **/\n/* istanbul ignore next */\nfunction isValidTokenChar (ch) {\n  if (ch >= 94 && ch <= 122) { return true }\n  if (ch >= 65 && ch <= 90) { return true }\n  if (ch === 45) { return true }\n  if (ch >= 48 && ch <= 57) { return true }\n  if (ch === 34 || ch === 40 || ch === 41 || ch === 44) { return false }\n  if (ch >= 33 && ch <= 46) { return true }\n  if (ch === 124 || ch === 126) { return true }\n  return false\n}\n/* istanbul ignore next */\nfunction checkIsHttpToken (val) {\n  if (typeof val !== 'string' || val.length === 0) { return false }\n  if (!isValidTokenChar(val.charCodeAt(0))) { return false }\n  const len = val.length\n  if (len > 1) {\n    if (!isValidTokenChar(val.charCodeAt(1))) { return false }\n    if (len > 2) {\n      if (!isValidTokenChar(val.charCodeAt(2))) { return false }\n      if (len > 3) {\n        if (!isValidTokenChar(val.charCodeAt(3))) { return false }\n        for (var i = 4; i < len; i++) {\n          if (!isValidTokenChar(val.charCodeAt(i))) { return false }\n        }\n      }\n    }\n  }\n  return true\n}\nexports.checkIsHttpToken = checkIsHttpToken\n\n/**\n * True if val contains an invalid field-vchar\n *  field-value    = *( field-content / obs-fold )\n *  field-content  = field-vchar [ 1*( SP / HTAB ) field-vchar ]\n *  field-vchar    = VCHAR / obs-text\n *\n * checkInvalidHeaderChar() is currently designed to be inlinable by v8,\n * so take care when making changes to the implementation so that the source\n * code size does not exceed v8's default max_inlined_source_size setting.\n **/\n/* istanbul ignore next */\nfunction checkInvalidHeaderChar (val) {\n  val += ''\n  if (val.length < 1) { return false }\n  var c = val.charCodeAt(0)\n  if ((c <= 31 && c !== 9) || c > 255 || c === 127) { return true }\n  if (val.length < 2) { return false }\n  c = val.charCodeAt(1)\n  if ((c <= 31 && c !== 9) || c > 255 || c === 127) { return true }\n  if (val.length < 3) { return false }\n  c = val.charCodeAt(2)\n  if ((c <= 31 && c !== 9) || c > 255 || c === 127) { return true }\n  for (var i = 3; i < val.length; ++i) {\n    c = val.charCodeAt(i)\n    if ((c <= 31 && c !== 9) || c > 255 || c === 127) { return true }\n  }\n  return false\n}\nexports.checkInvalidHeaderChar = checkInvalidHeaderChar\n"]}