{"version":3,"sources":["../../../../../../../node_modules/npm/node_modules/pacote/lib/util/finished.js"],"names":["BB","require","module","exports","child","hasExitCode","fromNode","cb","on","exitCode","undefined","err","Error"],"mappings":"AAAA;;AAEA,IAAMA,KAAKC,QAAQ,UAAR,CAAX;;AAEAC,OAAOC,OAAP,GAAiB,UAAUC,KAAV,EAAsC;AAAA,MAArBC,WAAqB,uEAAP,KAAO;;AACrD,SAAOL,GAAGM,QAAH,CAAY,UAAUC,EAAV,EAAc;AAC/BH,UAAMI,EAAN,CAAS,OAAT,EAAkBD,EAAlB;AACAH,UAAMI,EAAN,CAASH,cAAc,OAAd,GAAwB,KAAjC,EAAwC,UAAUI,QAAV,EAAoB;AAC1D,UAAIA,aAAaC,SAAb,IAA0BD,aAAa,CAA3C,EAA8C;AAC5CF;AACD,OAFD,MAEO;AACL,YAAII,MAAM,IAAIC,KAAJ,CAAU,6BAA6BH,QAAvC,CAAV;AACAF,WAAGI,GAAH;AACD;AACF,KAPD;AAQD,GAVM,CAAP;AAWD,CAZD","file":"finished.js","sourcesContent":["'use strict'\n\nconst BB = require('bluebird')\n\nmodule.exports = function (child, hasExitCode = false) {\n  return BB.fromNode(function (cb) {\n    child.on('error', cb)\n    child.on(hasExitCode ? 'close' : 'end', function (exitCode) {\n      if (exitCode === undefined || exitCode === 0) {\n        cb()\n      } else {\n        let err = new Error('exited with error code: ' + exitCode)\n        cb(err)\n      }\n    })\n  })\n}\n"]}