'use strict';

var BB = require('bluebird');

var Fetcher = require('../fetch');
var fetchRegistry = require('./registry');

var fetchRemote = module.exports = Object.create(null);

Fetcher.impl(fetchRemote, {
  manifest: function manifest(spec, opts) {
    // We can't get the manifest for a remote tarball until
    // we extract the tarball itself.
    // `finalize-manifest` takes care of this process of extracting
    // a manifest based on ./tarball.js
    return BB.resolve(null);
  },
  tarball: function tarball(spec, opts) {
    var uri = spec._resolved || spec.fetchSpec;
    return fetchRegistry.fromManifest({
      _resolved: uri,
      _integrity: opts.integrity
    }, spec, opts);
  },
  fromManifest: function fromManifest(manifest, spec, opts) {
    return this.tarball(manifest || spec, opts);
  }
});
//# sourceMappingURL=remote.js.map